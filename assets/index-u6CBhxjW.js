(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gm={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Aw(){if(Mv)return kl;Mv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var Vv;function Sw(){return Vv||(Vv=1,gm.exports=Aw()),gm.exports}var E=Sw(),pm={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function bw(){if(kv)return be;kv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,G={};function te(O,Q,ae){this.props=O,this.context=Q,this.refs=G,this.updater=ae||H}te.prototype.isReactComponent={},te.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ie(O,Q,ae){this.props=O,this.context=Q,this.refs=G,this.updater=ae||H}var de=ie.prototype=new ne;de.constructor=ie,K(de,te.prototype),de.isPureReactComponent=!0;var Ae=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Q,ae){var ce=ae.ref;return{$$typeof:s,type:O,key:Q,ref:ce!==void 0?ce:null,props:ae}}function M(O,Q){return C(O.type,Q,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return Q[ae]})}var N=/\/+/g;function tt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ye,ye):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,Q,ae,ce,Te){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(Ie){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case s:case e:je=!0;break;case T:return je=O._init,X(je(O._payload),Q,ae,ce,Te)}}if(je)return Te=Te(O),je=ce===""?"."+tt(O,0):ce,Ae(Te)?(ae="",je!=null&&(ae=je.replace(N,"$&/")+"/"),X(Te,Q,ae,"",function(_r){return _r})):Te!=null&&(V(Te)&&(Te=M(Te,ae+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+je)),Q.push(Te)),1;je=0;var xt=ce===""?".":ce+":";if(Ae(O))for(var rt=0;rt<O.length;rt++)ce=O[rt],Ie=xt+tt(ce,rt),je+=X(ce,Q,ae,Ie,Te);else if(rt=x(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(ce=O.next()).done;)ce=ce.value,Ie=xt+tt(ce,rt++),je+=X(ce,Q,ae,Ie,Te);else if(Ie==="object"){if(typeof O.then=="function")return X(ct(O),Q,ae,ce,Te);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return je}function re(O,Q,ae){if(O==null)return O;var ce=[],Te=0;return X(O,ce,"","",function(Ie){return Q.call(ae,Ie,Te++)}),ce}function me(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ue={map:re,forEach:function(O,Q,ae){re(O,function(){Q.apply(this,arguments)},ae)},count:function(O){var Q=0;return re(O,function(){Q++}),Q},toArray:function(O){return re(O,function(Q){return Q})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return be.Activity=A,be.Children=ue,be.Component=te,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=r,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(O,Q,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=K({},O.props),Te=O.key;if(Q!=null)for(Ie in Q.key!==void 0&&(Te=""+Q.key),Q)!w.call(Q,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Q.ref===void 0||(ce[Ie]=Q[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=ae;else if(1<Ie){for(var je=Array(Ie),xt=0;xt<Ie;xt++)je[xt]=arguments[xt+2];ce.children=je}return C(O.type,Te,ce)},be.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},be.createElement=function(O,Q,ae){var ce,Te={},Ie=null;if(Q!=null)for(ce in Q.key!==void 0&&(Ie=""+Q.key),Q)w.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Q[ce]);var je=arguments.length-2;if(je===1)Te.children=ae;else if(1<je){for(var xt=Array(je),rt=0;rt<je;rt++)xt[rt]=arguments[rt+2];Te.children=xt}if(O&&O.defaultProps)for(ce in je=O.defaultProps,je)Te[ce]===void 0&&(Te[ce]=je[ce]);return C(O,Ie,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=V,be.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:me}},be.memo=function(O,Q){return{$$typeof:p,type:O,compare:Q===void 0?null:Q}},be.startTransition=function(O){var Q=I.T,ae={};I.T=ae;try{var ce=O(),Te=I.S;Te!==null&&Te(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ye,Le)}catch(Ie){Le(Ie)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),I.T=Q}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(O){return I.H.use(O)},be.useActionState=function(O,Q,ae){return I.H.useActionState(O,Q,ae)},be.useCallback=function(O,Q){return I.H.useCallback(O,Q)},be.useContext=function(O){return I.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},be.useEffect=function(O,Q){return I.H.useEffect(O,Q)},be.useEffectEvent=function(O){return I.H.useEffectEvent(O)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(O,Q,ae){return I.H.useImperativeHandle(O,Q,ae)},be.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},be.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},be.useMemo=function(O,Q){return I.H.useMemo(O,Q)},be.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},be.useReducer=function(O,Q,ae){return I.H.useReducer(O,Q,ae)},be.useRef=function(O){return I.H.useRef(O)},be.useState=function(O){return I.H.useState(O)},be.useSyncExternalStore=function(O,Q,ae){return I.H.useSyncExternalStore(O,Q,ae)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var Pv;function dg(){return Pv||(Pv=1,pm.exports=bw()),pm.exports}var P=dg(),ym={exports:{}},Pl={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function ww(){return Lv||(Lv=1,(function(s){function e(X,re){var me=X.length;X.push(re);e:for(;0<me;){var Le=me-1>>>1,ue=X[Le];if(0<o(ue,re))X[Le]=re,X[me]=ue,me=Le;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],me=X.pop();if(me!==re){X[0]=me;e:for(var Le=0,ue=X.length,O=ue>>>1;Le<O;){var Q=2*(Le+1)-1,ae=X[Q],ce=Q+1,Te=X[ce];if(0>o(ae,me))ce<ue&&0>o(Te,ae)?(X[Le]=Te,X[ce]=me,Le=ce):(X[Le]=ae,X[Q]=me,Le=Q);else if(ce<ue&&0>o(Te,me))X[Le]=Te,X[ce]=me,Le=ce;else break e}}return re}function o(X,re){var me=X.sortIndex-re.sortIndex;return me!==0?me:X.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,A=null,R=3,x=!1,H=!1,K=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var re=n(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=X)r(p),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(p)}}function Ae(X){if(K=!1,de(X),!H)if(n(g)!==null)H=!0,ye||(ye=!0,U());else{var re=n(p);re!==null&&ct(Ae,re.startTime-X)}}var ye=!1,I=-1,w=5,C=-1;function M(){return G?!0:!(s.unstable_now()-C<w)}function V(){if(G=!1,ye){var X=s.unstable_now();C=X;var re=!0;try{e:{H=!1,K&&(K=!1,ne(I),I=-1),x=!0;var me=R;try{t:{for(de(X),A=n(g);A!==null&&!(A.expirationTime>X&&M());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,R=A.priorityLevel;var ue=Le(A.expirationTime<=X);if(X=s.unstable_now(),typeof ue=="function"){A.callback=ue,de(X),re=!0;break t}A===n(g)&&r(g),de(X)}else r(g);A=n(g)}if(A!==null)re=!0;else{var O=n(p);O!==null&&ct(Ae,O.startTime-X),re=!1}}break e}finally{A=null,R=me,x=!1}re=void 0}}finally{re?U():ye=!1}}}var U;if(typeof ie=="function")U=function(){ie(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,tt=N.port2;N.port1.onmessage=V,U=function(){tt.postMessage(null)}}else U=function(){te(V,0)};function ct(X,re){I=te(function(){X(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(X){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var me=R;R=re;try{return X()}finally{R=me}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=R;R=X;try{return re()}finally{R=me}},s.unstable_scheduleCallback=function(X,re,me){var Le=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=me+ue,X={id:T++,callback:re,priorityLevel:X,startTime:me,expirationTime:ue,sortIndex:-1},me>Le?(X.sortIndex=me,e(p,X),n(g)===null&&X===n(p)&&(K?(ne(I),I=-1):K=!0,ct(Ae,me-Le))):(X.sortIndex=ue,e(g,X),H||x||(H=!0,ye||(ye=!0,U()))),X},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(X){var re=R;return function(){var me=R;R=re;try{return X.apply(this,arguments)}finally{R=me}}}})(vm)),vm}var Uv;function Rw(){return Uv||(Uv=1,_m.exports=ww()),_m.exports}var Em={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Cw(){if(jv)return Xt;jv=1;var s=dg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:p,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},Xt.flushSync=function(g){var p=h.T,T=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=p,r.p=T,r.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,A=m(T,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:x}):T==="script"&&r.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,A=m(T,p.crossOrigin);r.d.L(g,T,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Xt.requestFormReset=function(g){r.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Bv;function Iw(){if(Bv)return Em.exports;Bv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Em.exports=Cw(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Nw(){if(zv)return Pl;zv=1;var s=Rw(),e=dg(),n=Iw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case te:return"Profiler";case G:return"StrictMode";case Ae:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:tt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return tt(t(i))}catch{}}return null}var ct=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],ue=-1;function O(t){return{current:t}}function Q(t){0>ue||(t.current=Le[ue],Le[ue]=null,ue--)}function ae(t,i){ue++,Le[ue]=t.current,t.current=i}var ce=O(null),Te=O(null),Ie=O(null),je=O(null);function xt(t,i){switch(ae(Ie,i),ae(Te,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=nv(i),t=iv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ce),ae(ce,t)}function rt(){Q(ce),Q(Te),Q(Ie)}function _r(t){t.memoizedState!==null&&ae(je,t);var i=ce.current,a=iv(i,t.type);i!==a&&(ae(Te,t),ae(ce,a))}function ca(t){Te.current===t&&(Q(ce),Q(Te)),je.current===t&&(Q(je),xl._currentValue=me)}var ha,fa;function ai(t){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var xo=!1;function vr(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Y){var q=Y}Reflect.construct(t,[],$)}else{try{$.call()}catch(Y){q=Y}t.call($.prototype)}}else{try{throw Error()}catch(Y){q=Y}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),z=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===z.length)for(l=D.length-1,f=z.length-1;1<=l&&0<=f&&D[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==z[f]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return ai("Activity");default:return""}}function Mo(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,yf=s.unstable_shouldYield,Cu=s.unstable_requestPaint,tn=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,Vo=s.unstable_ImmediatePriority,ko=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,_f=s.unstable_LowPriority,Iu=s.unstable_IdlePriority,Nu=s.log,Du=s.unstable_setDisableYieldValue,zn=null,Bt=null;function wn(t){if(typeof Nu=="function"&&Du(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(zn,t)}catch{}}var dt=Math.clz32?Math.clz32:Ou,xu=Math.log,da=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(xu(t)/da|0)|0}var oi=256,Tr=262144,Et=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=li(l):(_&=S,_!==0?f=li(_):a||(a=S&~t,a!==0&&(f=li(a))))):(S=l&~d,S!==0?f=li(S):_!==0?f=li(_):a||(a=l&~t,a!==0&&(f=li(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-dt(a),$=1<<W;S[W]=0,D[W]=-1;var q=z[W];if(q!==null)for(z[W]=null,W=0;W<q.length;W++){var Y=q[W];Y!==null&&(Y.lane&=-536870913)}a&=~$}l!==0&&Sr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:br(a),(a&(t.suspendedLanes|i))!==0?0:a}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function qn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,kt="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ma="__reactEvents$"+Fn,Tf="__reactListeners$"+Fn,ku="__reactHandles$"+Fn,Pu="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function ga(t){delete t[Tt],delete t[kt],delete t[ma],delete t[Tf],delete t[ku]}function di(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[Tt])return a;t=cv(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function mi(t){var i=t[Pu];return i||(i=t[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[fi]=!0}var Uo=new Set,jo={};function gi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(jo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Ho={};function Lu(t){return vt.call(Ho,t)?!0:vt.call(zo,t)?!1:Bo.test(t)?Ho[t]=!0:(zo[t]=!0,!1)}function pa(t,i,a){if(Lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ys(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=ys(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ys(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function rn(t){return t.replace(Rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,Pt(i)):a!=null?Fo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Uu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Fo(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _s(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function vs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(ct(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Go(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Es.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ko=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,_i=null;function Cr(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(r(90));ya(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wr(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_s(t,!!a.multiple,i,!1)}}}var Ea=!1;function As(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(Ts!==null||_i!==null)&&(Vc(),Ts&&(i=Ts,t=_i,_i=Ts=null,Cr(i),t)))for(i=0;i<t.length;i++)Cr(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(In)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ir=!1}var vi=null,Qo=null,Nr=null;function Xo(){if(Nr)return Nr;var t,i=Qo,a=i.length,l,f="value"in vi?vi.value:vi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Nr=f.slice(t,1<l?1-l:void 0)}function Dr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Kn(){return!1}function zt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=zt(ji),Ss=A({},ji,{view:0,detail:0}),Wo=zt(Ss),bs,Ta,Ti,Aa=A({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(bs=t.screenX-Ti.screenX,Ta=t.screenY-Ti.screenY):Ta=bs=0,Ti=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Jo=zt(Aa),xr=A({},Aa,{dataTransfer:0}),Hu=zt(xr),qu=A({},Ss,{relatedTarget:0}),Or=zt(qu),Zo=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=zt(Zo),Sa=A({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gu=zt(Sa),Yu=A({},ji,{data:0}),Ai=zt(Yu),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xu[t])?!!i[t]:!1}function ws(){return Wu}var nn=A({},Ss,{key:function(t){if(t.key){var i=Ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=zt(nn),Zu=A({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=zt(Zu),c=A({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),y=zt(c),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(v),j=A({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=zt(j),se=A({},ji,{newState:0,oldState:0}),Re=zt(se),mt=[9,13,27,32],qe=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Nn=In&&"TextEvent"in window&&!at,Si=In&&(!qe||at&&8<at&&11>=at),Qn=" ",Xn=!1;function Mr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function YS(t,i){switch(t){case"compositionend":return ba(i);case"keypress":return i.which!==32?null:(Xn=!0,Qn);case"textInput":return t=i.data,t===Qn&&Xn?null:t;default:return null}}function KS(t,i){if(wa)return t==="compositionend"||!qe&&Mr(t,i)?(t=Xo(),Nr=Qo=vi=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!QS[t.type]:i==="textarea"}function mp(t,i,a,l){Ts?_i?_i.push(l):_i=[l]:Ts=l,i=zc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var $o=null,el=null;function XS(t){W_(t,0)}function $u(t){var i=mn(t);if(wr(i))return t}function gp(t,i){if(t==="change")return i}var pp=!1;if(In){var Af;if(In){var Sf="oninput"in document;if(!Sf){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Sf=typeof yp.oninput=="function"}Af=Sf}else Af=!1;pp=Af&&(!document.documentMode||9<document.documentMode)}function _p(){$o&&($o.detachEvent("onpropertychange",vp),el=$o=null)}function vp(t){if(t.propertyName==="value"&&$u(el)){var i=[];mp(i,el,t,Cn(t)),As(XS,i)}}function WS(t,i,a){t==="focusin"?(_p(),$o=i,el=a,$o.attachEvent("onpropertychange",vp)):t==="focusout"&&_p()}function JS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(el)}function ZS(t,i){if(t==="click")return $u(i)}function $S(t,i){if(t==="input"||t==="change")return $u(i)}function eb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:eb;function tl(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(i,f)||!pn(t[f],i[f]))return!1}return!0}function Ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,i){var a=Ep(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ep(a)}}function Ap(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ap(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tb=In&&"documentMode"in document&&11>=document.documentMode,Ra=null,wf=null,nl=null,Rf=!1;function bp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Ra==null||Ra!==yi(l)||(l=Ra,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=zc(wf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Vr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Cf={},wp={};In&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function kr(t){if(Cf[t])return Cf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in wp)return Cf[t]=i[a];return t}var Rp=kr("animationend"),Cp=kr("animationiteration"),Ip=kr("animationstart"),nb=kr("transitionrun"),ib=kr("transitionstart"),sb=kr("transitioncancel"),Np=kr("transitionend"),Dp=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Wn(t,i){Dp.set(t,i),gi(i,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ia=0,Nf=0;function tc(){for(var t=Ia,i=Nf=Ia=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var f=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&xp(a,f,d)}}function nc(t,i,a,l){Dn[Ia++]=t,Dn[Ia++]=i,Dn[Ia++]=a,Dn[Ia++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Df(t,i,a,l){return nc(t,i,a,l),ic(t)}function Pr(t,i){return nc(t,null,null,i),ic(t)}function xp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-dt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ic(t){if(50<bl)throw bl=0,jd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function rb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new rb(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Op(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")xf(t)&&(_=1);else if(typeof t=="string")_=cw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,f),t.elementType=C,t.lanes=d,t;case K:return Lr(a.children,f,d,i);case G:_=8,f|=24;break;case te:return t=yn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case Ae:return t=yn(13,a,i,f),t.elementType=Ae,t.lanes=d,t;case ye:return t=yn(19,a,i,f),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case de:_=11;break e;case I:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Lr(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Mp(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Mf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vp=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Vp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Mo(i)},Vp.set(t,i),i)}return{value:t,source:i,stack:Mo(i)}}var Da=[],xa=0,rc=null,il=0,On=[],Mn=0,Rs=null,bi=1,wi="";function Hi(t,i){Da[xa++]=il,Da[xa++]=rc,rc=t,il=i}function kp(t,i,a){On[Mn++]=bi,On[Mn++]=wi,On[Mn++]=Rs,Rs=t;var l=bi;t=wi;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var d=32-dt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,bi=1<<32-dt(i)+f|a<<f|l,wi=d+t}else bi=1<<d|a<<f|l,wi=t}function Vf(t){t.return!==null&&(Hi(t,1),kp(t,1,0))}function kf(t){for(;t===rc;)rc=Da[--xa],Da[xa]=null,il=Da[--xa],Da[xa]=null;for(;t===Rs;)Rs=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null}function Pp(t,i){On[Mn++]=bi,On[Mn++]=wi,On[Mn++]=Rs,bi=i.id,wi=i.overflow,Rs=t}var Ht=null,it=null,Ue=!1,Cs=null,Vn=!1,Pf=Error(r(519));function Is(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(xn(i,t)),Pf}function Lp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)xe(Rl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),vs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Is(t,!0)}function Up(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ht=Ht.return}}function Oa(t){if(t!==Ht)return!1;if(!Ue)return Up(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&it&&Is(t),Up(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=uv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=uv(t)}else i===27?(i=it,Hs(t.type)?(t=rm,rm=null,it=t):it=i):it=Ht?Pn(t.stateNode.nextSibling):null;return!0}function Ur(){it=Ht=null,Ue=!1}function Lf(){var t=Cs;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Cs=null),t}function sl(t){Cs===null?Cs=[t]:Cs.push(t)}var Uf=O(null),jr=null,qi=null;function Ns(t,i,a){ae(Uf,i._currentValue),i._currentValue=a}function Fi(t){t._currentValue=Uf.current,Q(Uf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Bf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ma(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;pn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===je.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}f=f.return}t!==null&&Bf(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){jr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return jp(jr,t)}function oc(t,i){return jr===null&&Br(t),jp(t,i)}function jp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(r(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var ab=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ob=s.unstable_scheduleCallback,lb=s.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new ab,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&ob(lb,function(){t.controller.abort()})}var al=null,Hf=0,Va=0,ka=null;function ub(t,i){if(al===null){var a=al=[];Hf=0,Va=Gd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Bp,Bp),i}function Bp(){if(--Hf===0&&al!==null){ka!==null&&(ka.status="fulfilled");var t=al;al=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var zp=X.S;X.S=function(t,i){b_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ub(t,i),zp!==null&&zp(t,i)};var zr=O(null);function qf(){var t=zr.current;return t!==null?t:$e.pooledCache}function lc(t,i){i===null?ae(zr,zr.current):ae(zr,i.pool)}function Hp(){var t=qf();return t===null?null:{parent:bt._currentValue,pool:t}}var Pa=Error(r(460)),Ff=Error(r(474)),uc=Error(r(542)),cc={then:function(){}};function qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yp(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yp(t),t}throw qr=i,Pa}}function Hr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Pa):a}}var qr=null;function Gp(){if(qr===null)throw Error(r(459));var t=qr;return qr=null,t}function Yp(t){if(t===Pa||t===uc)throw Error(r(483))}var La=null,ol=0;function hc(t){var i=ol;return ol+=1,La===null&&(La=[]),Fp(La,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Kp(t){function i(L,k){if(t){var B=L.deletions;B===null?(L.deletions=[k],L.flags|=16):B.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function f(L,k){return L=zi(L,k),L.index=0,L.sibling=null,L}function d(L,k,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<k?(L.flags|=67108866,k):B):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,k,B,J){return k===null||k.tag!==6?(k=Of(B,L.mode,J),k.return=L,k):(k=f(k,B),k.return=L,k)}function D(L,k,B,J){var ge=B.type;return ge===K?W(L,k,B.props.children,J,B.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Hr(ge)===k.type)?(k=f(k,B.props),ll(k,B),k.return=L,k):(k=sc(B.type,B.key,B.props,null,L.mode,J),ll(k,B),k.return=L,k)}function z(L,k,B,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Mf(B,L.mode,J),k.return=L,k):(k=f(k,B.children||[]),k.return=L,k)}function W(L,k,B,J,ge){return k===null||k.tag!==7?(k=Lr(B,L.mode,J,ge),k.return=L,k):(k=f(k,B),k.return=L,k)}function $(L,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Of(""+k,L.mode,B),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return B=sc(k.type,k.key,k.props,null,L.mode,B),ll(B,k),B.return=L,B;case H:return k=Mf(k,L.mode,B),k.return=L,k;case w:return k=Hr(k),$(L,k,B)}if(ct(k)||U(k))return k=Lr(k,L.mode,B,null),k.return=L,k;if(typeof k.then=="function")return $(L,hc(k),B);if(k.$$typeof===ie)return $(L,oc(L,k),B);fc(L,k)}return null}function q(L,k,B,J){var ge=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:S(L,k,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return B.key===ge?D(L,k,B,J):null;case H:return B.key===ge?z(L,k,B,J):null;case w:return B=Hr(B),q(L,k,B,J)}if(ct(B)||U(B))return ge!==null?null:W(L,k,B,J,null);if(typeof B.then=="function")return q(L,k,hc(B),J);if(B.$$typeof===ie)return q(L,k,oc(L,B),J);fc(L,B)}return null}function Y(L,k,B,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,S(k,L,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return L=L.get(J.key===null?B:J.key)||null,D(k,L,J,ge);case H:return L=L.get(J.key===null?B:J.key)||null,z(k,L,J,ge);case w:return J=Hr(J),Y(L,k,B,J,ge)}if(ct(J)||U(J))return L=L.get(B)||null,W(k,L,J,ge,null);if(typeof J.then=="function")return Y(L,k,B,hc(J),ge);if(J.$$typeof===ie)return Y(L,k,B,oc(k,J),ge);fc(k,J)}return null}function he(L,k,B,J){for(var ge=null,ze=null,fe=k,Ne=k=0,Me=null;fe!==null&&Ne<B.length;Ne++){fe.index>Ne?(Me=fe,fe=null):Me=fe.sibling;var He=q(L,fe,B[Ne],J);if(He===null){fe===null&&(fe=Me);break}t&&fe&&He.alternate===null&&i(L,fe),k=d(He,k,Ne),ze===null?ge=He:ze.sibling=He,ze=He,fe=Me}if(Ne===B.length)return a(L,fe),Ue&&Hi(L,Ne),ge;if(fe===null){for(;Ne<B.length;Ne++)fe=$(L,B[Ne],J),fe!==null&&(k=d(fe,k,Ne),ze===null?ge=fe:ze.sibling=fe,ze=fe);return Ue&&Hi(L,Ne),ge}for(fe=l(fe);Ne<B.length;Ne++)Me=Y(fe,L,Ne,B[Ne],J),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?Ne:Me.key),k=d(Me,k,Ne),ze===null?ge=Me:ze.sibling=Me,ze=Me);return t&&fe.forEach(function(Ks){return i(L,Ks)}),Ue&&Hi(L,Ne),ge}function _e(L,k,B,J){if(B==null)throw Error(r(151));for(var ge=null,ze=null,fe=k,Ne=k=0,Me=null,He=B.next();fe!==null&&!He.done;Ne++,He=B.next()){fe.index>Ne?(Me=fe,fe=null):Me=fe.sibling;var Ks=q(L,fe,He.value,J);if(Ks===null){fe===null&&(fe=Me);break}t&&fe&&Ks.alternate===null&&i(L,fe),k=d(Ks,k,Ne),ze===null?ge=Ks:ze.sibling=Ks,ze=Ks,fe=Me}if(He.done)return a(L,fe),Ue&&Hi(L,Ne),ge;if(fe===null){for(;!He.done;Ne++,He=B.next())He=$(L,He.value,J),He!==null&&(k=d(He,k,Ne),ze===null?ge=He:ze.sibling=He,ze=He);return Ue&&Hi(L,Ne),ge}for(fe=l(fe);!He.done;Ne++,He=B.next())He=Y(fe,L,Ne,He.value,J),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Ne:He.key),k=d(He,k,Ne),ze===null?ge=He:ze.sibling=He,ze=He);return t&&fe.forEach(function(Tw){return i(L,Tw)}),Ue&&Hi(L,Ne),ge}function Ze(L,k,B,J){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case x:e:{for(var ge=B.key;k!==null;){if(k.key===ge){if(ge=B.type,ge===K){if(k.tag===7){a(L,k.sibling),J=f(k,B.props.children),J.return=L,L=J;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Hr(ge)===k.type){a(L,k.sibling),J=f(k,B.props),ll(J,B),J.return=L,L=J;break e}a(L,k);break}else i(L,k);k=k.sibling}B.type===K?(J=Lr(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=sc(B.type,B.key,B.props,null,L.mode,J),ll(J,B),J.return=L,L=J)}return _(L);case H:e:{for(ge=B.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(L,k.sibling),J=f(k,B.children||[]),J.return=L,L=J;break e}else{a(L,k);break}else i(L,k);k=k.sibling}J=Mf(B,L.mode,J),J.return=L,L=J}return _(L);case w:return B=Hr(B),Ze(L,k,B,J)}if(ct(B))return he(L,k,B,J);if(U(B)){if(ge=U(B),typeof ge!="function")throw Error(r(150));return B=ge.call(B),_e(L,k,B,J)}if(typeof B.then=="function")return Ze(L,k,hc(B),J);if(B.$$typeof===ie)return Ze(L,k,oc(L,B),J);fc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(L,k.sibling),J=f(k,B),J.return=L,L=J):(a(L,k),J=Of(B,L.mode,J),J.return=L,L=J),_(L)):a(L,k)}return function(L,k,B,J){try{ol=0;var ge=Ze(L,k,B,J);return La=null,ge}catch(fe){if(fe===Pa||fe===uc)throw fe;var ze=yn(29,fe,null,L.mode);return ze.lanes=J,ze.return=L,ze}finally{}}}var Fr=Kp(!0),Qp=Kp(!1),Ds=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ic(t),xp(t,null,a),i}return nc(t,l,i,a),ic(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function Kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qf=!1;function cl(){if(Qf){var t=ka;if(t!==null)throw t}}function hl(t,i,a,l){Qf=!1;var f=t.updateQueue;Ds=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=z:S.next=z,W.lastBaseUpdate=D))}if(d!==null){var $=f.baseState;_=0,W=z=D=null,S=d;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(Oe&q)===q:(l&q)===q){q!==0&&q===Va&&(Qf=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,_e=S;q=i;var Ze=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){$=he.call(Ze,$,q);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,q=typeof he=="function"?he.call(Ze,$,q):he,q==null)break e;$=A({},$,q);break e;case 2:Ds=!0}}q=S.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(z=W=Y,D=$):W=W.next=Y,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(D=$),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Ls|=_,t.lanes=_,t.memoizedState=$}}function Xp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Wp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xp(a[t],i)}var Ua=O(null),dc=O(0);function Jp(t,i){t=$i,ae(dc,t),ae(Ua,i),$i=t|i.baseLanes}function Xf(){ae(dc,$i),ae(Ua,Ua.current)}function Wf(){$i=dc.current,Q(Ua),Q(dc)}var _n=O(null),kn=null;function Ms(t){var i=t.alternate;ae(gt,gt.current&1),ae(_n,t),kn===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(kn=t)}function Jf(t){ae(gt,gt.current),ae(_n,t),kn===null&&(kn=t)}function Zp(t){t.tag===22?(ae(gt,gt.current),ae(_n,t),kn===null&&(kn=t)):Vs()}function Vs(){ae(gt,gt.current),ae(_n,_n.current)}function vn(t){Q(_n),kn===t&&(kn=null),Q(gt)}var gt=O(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Ce=null,We=null,wt=null,gc=!1,ja=!1,Gr=!1,pc=0,fl=0,Ba=null,hb=0;function ht(){throw Error(r(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,f,d){return Gi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?ky:md,Gr=!1,d=a(l,f),Gr=!1,ja&&(d=ey(i,a,l,f)),$p(t),d}function $p(t){X.H=gl;var i=We!==null&&We.next!==null;if(Gi=0,wt=We=Ce=null,gc=!1,fl=0,Ba=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&ac(t)&&(Rt=!0))}function ey(t,i,a,l){Ce=t;var f=0;do{if(ja&&(Ba=null),fl=0,ja=!1,25<=f)throw Error(r(301));if(f+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Py,d=i(a,l)}while(ja);return d}function fb(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),i}function ed(){var t=pc!==0;return pc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Gi=0,wt=We=Ce=null,ja=!1,fl=pc=0,Ba=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Ce.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ce.memoizedState=wt=t:wt=wt.next=t}return wt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Ba===null&&(Ba=[]),t=Fp(Ba,t,i),i=Ce,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?ky:md),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ie)return qt(t)}throw Error(r(438,String(t)))}function id(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=pt();return sd(i,We,t)}function sd(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,D=null,z=i,W=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Oe&$)===$:(Gi&$)===$){var q=z.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Va&&(W=!0);else if((Gi&q)===q){z=z.next,q===Va&&(W=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=$,_=d):D=D.next=$,Ce.lanes|=q,Ls|=q;$=z.action,Gr&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Ce.lanes|=$,Ls|=$;z=z.next}while(z!==null&&z!==i);if(D===null?_=d:D.next=S,!pn(d,t.memoizedState)&&(Rt=!0,W&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var i=pt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);pn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,i,a){var l=Ce,f=pt(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!pn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,ld(sy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},iy.bind(null,l,f,a,i),null),$e===null)throw Error(r(349));d||(Gi&127)!==0||ny(l,i,a)}return a}function ny(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=yc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function iy(t,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&ay(t)}function sy(t,i,a){return a(function(){ry(i)&&ay(t)})}function ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function ay(t){var i=Pr(t,2);i!==null&&hn(i,t,2)}function ad(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Gr){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function oy(t,i,a,l){return t.baseState=a,sd(t,We,typeof l=="function"?l:Yi)}function db(t,i,a,l,f){if(Ac(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),D=X.S;D!==null&&D(_,S),uy(t,i,S)}catch(z){od(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),uy(t,i,d)}catch(z){od(t,i,z)}}function uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(t,i,l)},function(l){return od(t,i,l)}):cy(t,i,a)}function cy(t,i,a){i.status="fulfilled",i.value=a,hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ly(t,a)))}function od(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}t.action=null}function hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fy(t,i){return i}function dy(t,i){if(Ue){var a=$e.formState;if(a!==null){e:{var l=Ce;if(Ue){if(it){t:{for(var f=it,d=Vn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Pn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Pn(f.nextSibling),l=f.data==="F!";break e}}Is(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=Oy.bind(null,Ce,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Ce,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=db.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function my(t){var i=pt();return gy(i,We,t)}function gy(t,i,a){if(i=sd(t,i,fy)[0],t=vc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===Pa?uc:_}else l=i;i=pt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,za(9,{destroy:void 0},mb.bind(null,f,a),null)),[l,d,t]}function mb(t,i){t.action=i}function py(t){var i=pt(),a=We;if(a!==null)return gy(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=yc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function yy(){return pt().memoizedState}function Ec(t,i,a,l){var f=sn();Ce.flags|=t,f.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function Tc(t,i,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Zf(l,We.memoizedState.deps)?f.memoizedState=za(i,d,a,l):(Ce.flags|=t,f.memoizedState=za(1|i,d,a,l))}function _y(t,i){Ec(8390656,8,t,i)}function ld(t,i){Tc(2048,8,t,i)}function gb(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=yc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function vy(t){var i=pt().memoizedState;return gb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ey(t,i){return Tc(4,2,t,i)}function Ty(t,i){return Tc(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sy(t,i,a){a=a!=null?a.concat([t]):null,Tc(4,4,Ay.bind(null,i,t),a)}function ud(){}function by(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function wy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Gr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Gi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R_(),Ce.lanes|=t,Ls|=t,a)}function Ry(t,i,a,l){return pn(a,i)?a:Ua.current!==null?(t=cd(t,a,l),pn(t,i)||(Rt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=R_(),Ce.lanes|=t,Ls|=t,i)}function Cy(t,i,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,dd(t,!1,i,a);try{var D=f(),z=X.S;if(z!==null&&z(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=cb(D,l);ml(t,i,W,An(t))}else ml(t,i,l,An(t))}catch($){ml(t,i,{then:function(){},status:"rejected",reason:$},An())}finally{re.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function pb(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var f=Iy(t).queue;Cy(t,f,i,me,a===null?pb:function(){return Ny(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},An())}function fd(){return qt(xl)}function Dy(){return pt().memoizedState}function xy(){return pt().memoizedState}function yb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=xs(a);var l=Os(i,t,a);l!==null&&(hn(l,i,a),ul(l,i,a)),i={cache:zf()},t.payload=i;return}i=i.return}}function _b(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?My(i,a):(a=Df(t,i,a,l),a!==null&&(hn(a,t,l),Vy(a,i,l)))}function Oy(t,i,a){var l=An();ml(t,i,a,l)}function ml(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))My(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,pn(S,_))return nc(t,i,f,0),$e===null&&tc(),!1}catch{}finally{}if(a=Df(t,i,f,l),a!==null)return hn(a,t,l),Vy(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(r(479))}else i=Df(t,a,l,2),i!==null&&hn(i,t,2)}function Ac(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function My(t,i){ja=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var gl={readContext:qt,use:_c,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};gl.useEffectEvent=ht;var ky={readContext:qt,use:_c,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:_y,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,Ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ec(4194308,4,t,i)},useInsertionEffect:function(t,i){Ec(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Gr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Gr){wn(!0);try{a(i)}finally{wn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=_b.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,a=Oy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=sn();return cd(a,t,i)},useTransition:function(){var t=ad(!1);return t=Cy.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=sn();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),$e===null)throw Error(r(349));(Oe&127)!==0||ny(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,_y(sy.bind(null,l,d,t),[t]),l.flags|=2048,za(9,{destroy:void 0},iy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=$e.identifierPrefix;if(Ue){var a=wi,l=bi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=pc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:dy,useActionState:dy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return sn().memoizedState=yb.bind(null,Ce)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},md={readContext:qt,use:_c,useCallback:by,useContext:qt,useEffect:ld,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:vc,useRef:yy,useState:function(){return vc(Yi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=pt();return Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=vc(Yi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:fd,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=pt();return oy(a,We,t,i)},useMemoCache:id,useCacheRefresh:xy};md.useEffectEvent=vy;var Py={readContext:qt,use:_c,useCallback:by,useContext:qt,useEffect:ld,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:rd,useRef:yy,useState:function(){return rd(Yi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=pt();return We===null?cd(a,t,i):Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=rd(Yi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:fd,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=pt();return We!==null?oy(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:xy};Py.useEffectEvent=vy;function gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),f=xs(l);f.payload=i,a!=null&&(f.callback=a),i=Os(t,f,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),f=xs(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Os(t,f,l),i!==null&&(hn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=xs(a);l.tag=2,i!=null&&(l.callback=i),i=Os(t,l,a),i!==null&&(hn(i,t,a),ul(i,t,a))}};function Ly(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(f,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function Yr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function jy(t){ec(t)}function By(t){console.error(t)}function zy(t){ec(t)}function Sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,i,a){return a=xs(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,i)},a}function qy(t){return t=xs(t),t.tag=3,t}function Fy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Hy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,l),typeof f!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function vb(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,f,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?kc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(t,l,f)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(t,l,f)),!1}throw Error(r(435,a.tag))}return Hd(t,l,f),kc(),!1}if(Ue)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Pf&&(t=Error(r(422),{cause:l}),sl(xn(t,a)))):(l!==Pf&&(i=Error(r(423),{cause:l}),sl(xn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=xn(l,a),f=yd(t.stateNode,l,f),Kf(t,f),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=xn(d,a),Sl===null?Sl=[d]:Sl.push(d),ft!==4&&(ft=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=yd(a.stateNode,l,t),Kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Us===null||!Us.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=qy(f),Fy(f,t,a,l),Kf(a,f),!1}a=a.return}while(a!==null);return!1}var _d=Error(r(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Qp(i,null,a,l):Fr(i,t.child,a,l)}function Gy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Br(i),l=$f(t,i,a,_,d,f),S=ed(),t!==null&&!Rt?(td(t,i,f),Ki(t,i,f)):(Ue&&S&&Vf(i),i.flags|=1,Ft(t,i,l,f),i.child)}function Yy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ky(t,i,d,l,f)):(t=sc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Rd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===i.ref)return Ki(t,i,f)}return i.flags|=1,t=zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ky(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Rd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Ki(t,i,f)}return vd(t,i,a,l,f)}function Qy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?Jp(i,d):Xf(),Zp(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(lc(i,d.cachePool),Jp(i,d),Vs(),i.memoizedState=null):(t!==null&&lc(i,null),Xf(),Vs());return Ft(t,i,f,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,f){var d=qf();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&lc(i,null),Xf(),Zp(i),t!==null&&Ma(t,i,l,!0),i.childLanes=f,null}function bc(t,i){return i=Rc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Wy(t,i,a){return Fr(i,t.child,null,a),t=bc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function Eb(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=bc(i,l),i.lanes=536870912,pl(null,t);if(Jf(i),(t=it)?(t=lv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Mp(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Is(i);return i.lanes=536870912,null}return bc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),f)if(i.flags&256)i.flags&=-257,i=Wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Ma(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=$e,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Pr(t,_),hn(l,t,_),_d;kc(),i=Wy(t,i,a)}else t=d.treeContext,it=Pn(_.nextSibling),Ht=i,Ue=!0,Cs=null,Vn=!1,t!==null&&Pp(i,t),i=bc(i,l),i.flags|=4096;return i}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,f){return Br(i),a=$f(t,i,a,l,void 0,f),l=ed(),t!==null&&!Rt?(td(t,i,f),Ki(t,i,f)):(Ue&&l&&Vf(i),i.flags|=1,Ft(t,i,a,f),i.child)}function Jy(t,i,a,l,f,d){return Br(i),i.updateQueue=null,a=ey(i,l,a,f),$p(t),l=ed(),t!==null&&!Rt?(td(t,i,d),Ki(t,i,d)):(Ue&&l&&Vf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Zy(t,i,a,l,f){if(Br(i),i.stateNode===null){var d=Na,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):Na,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),hl(i,l,d,f),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=Yr(a,S);d.props=D;var z=d.context,W=a.contextType;_=Na,typeof W=="object"&&W!==null&&(_=qt(W));var $=a.getDerivedStateFromProps;W=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&Uy(i,d,l,_),Ds=!1;var q=i.memoizedState;d.state=q,hl(i,l,d,f),cl(),z=i.memoizedState,S||q!==z||Ds?(typeof $=="function"&&(gd(i,a,$,l),z=i.memoizedState),(D=Ds||Ly(i,a,D,l,q,z,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),_=i.memoizedProps,W=Yr(a,_),d.props=W,$=i.pendingProps,q=d.context,z=a.contextType,D=Na,typeof z=="object"&&z!==null&&(D=qt(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||q!==D)&&Uy(i,d,l,D),Ds=!1,q=i.memoizedState,d.state=q,hl(i,l,d,f),cl();var Y=i.memoizedState;_!==$||q!==Y||Ds||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof S=="function"&&(gd(i,a,S,l),Y=i.memoizedState),(W=Ds||Ly(i,a,W,l,q,Y,D)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fr(i,t.child,null,f),i.child=Fr(i,null,a,f)):Ft(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ki(t,i,f),t}function $y(t,i,a,l){return Ur(),i.flags|=256,Ft(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Hp()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function e_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(f?Ms(i):Vs(),(t=it)?(t=lv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Mp(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Is(i);return sm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Vs(),f=i.mode,S=Rc({mode:"hidden",children:S},f),l=Lr(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Td(a),l.childLanes=Ad(t,_,a),i.memoizedState=Ed,pl(null,l)):(Ms(i),Sd(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(Ms(i),i.flags&=-257,i=bd(t,i,a)):i.memoizedState!==null?(Vs(),i.child=t.child,i.flags|=128,i=null):(Vs(),S=l.fallback,f=i.mode,l=Rc({mode:"visible",children:l.children},f),S=Lr(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Fr(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=Ad(t,_,a),i.memoizedState=Ed,i=pl(null,l));else if(Ms(i),sm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),i=bd(t,i,a)}else if(Rt||Ma(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=$e,_!==null&&(l=Lo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Pr(t,l),hn(_,t,l),_d;im(S)||kc(),i=bd(t,i,a)}else im(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,it=Pn(S.nextSibling),Ht=i,Ue=!0,Cs=null,Vn=!1,t!==null&&Pp(i,t),i=Sd(i,l.children),i.flags|=4096);return i}return f?(Vs(),S=l.fallback,f=i.mode,D=t.child,z=D.sibling,l=zi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?S=zi(z,S):(S=Lr(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,pl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Td(a):(f=S.cachePool,f!==null?(D=bt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Hp(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Ad(t,_,a),i.memoizedState=Ed,pl(t.child,l)):(Ms(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sd(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function bd(t,i,a){return Fr(i,t.child,null,a),t=Sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function t_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function wd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function n_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),Ft(t,i,l,a),l=Ue?il:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,a,i);else if(t.tag===19)t_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),wd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&mc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}wd(i,!0,a,null,d,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ls|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function Tb(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),Ns(i,bt,t.memoizedState.cache),Ur();break;case 27:case 5:_r(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:Ns(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ms(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(t,i,a):(Ms(i),t=Ki(t,i,a),t!==null?t.sibling:null);Ms(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return n_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,Qy(t,i,a,i.pendingProps);case 24:Ns(i,bt,t.memoizedState.cache)}return Ki(t,i,a)}function i_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Rd(t,a)&&(i.flags&128)===0)return Rt=!1,Tb(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&kp(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hr(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=Yr(t,l),i.tag=1,i=Zy(null,i,t,l,a)):(i.tag=0,i=vd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===de){i.tag=11,i=Gy(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=Yy(null,i,t,l,a);break e}}throw i=tt(t)||t,Error(r(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Yr(l,i.pendingProps),Zy(t,i,l,f,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Yf(t,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ns(i,bt,l),l!==d.cache&&Bf(i,[bt],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$y(t,i,l,a);break e}else if(l!==f){f=xn(Error(r(424)),i),sl(f),i=$y(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Pn(t.firstChild),Ht=i,Ue=!0,Cs=null,Vn=!0,a=Qp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),l===f){i=Ki(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return wc(t,i),t===null?(a=mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Hc(Ie.current).createElement(a),l[Tt]=i,l[kt]=t,Gt(l,a,t),At(l),i.stateNode=l):i.memoizedState=mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _r(i),t===null&&Ue&&(l=i.stateNode=hv(i.type,i.pendingProps,Ie.current),Ht=i,Vn=!0,f=it,Hs(i.type)?(rm=f,it=Pn(l.firstChild)):it=f),Ft(t,i,i.pendingProps.children,a),wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((f=l=it)&&(l=Jb(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,Ht=i,it=Pn(l.firstChild),Vn=!1,f=!0):f=!1),f||Is(i)),_r(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,em(f,d)?l=null:_!==null&&em(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=$f(t,i,fb,null,null,a),xl._currentValue=f),wc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=Zb(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||Is(i)),null;case 13:return e_(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fr(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Gy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ns(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Br(i),f=qt(f),l=l(f),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return Ky(t,i,i.type,i.pendingProps,a);case 19:return n_(t,i,a);case 31:return Eb(t,i,a);case 22:return Qy(t,i,a,i.pendingProps);case 24:return Br(i),l=qt(bt),t===null?(f=qf(),f===null&&(f=$e,d=zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Gf(i),Ns(i,bt,f)):((t.lanes&a)!==0&&(Yf(t,i),hl(i,null,null,a),cl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ns(i,bt,l)):(l=d.cache,Ns(i,bt,l),l!==f.cache&&Bf(i,[bt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Qi(t){t.flags|=4}function Cd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(D_())t.flags|=8192;else throw qr=cc,Ff}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(i))if(D_())t.flags|=8192;else throw qr=cc,Ff}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mu():536870912,t.lanes|=i,Ga|=i)}function yl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ab(t,i,a){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(bt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(st(i),s_(i,d)):(st(i),Cd(i,f,null,l,a))):d?d!==t.memoizedState?(Qi(i),st(i),s_(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),st(i),Cd(i,f,t,l,a)),null;case 27:if(ca(i),a=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}t=ce.current,Oa(i)?Lp(i):(t=hv(f,l,a),i.stateNode=t,Qi(i))}return st(i),null;case 5:if(ca(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}if(d=ce.current,Oa(i))Lp(i);else{var _=Hc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Tt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return st(i),Cd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ie.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||Is(i,!0)}else t=Hc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Tt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),st(i),null);case 4:return rt(),t===null&&Xd(i.stateNode.containerInfo),st(i),null;case 10:return Fi(i.type),st(i),null;case 19:if(Q(gt),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)yl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Op(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Ue&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Oc&&(i.flags|=128,f=!0,yl(l,!1),i.lanes=4194304)}else{if(!f)if(t=mc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return st(i),null}else 2*tn()-l.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,f=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),Ue&&Hi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return vn(i),Wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Q(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(bt),st(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Sb(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(bt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(gt),null;case 4:return rt(),null;case 10:return Fi(i.type),null;case 22:case 23:return vn(i),Wf(),t!==null&&Q(zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(bt),null;case 25:return null;default:return null}}function r_(t,i){switch(kf(i),i.tag){case 3:Fi(bt),rt();break;case 26:case 27:case 5:ca(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Q(gt);break;case 10:Fi(i.type);break;case 22:case 23:vn(i),Wf(),t!==null&&Q(zr);break;case 24:Fi(bt)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Qe(i,i.return,S)}}function ks(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var D=a,z=S;try{z()}catch(W){Qe(f,D,W)}}}l=l.next}while(l!==d)}}catch(W){Qe(i,i.return,W)}}function a_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wp(i,a)}catch(l){Qe(t,t.return,l)}}}function o_(t,i,a){a.props=Yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Qe(t,i,f)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,i,f)}else a.current=null}function l_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function Id(t,i,a){try{var l=t.stateNode;Gb(l,t.type,a,i),l[kt]=i}catch(f){Qe(t,t.return,f)}}function u_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Dd(t,i,a),t=t.sibling;t!==null;)Dd(t,i,a),t=t.sibling}function Ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,i,a),t=t.sibling;t!==null;)Ic(t,i,a),t=t.sibling}function c_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){Qe(t,t.return,d)}}var Xi=!1,Ct=!1,xd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function bb(t,i){if(t=t.containerInfo,Zd=Xc,t=Sp(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,z=0,W=0,$=t,q=null;t:for(;;){for(var Y;$!==a||f!==0&&$.nodeType!==3||(S=_+f),$!==d||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(Y=$.firstChild)!==null;)q=$,$=Y;for(;;){if($===t)break t;if(q===a&&++z===f&&(S=_),q===d&&++W===l&&(D=_),(Y=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Xc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Yr(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Qe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function f_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&_l(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var f=Yr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&a_(a),l&512&&vl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wp(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&c_(a);case 26:case 5:Ji(t,a),i===null&&l&4&&l_(a),l&512&&vl(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&g_(t,a);break;case 13:Ji(t,a),l&4&&p_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Mb.bind(null,a),$b(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ct,f=Xi;var d=Ct;Xi=l,(Ct=i)&&!d?Zi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=f,Ct=d}break;case 30:break;default:Ji(t,a)}}function d_(t){var i=t.alternate;i!==null&&(t.alternate=null,d_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Wi(t,i,a){for(a=a.child;a!==null;)m_(t,i,a),a=a.sibling}function m_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Ct||Ri(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ri(a,i);var l=ot,f=on;Hs(a.type)&&(ot=a.stateNode,on=!1),Wi(t,i,a),Il(a.stateNode),ot=l,on=f;break;case 5:Ct||Ri(a,i);case 6:if(l=ot,f=on,ot=null,Wi(t,i,a),ot=l,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:ot!==null&&(on?(t=ot,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):av(ot,a.stateNode));break;case 4:l=ot,f=on,ot=a.stateNode.containerInfo,on=!0,Wi(t,i,a),ot=l,on=f;break;case 0:case 11:case 14:case 15:ks(2,a,i),Ct||ks(4,a,i),Wi(t,i,a);break;case 1:Ct||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Wi(t,i,a),Ct=l;break;default:Wi(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){Qe(i,i.return,a)}}}function p_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){Qe(i,i.return,a)}}function wb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new h_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new h_),i;default:throw Error(r(435,t.tag))}}function Nc(t,i){var a=wb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Vb.bind(null,t,l);l.then(f,f)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Hs(S.type)){ot=S.stateNode,on=!1;break e}break;case 5:ot=S.stateNode,on=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(ot===null)throw Error(r(160));m_(d,_,f),ot=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)y_(i,t),i=i.sibling}var Jn=null;function y_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(ks(3,t,t.return),_l(3,t),ks(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Ct||a===null||Ri(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(ln(i,t),un(t),l&512&&(Ct||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,At(d),l=d;break e;case"link":var _=yv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=yv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Tt]=t,At(d),l=d}t.stateNode=l}else _v(f,t.type,t.stateNode);else t.stateNode=pv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(f,t.type,t.stateNode):pv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Ct||a===null||Ri(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Ct||a===null||Ri(a,a.return)),t.flags&32){f=t.stateNode;try{an(f,"")}catch(he){Qe(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,a!==null?a.memoizedProps:f)),l&1024&&(xd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Qe(t,t.return,he)}}break;case 3:if(Gc=null,f=Jn,Jn=qc(i.containerInfo),ln(i,t),Jn=f,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(he){Qe(t,t.return,he)}xd&&(xd=!1,__(t));break;case 4:l=Jn,Jn=qc(t.stateNode.containerInfo),ln(i,t),un(t),Jn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Xi,W=Ct;if(Xi=z||f,Ct=W||D,ln(i,t),Ct=W,Xi=z,un(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Xi||Ct||Kr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var $=D.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Qe(D,D.return,he)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(he){Qe(D,D.return,he)}}}else if(i.tag===18){if(a===null){D=i;try{var Y=D.stateNode;f?ov(Y,!0):ov(D.stateNode,!1)}catch(he){Qe(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Nd(t);Ic(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var S=Nd(t);Ic(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=Nd(t);Dd(t,z,D);break;default:throw Error(r(161))}}catch(W){Qe(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function __(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;__(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f_(t,i.alternate,i),i=i.sibling}function Kr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ks(4,i,i.return),Kr(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&o_(i,i.return,a),Kr(i);break;case 27:Il(i.stateNode);case 26:case 5:Ri(i,i.return),Kr(i);break;case 22:i.memoizedState===null&&Kr(i);break;case 30:Kr(i);break;default:Kr(i)}t=t.sibling}}function Zi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(f,d,a),_l(4,d);break;case 1:if(Zi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Qe(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Xp(D[f],S)}catch(z){Qe(l,l.return,z)}}a&&_&64&&a_(d),vl(d,d.return);break;case 27:c_(d);case 26:case 5:Zi(f,d,a),a&&l===null&&_&4&&l_(d),vl(d,d.return);break;case 12:Zi(f,d,a);break;case 31:Zi(f,d,a),a&&_&4&&g_(f,d);break;case 13:Zi(f,d,a),a&&_&4&&p_(f,d);break;case 22:d.memoizedState===null&&Zi(f,d,a),vl(d,d.return);break;case 30:break;default:Zi(f,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(t,i,a,l),i=i.sibling}function v_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),f&2048&&_l(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(f&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Qe(i,i.return,D)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):El(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,Ha(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Od(_,i);break;case 24:Zn(t,i,a,l),f&2048&&Md(i.alternate,i);break;default:Zn(t,i,a,l)}}function Ha(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,S,D,f),_l(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ha(d,_,S,D,f):El(d,_):(W._visibility|=2,Ha(d,_,S,D,f)),f&&z&2048&&Od(_.alternate,_);break;case 24:Ha(d,_,S,D,f),f&&z&2048&&Md(_.alternate,_);break;default:Ha(d,_,S,D,f)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:El(a,l),f&2048&&Od(l.alternate,l);break;case 24:El(a,l),f&2048&&Md(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function qa(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)E_(t,i,a),t=t.sibling}function E_(t,i,a){switch(t.tag){case 26:qa(t,i,a),t.flags&Tl&&t.memoizedState!==null&&hw(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:qa(t,i,a);break;case 3:case 4:var l=Jn;Jn=qc(t.stateNode.containerInfo),qa(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,qa(t,i,a),Tl=l):qa(t,i,a));break;default:qa(t,i,a)}}function T_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,S_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A_(t),t=t.sibling}function A_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&ks(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):Al(t);break;default:Al(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,S_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ks(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function S_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:ks(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var f=l.sibling,d=l.return;if(d_(l),l===a){Lt=null;break e}if(f!==null){f.return=d,Lt=f;break e}Lt=d}}}var Rb={getCacheForType:function(t){var i=qt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(bt).controller.signal}},Cb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,$e=null,De=null,Oe=0,Ke=0,En=null,Ps=!1,Fa=!1,Vd=!1,$i=0,ft=0,Ls=0,Qr=0,kd=0,Tn=0,Ga=0,Sl=null,cn=null,Pd=!1,xc=0,b_=0,Oc=1/0,Mc=null,Us=null,Mt=0,js=null,Ya=null,es=0,Ld=0,Ud=null,w_=null,bl=0,jd=null;function An(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:X.T!==null?Gd():Vu()}function R_(){if(Tn===0)if((Oe&536870912)===0||Ue){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===$e&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Bs(t,Oe,Tn,!1)),Ar(t,a),((Fe&2)===0||t!==$e)&&(t===$e&&((Fe&2)===0&&(Qr|=a),ft===4&&Bs(t,Oe,Tn,!1)),Ci(t))}function C_(t,i,a){if((Fe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),f=l?Db(t,i):zd(t,i,!0),d=l;do{if(f===0){Fa&&!l&&Bs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Ib(a)){f=zd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Sl;var D=S.current.memoizedState.isDehydrated;if(D&&(Ka(S,_).flags|=256),_=zd(S,_,!1),_!==2){if(Vd&&!D){S.errorRecoveryDisabledLanes|=d,Qr|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ka(t,0),Bs(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bs(l,i,Tn,!Ps);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=xc+300-tn(),10<f)){if(Bs(l,i,Tn,!Ps),ui(l,0,!0)!==0)break e;es=i,l.timeoutHandle=sv(I_.bind(null,l,a,cn,Mc,Pd,i,Tn,Qr,Ga,Ps,d,"Throttled",-0,0),f);break e}I_(l,a,cn,Mc,Pd,i,Tn,Qr,Ga,Ps,d,null,-0,0)}}break}while(!0);Ci(t)}function I_(t,i,a,l,f,d,_,S,D,z,W,$,q,Y){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},E_(i,d,$);var he=(d&62914560)===d?xc-tn():(d&4194048)===d?b_-tn():0;if(he=fw($,he),he!==null){es=d,t.cancelPendingCommit=he(P_.bind(null,t,i,d,a,l,f,_,S,D,W,$,null,q,Y)),Bs(t,d,_,!z);return}}P_(t,i,d,a,l,f,_,S,D)}function Ib(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bs(t,i,a,l){i&=~kd,i&=~Qr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-dt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Sr(t,a,i)}function Vc(){return(Fe&6)===0?(wl(0),!1):!0}function Bd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,qi=jr=null,nd(t),La=null,ol=0,t=De;for(;t!==null;)r_(t.alternate,t),t=t.return;De=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),es=0,Bd(),$e=t,De=a=zi(t.current,null),Oe=i,Ke=0,En=null,Ps=!1,Fa=Hn(t,i),Vd=!1,Ga=Tn=kd=Qr=Ls=ft=0,cn=Sl=null,Pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-dt(l),d=1<<f;i|=t[f],l&=~d}return $i=i,tc(),a}function N_(t,i){Ce=null,X.H=gl,i===Pa||i===uc?(i=Gp(),Ke=3):i===Ff?(i=Gp(),Ke=4):Ke=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,De===null&&(ft=1,Sc(t,xn(i,t.current)))}function D_(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===kn:!1}function x_(){var t=X.H;return X.H=gl,t===null?gl:t}function O_(){var t=X.A;return X.A=Rb,t}function kc(){ft=4,Ps||(Oe&4194048)!==Oe&&_n.current!==null||(Fa=!0),(Ls&134217727)===0&&(Qr&134217727)===0||$e===null||Bs($e,Oe,Tn,!1)}function zd(t,i,a){var l=Fe;Fe|=2;var f=x_(),d=O_();($e!==t||Oe!==i)&&(Mc=null,Ka(t,i)),i=!1;var _=ft;e:do try{if(Ke!==0&&De!==null){var S=De,D=En;switch(Ke){case 8:Bd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var z=Ke;if(Ke=0,En=null,Qa(t,S,D,z),a&&Fa){_=0;break e}break;default:z=Ke,Ke=0,En=null,Qa(t,S,D,z)}}Nb(),_=ft;break}catch(W){N_(t,W)}while(!0);return i&&t.shellSuspendCounter++,qi=jr=null,Fe=l,X.H=f,X.A=d,De===null&&($e=null,Oe=0,tc()),_}function Nb(){for(;De!==null;)M_(De)}function Db(t,i){var a=Fe;Fe|=2;var l=x_(),f=O_();$e!==t||Oe!==i?(Mc=null,Oc=tn()+500,Ka(t,i)):Fa=Hn(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=En;t:switch(Ke){case 1:Ke=0,En=null,Qa(t,i,d,1);break;case 2:case 9:if(qp(d)){Ke=0,En=null,V_(i);break}i=function(){Ke!==2&&Ke!==9||$e!==t||(Ke=7),Ci(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:qp(d)?(Ke=0,En=null,V_(i)):(Ke=0,En=null,Qa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?vv(_):S.stateNode.complete){Ke=0,En=null;var D=S.sibling;if(D!==null)De=D;else{var z=S.return;z!==null?(De=z,Pc(z)):De=null}break t}}Ke=0,En=null,Qa(t,i,d,5);break;case 6:Ke=0,En=null,Qa(t,i,d,6);break;case 8:Bd(),ft=6;break e;default:throw Error(r(462))}}xb();break}catch(W){N_(t,W)}while(!0);return qi=jr=null,X.H=l,X.A=f,Fe=a,De!==null?0:($e=null,Oe=0,tc(),ft)}function xb(){for(;De!==null&&!yf();)M_(De)}function M_(t){var i=i_(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?Pc(t):De=i}function V_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:nd(i);default:r_(a,i),i=De=Op(i,$i),i=i_(a,i,$i)}t.memoizedProps=t.pendingProps,i===null?Pc(t):De=i}function Qa(t,i,a,l){qi=jr=null,nd(i),La=null,ol=0;var f=i.return;try{if(vb(t,f,i,a,Oe)){ft=1,Sc(t,xn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ft=1,Sc(t,xn(a,t.current)),De=null;return}i.flags&32768?(Ue||l===1?t=!0:Fa||(Oe&536870912)!==0?t=!1:(Ps=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){k_(i,Ps);return}t=i.return;var a=Ab(i.alternate,i,$i);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function k_(t,i){do{var a=Sb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function P_(t,i,a,l,f,d,_,S,D){t.cancelPendingCommit=null;do Lc();while(Mt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Nf,Ef(t,a,d,_,S,D),t===$e&&(De=$e=null,Oe=0),Ya=i,js=t,es=a,Ld=d,Ud=f,w_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kb(ps,function(){return z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,_=Fe,Fe|=4;try{bb(t,i,a)}finally{Fe=_,re.p=f,X.T=l}}Mt=1,L_(),U_(),j_()}}function L_(){if(Mt===1){Mt=0;var t=js,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Fe;Fe|=4;try{y_(i,t);var d=$d,_=Sp(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ap(S.ownerDocument.documentElement,S)){if(D!==null&&bf(S)){var z=D.start,W=D.end;if(W===void 0&&(W=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(W,S.value.length);else{var $=S.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var Y=q.getSelection(),he=S.textContent.length,_e=Math.min(D.start,he),Ze=D.end===void 0?_e:Math.min(D.end,he);!Y.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var L=Tp(S,_e),k=Tp(S,Ze);if(L&&k&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var B=$.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),_e>Ze?(Y.addRange(B),Y.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Y.addRange(B))}}}}for($=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&$.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var J=$[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Xc=!!Zd,$d=Zd=null}finally{Fe=f,re.p=l,X.T=a}}t.current=i,Mt=2}}function U_(){if(Mt===2){Mt=0;var t=js,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Fe;Fe|=4;try{f_(t,i.alternate,i)}finally{Fe=f,re.p=l,X.T=a}}Mt=3}}function j_(){if(Mt===4||Mt===3){Mt=0,Cu();var t=js,i=Ya,a=es,l=w_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ya=js=null,B_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Us=null),Li(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=re.p,re.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,re.p=f}}(es&3)!==0&&Lc(),Ci(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===jd?bl++:(bl=0,jd=t):bl=0,wl(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Lc(){return L_(),U_(),j_(),z_()}function z_(){if(Mt!==5)return!1;var t=js,i=Ld;Ld=0;var a=Li(es),l=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=Ud,Ud=null;var d=js,_=es;if(Mt=0,Ya=js=null,es=0,(Fe&6)!==0)throw Error(r(331));var S=Fe;if(Fe|=4,A_(d.current),v_(d,d.current,_,a),Fe=S,wl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{re.p=f,X.T=l,B_(t,i)}}function H_(t,i,a){i=xn(a,i),i=yd(t.stateNode,i,2),t=Os(t,i,2),t!==null&&(Ar(t,2),Ci(t))}function Qe(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Us===null||!Us.has(l))){t=xn(a,t),a=qy(2),l=Os(i,a,2),l!==null&&(Fy(a,l,i,t),Ar(l,2),Ci(l));break}}i=i.return}}function Hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Cb;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Vd=!0,f.add(a),t=Ob.bind(null,t,i,a),i.then(t,t))}function Ob(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>tn()-xc?(Fe&2)===0&&Ka(t,0):kd|=a,Ga===Oe&&(Ga=0)),Ci(t)}function q_(t,i){i===0&&(i=Mu()),t=Pr(t,i),t!==null&&(Ar(t,i),Ci(t))}function Mb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),q_(t,a)}function Vb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),q_(t,a)}function kb(t,i){return Ot(t,i)}var Uc=null,Xa=null,qd=!1,jc=!1,Fd=!1,zs=0;function Ci(t){t!==Xa&&t.next===null&&(Xa===null?Uc=Xa=t:Xa=Xa.next=t),jc=!0,qd||(qd=!0,Lb())}function wl(t,i){if(!Fd&&jc){Fd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=Oe,d=ui(l,l===$e?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,K_(l,d));l=l.next}while(a);Fd=!1}}function Pb(){F_()}function F_(){jc=qd=!1;var t=0;zs!==0&&Kb()&&(t=zs);for(var i=tn(),a=null,l=Uc;l!==null;){var f=l.next,d=G_(l,i);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=f}Mt!==0&&Mt!==5||wl(t),zs!==0&&(zs=0)}function G_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=vf(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=$e,a=Oe,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gs(l),Li(a)){case 2:case 8:a=ko;break;case 32:a=ps;break;case 268435456:a=Iu;break;default:a=ps}return l=Y_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gs(l),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=Oe;return l=ui(t,t===$e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,i),G_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?Y_.bind(null,t):null)}function K_(t,i){if(Lc())return null;C_(t,i,!0)}function Lb(){Xb(function(){(Fe&6)!==0?Ot(Vo,Pb):F_()})}function Gd(){if(zs===0){var t=Va;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),zs=t}return zs}function Q_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ub(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Q_((f[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?Q_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ei("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var D=_?X_(f,_):new FormData(f);hd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?X_(f,_):new FormData(f),hd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Yd=0;Yd<If.length;Yd++){var Kd=If[Yd],jb=Kd.toLowerCase(),Bb=Kd[0].toUpperCase()+Kd.slice(1);Wn(jb,"on"+Bb)}Wn(Rp,"onAnimationEnd"),Wn(Cp,"onAnimationIteration"),Wn(Ip,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(nb,"onTransitionRun"),Wn(ib,"onTransitionStart"),Wn(sb,"onTransitionCancel"),Wn(Np,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function W_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=z;try{d(f)}catch(W){ec(W)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,z=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=z;try{d(f)}catch(W){ec(W)}f.currentTarget=null,d=D}}}}function xe(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(J_(i,t,2,!1),a.add(l))}function Qd(t,i,a){var l=0;i&&(l|=4),J_(a,t,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Bc]){t[Bc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(zb.has(a)||Qd(a,!1,t),Qd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Qd("selectionchange",!1,i))}}function J_(t,i,a,l){switch(Rv(i)){case 2:var f=gw;break;case 8:f=pw;break;default:f=cm}a=f.bind(null,i,a,t),f=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Wd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=di(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}As(function(){var z=d,W=Cn(a),$=[];e:{var q=Dp.get(t);if(q!==void 0){var Y=Ei,he=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":Y=Ju;break;case"focusin":he="focus",Y=Or;break;case"focusout":he="blur",Y=Or;break;case"beforeblur":case"afterblur":Y=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Rp:case Cp:case Ip:Y=Fu;break;case Np:Y=b;break;case"scroll":case"scrollend":Y=Wo;break;case"wheel":Y=F;break;case"copy":case"cut":case"paste":Y=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=Re}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),L=_e?q!==null?q+"Capture":null:q;_e=[];for(var k=z,B;k!==null;){var J=k;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=Yn(k,L),J!=null&&_e.push(Cl(k,J,B))),Ze)break;k=k.return}0<_e.length&&(q=new Y(q,he,null,a,W),$.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==Ko&&(he=a.relatedTarget||a.fromElement)&&(di(he)||he[hi]))break e;if((Y||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=z,he=he?di(he):null,he!==null&&(Ze=u(he),_e=he.tag,he!==Ze||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Y=null,he=z),Y!==he)){if(_e=Jo,J="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Bi,J="onPointerLeave",L="onPointerEnter",k="pointer"),Ze=Y==null?q:mn(Y),B=he==null?q:mn(he),q=new _e(J,k+"leave",Y,a,W),q.target=Ze,q.relatedTarget=B,J=null,di(W)===z&&(_e=new _e(L,k+"enter",he,a,W),_e.target=B,_e.relatedTarget=Ze,J=_e),Ze=J,Y&&he)t:{for(_e=Hb,L=Y,k=he,B=0,J=L;J;J=_e(J))B++;J=0;for(var ge=k;ge;ge=_e(ge))J++;for(;0<B-J;)L=_e(L),B--;for(;0<J-B;)k=_e(k),J--;for(;B--;){if(L===k||k!==null&&L===k.alternate){_e=L;break t}L=_e(L),k=_e(k)}_e=null}else _e=null;Y!==null&&Z_($,q,Y,_e,!1),he!==null&&Ze!==null&&Z_($,Ze,he,_e,!0)}}e:{if(q=z?mn(z):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var ze=gp;else if(dp(q))if(pp)ze=$S;else{ze=JS;var fe=WS}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&_a(z.elementType)&&(ze=gp):ze=ZS;if(ze&&(ze=ze(t,z))){mp($,ze,a,W);break e}fe&&fe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Fo(q,"number",q.value)}switch(fe=z?mn(z):window,t){case"focusin":(dp(fe)||fe.contentEditable==="true")&&(Ra=fe,wf=z,nl=null);break;case"focusout":nl=wf=Ra=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,bp($,a,W);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":bp($,a,W)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else wa?Mr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Si&&a.locale!=="ko"&&(wa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&wa&&(Ne=Xo()):(vi=W,Qo="value"in vi?vi.value:vi.textContent,wa=!0)),fe=zc(z,Me),0<fe.length&&(Me=new Ai(Me,t,null,a,W),$.push({event:Me,listeners:fe}),Ne?Me.data=Ne:(Ne=ba(a),Ne!==null&&(Me.data=Ne)))),(Ne=Nn?YS(t,a):KS(t,a))&&(Me=zc(z,"onBeforeInput"),0<Me.length&&(fe=new Ai("onBeforeInput","beforeinput",null,a,W),$.push({event:fe,listeners:Me}),fe.data=Ne)),Ub($,t,z,a,W)}W_($,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Yn(t,a),f!=null&&l.unshift(Cl(t,f,d)),f=Yn(t,i),f!=null&&l.push(Cl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Hb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,z=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||z===null||(D=z,f?(z=Yn(a,d),z!=null&&_.unshift(Cl(a,z,D))):f||(z=Yn(a,d),z!=null&&_.push(Cl(a,z,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var qb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(qb,`
`).replace(Fb,"")}function ev(t,i){return i=$_(i),$_(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,pa(t,a,l))}}function Jd(t,i,a,l,f,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var S=d=_=f=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":z=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:Je(t,i,l,W,a,null)}}Uu(t,d,S,D,z,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?_s(t,!!l,i,!1):a!=null&&_s(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Je(t,i,_,S,a,null)}vs(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)xe(Rl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,z,l,a,null)}return;default:if(_a(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Jd(t,i,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function Gb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,z=null,W=null;for(Y in a){var $=a[Y];if(a.hasOwnProperty(Y)&&$!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(Y)||Je(t,i,Y,null,l,$)}}for(var q in l){var Y=l[q];if($=a[q],l.hasOwnProperty(q)&&(Y!=null||$!=null))switch(q){case"type":d=Y;break;case"name":f=Y;break;case"checked":z=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Y!==$&&Je(t,i,q,Y,l,$)}}ya(t,_,S,D,z,W,d,f);return;case"select":Y=_=S=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,f,d,l,D)}i=S,a=_,l=Y,q!=null?_s(t,!!a,q,!1):!!l!=!!a&&(i!=null?_s(t,!!a,i,!0):_s(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Je(t,i,_,f,l,d)}ju(t,q,Y);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,q)}for(D in l)if(q=l[D],Y=a[D],l.hasOwnProperty(D)&&q!==Y&&(q!=null||Y!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,D,q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,q);for(z in l)if(q=l[z],Y=a[z],l.hasOwnProperty(z)&&q!==Y&&(q!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:Je(t,i,z,q,l,Y)}return;default:if(_a(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&Jd(t,i,Ze,void 0,l,q);for(W in l)q=l[W],Y=a[W],!l.hasOwnProperty(W)||q===Y||q===void 0&&Y===void 0||Jd(t,i,W,q,l,Y);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,q);for($ in l)q=l[$],Y=a[$],!l.hasOwnProperty($)||q===Y||q==null&&Y==null||Je(t,i,$,q,l,Y)}function tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&tv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>S)break;var W=D.transferSize,$=D.initiatorType;W&&tv($)&&(D=D.responseEnd,_+=W*(D<S?1:(S-z)/(D-z)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,$d=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function Kb(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(Wb)}:sv;function Wb(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function av(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[fi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(t.ownerDocument.body);a=f}while(a);$a(i)}function ov(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Jb(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function Zb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function lv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $b(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rm=null;function uv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function hv(t,i,a){switch(i=Hc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var Ln=new Map,fv=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=re.d;re.d={f:ew,r:tw,D:nw,C:iw,L:sw,m:rw,X:ow,S:aw,M:lw};function ew(){var t=ts.f(),i=Vc();return t||i}function tw(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):ts.r(t)}var Wa=typeof document>"u"?null:document;function dv(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var f=rn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),fv.has(f)||(fv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function nw(t){ts.D(t),dv("dns-prefetch",t,null)}function iw(t,i){ts.C(t,i),dv("preconnect",t,i)}function sw(t,i,a){ts.L(t,i,a);var l=Wa;if(l&&t&&i){var f='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+rn(a.imageSizes)+'"]')):f+='[href="'+rn(t)+'"]';var d=f;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Ln.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function rw(t,i){ts.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Ln.has(d)&&(t=A({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function aw(t,i,a){ts.S(t,i,a);var l=Wa;if(l&&t){var f=mi(l).hoistableStyles,d=Ja(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Nl(d)))S.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&am(t,a);var D=_=l.createElement("link");At(D),Gt(D,"link",t),D._p=new Promise(function(z,W){D.onload=z,D.onerror=W}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function ow(t,i){ts.X(t,i);var a=Wa;if(a&&t){var l=mi(a).hoistableScripts,f=Za(t),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(t=A({src:t,async:!0},i),(i=Ln.get(f))&&om(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function lw(t,i){ts.M(t,i);var a=Wa;if(a&&t){var l=mi(a).hoistableScripts,f=Za(t),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Ln.get(f))&&om(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mv(t,i,a,l){var f=(f=Ie.current)?qc(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=mi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=mi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Nl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||uw(f,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=mi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+rn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function uw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Za(t){return'[src="'+rn(t)+'"]'}function Dl(t){return"script[async]"+t}function pv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var f=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",f),Fc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Ja(a.href);var d=t.querySelector(Nl(f));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=gv(a),(f=Ln.get(f))&&am(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),i.state.loading|=4,Fc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(f=t.querySelector(Dl(d)))?(i.instance=f,At(f),f):(l=a,(f=Ln.get(d))&&(l=A({},a),om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Gt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Fc(l,a.precedence,t));return i.instance}function Fc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gc=null;function yv(t,i,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[fi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function _v(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ja(l.href),d=i.querySelector(Nl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Yc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=gv(l),(f=Ln.get(f))&&am(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Yc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function fw(t,i){return t.stylesheets&&t.count===0&&Qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*Yb());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function Qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,i.forEach(dw,t),Kc=null,Yc.call(t))}function dw(t,i){if(!(i.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Yc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function mw(t,i,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ev(t,i,a,l,f,d,_,S,D,z,W,$){return t=new mw(t,i,a,_,D,z,W,$,S),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=zf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function Tv(t){return t?(t=Na,t):Na}function Av(t,i,a,l,f,d){f=Tv(f),l.context===null?l.context=f:l.pendingContext=f,l=xs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Os(t,l,i),a!==null&&(hn(a,t,i),ul(a,t,i))}function Sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){Sv(t,i),(t=t.alternate)&&Sv(t,i)}function bv(t){if(t.tag===13||t.tag===31){var i=Pr(t,67108864);i!==null&&hn(i,t,67108864),um(t,67108864)}}function wv(t){if(t.tag===13||t.tag===31){var i=An();i=br(i);var a=Pr(t,i);a!==null&&hn(a,t,i),um(t,i)}}var Xc=!0;function gw(t,i,a,l){var f=X.T;X.T=null;var d=re.p;try{re.p=2,cm(t,i,a,l)}finally{re.p=d,X.T=f}}function pw(t,i,a,l){var f=X.T;X.T=null;var d=re.p;try{re.p=8,cm(t,i,a,l)}finally{re.p=d,X.T=f}}function cm(t,i,a,l){if(Xc){var f=hm(l);if(f===null)Wd(t,i,l,Wc,a),Cv(t,l);else if(_w(f,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<yw.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-dt(_);S.entanglements[1]|=D,_&=~D}Ci(d),(Fe&6)===0&&(Oc=tn()+500,wl(0))}}break;case 31:case 13:S=Pr(d,2),S!==null&&hn(S,d,2),Vc(),um(d,2)}if(d=hm(l),d===null&&Wd(t,i,l,Wc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wd(t,i,l,null,a)}}function hm(t){return t=Cn(t),fm(t)}var Wc=null;function fm(t){if(Wc=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Vo:return 2;case ko:return 8;case ps:case _f:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var dm=!1,qs=null,Fs=null,Gs=null,Ol=new Map,Ml=new Map,Ys=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Rn(i),i!==null&&bv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function _w(t,i,a,l,f){switch(i){case"focusin":return qs=Vl(qs,t,i,a,l,f),!0;case"dragenter":return Fs=Vl(Fs,t,i,a,l,f),!0;case"mouseover":return Gs=Vl(Gs,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,f)),!0}return!1}function Iv(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,qn(t.priority,function(){wv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,qn(t.priority,function(){wv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=Rn(a),i!==null&&bv(i),t.blockedOn=a,!1;i.shift()}return!0}function Nv(t,i,a){Jc(t)&&a.delete(i)}function vw(){dm=!1,qs!==null&&Jc(qs)&&(qs=null),Fs!==null&&Jc(Fs)&&(Fs=null),Gs!==null&&Jc(Gs)&&(Gs=null),Ol.forEach(Nv),Ml.forEach(Nv)}function Zc(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vw)))}var $c=null;function Dv(t){$c!==t&&($c=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function $a(t){function i(D){return Zc(D,t)}qs!==null&&Zc(qs,t),Fs!==null&&Zc(Fs,t),Gs!==null&&Zc(Gs,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<Ys.length;a++){var l=Ys[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[kt]||null;if(typeof d=="function")_||Dv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[kt]||null)S=_.formAction;else if(fm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Dv(a)}}}function xv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}eh.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=An();Av(a,l,t,i,null,null)},eh.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),Vc(),i[hi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ys.length&&i!==0&&i<Ys[a].priority;a++);Ys.splice(a,0,t),a===0&&Iv(t)}};var Ov=e.version;if(Ov!=="19.2.0")throw Error(r(527,Ov,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Ew={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{zn=th.inject(Ew),Bt=th}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",f=jy,d=By,_=zy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ev(t,1,!1,null,null,a,l,null,f,d,_,xv),t[hi]=i.current,Xd(t),new mm(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=jy,_=By,S=zy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Ev(t,1,!0,i,a??null,l,f,D,d,_,S,xv),i.context=Tv(null),a=i.current,l=An(),l=br(l),f=xs(l),f.callback=null,Os(a,f,l),a=l,i.current.lanes=a,Ar(i,a),Ci(i),t[hi]=i.current,Xd(t),new eh(i)},Pl.version="19.2.0",Pl}var Hv;function Dw(){if(Hv)return ym.exports;Hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ym.exports=Nw(),ym.exports}var xw=Dw();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qv="popstate";function Ow(s={}){function e(r,o){let{pathname:u,search:h,hash:m}=r.location;return Pm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Zl(o)}return Vw(e,n,null,s)}function lt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ei(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mw(){return Math.random().toString(36).substring(2,10)}function Fv(s,e){return{usr:s.state,key:s.key,idx:e}}function Pm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||Mw()}}function Zl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Eo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function Vw(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function A(){m="POP";let G=T(),te=G==null?null:G-p;p=G,g&&g({action:m,location:K.location,delta:te})}function R(G,te){m="PUSH";let ne=Pm(K.location,G,te);p=T()+1;let ie=Fv(ne,p),de=K.createHref(ne);try{h.pushState(ie,"",de)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(de)}u&&g&&g({action:m,location:K.location,delta:1})}function x(G,te){m="REPLACE";let ne=Pm(K.location,G,te);p=T();let ie=Fv(ne,p),de=K.createHref(ne);h.replaceState(ie,"",de),u&&g&&g({action:m,location:K.location,delta:0})}function H(G){return kw(G)}let K={get action(){return m},get location(){return s(o,h)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(qv,A),g=G,()=>{o.removeEventListener(qv,A),g=null}},createHref(G){return e(o,G)},createURL:H,encodeLocation(G){let te=H(G);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:R,replace:x,go(G){return h.go(G)}};return K}function kw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Zl(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qT(s,e,n="/"){return Pw(s,e,n,!1)}function Pw(s,e,n,r){let o=typeof e=="string"?Eo(e):e,u=os(o.pathname||"/",n);if(u==null)return null;let h=FT(s);Lw(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=Qw(u);m=Yw(h[g],p,r)}return m}function FT(s,e=[],n=[],r="",o=!1){let u=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;lt(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let A=ss([r,T.relativePath]),R=n.concat(T);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),FT(h.children,e,R,A,g)),!(h.path==null&&!h.index)&&e.push({path:A,score:Fw(A,h.index),routesMeta:R})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of GT(h.path))u(h,m,!0,g)}),e}function GT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=GT(r.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>s.startsWith("/")&&g===""?"/":g)}function Lw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Gw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Uw=/^:[\w-]+$/,jw=3,Bw=2,zw=1,Hw=10,qw=-2,Gv=s=>s==="*";function Fw(s,e){let n=s.split("/"),r=n.length;return n.some(Gv)&&(r+=qw),e&&(r+=Bw),n.filter(o=>!Gv(o)).reduce((o,u)=>o+(Uw.test(u)?jw:u===""?zw:Hw),r)}function Gw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function Yw(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),R=g.route;if(!A&&p&&n&&!r[r.length-1].route.index&&(A=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:ss([u,A.pathname]),pathnameBase:Zw(ss([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=ss([u,A.pathnameBase]))}return h}function Ah(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Kw(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:T,isOptional:A},R)=>{if(T==="*"){let H=m[R]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const x=m[R];return A&&!x?p[T]=void 0:p[T]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:s}}function Kw(s,e=!1,n=!0){ei(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Qw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function os(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function Xw(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Eo(s):s;return{pathname:n?n.startsWith("/")?n:Ww(n,e):e,search:$w(r),hash:e1(o)}}function Ww(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mg(s){let e=Jw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gg(s,e,n,r=!1){let o;typeof s=="string"?o=Eo(s):(o={...s},lt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!r&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let g=Xw(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var ss=s=>s.join("/").replace(/\/\/+/g,"/"),Zw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),$w=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,e1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function t1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YT=["POST","PUT","PATCH","DELETE"];new Set(YT);var n1=["GET",...YT];new Set(n1);var To=P.createContext(null);To.displayName="DataRouter";var Fh=P.createContext(null);Fh.displayName="DataRouterState";P.createContext(!1);var KT=P.createContext({isTransitioning:!1});KT.displayName="ViewTransition";var i1=P.createContext(new Map);i1.displayName="Fetchers";var s1=P.createContext(null);s1.displayName="Await";var si=P.createContext(null);si.displayName="Navigation";var hu=P.createContext(null);hu.displayName="Location";var ri=P.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var pg=P.createContext(null);pg.displayName="RouteError";function r1(s,{relative:e}={}){lt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(si),{hash:o,pathname:u,search:h}=fu(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ss([n,u])),r.createHref({pathname:m,search:h,hash:o})}function Ao(){return P.useContext(hu)!=null}function dr(){return lt(Ao(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(hu).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XT(s){P.useContext(si).static||P.useLayoutEffect(s)}function mr(){let{isDataRoute:s}=P.useContext(ri);return s?v1():a1()}function a1(){lt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(To),{basename:e,navigator:n}=P.useContext(si),{matches:r}=P.useContext(ri),{pathname:o}=dr(),u=JSON.stringify(mg(r)),h=P.useRef(!1);return XT(()=>{h.current=!0}),P.useCallback((g,p={})=>{if(ei(h.current,QT),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=gg(g,JSON.parse(u),o,p.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ss([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,s])}P.createContext(null);function o1(){let{matches:s}=P.useContext(ri),e=s[s.length-1];return e?e.params:{}}function fu(s,{relative:e}={}){let{matches:n}=P.useContext(ri),{pathname:r}=dr(),o=JSON.stringify(mg(n));return P.useMemo(()=>gg(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function l1(s,e){return WT(s,e)}function WT(s,e,n,r,o){lt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(si),{matches:h}=P.useContext(ri),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let ne=A&&A.path||"";JT(p,!A||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=dr(),x;if(e){let ne=typeof e=="string"?Eo(e):e;lt(T==="/"||ne.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),x=ne}else x=R;let H=x.pathname||"/",K=H;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=qT(s,{pathname:K});ei(A||G!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ei(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=d1(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:ss([T,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:ss([T,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,r,o);return e&&te?P.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},te):te}function u1(){let s=_1(),e=t1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var c1=P.createElement(u1,null),h1=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?P.createElement(ri.Provider,{value:this.props.routeContext},P.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f1({routeContext:s,match:e,children:n}){let r=P.useContext(To);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ri.Provider,{value:s},n)}function d1(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let p=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<u.length;p++){let T=u[p];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=p),T.route.id){let{loaderData:A,errors:R}=n,x=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||x){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,T,A)=>{let R,x=!1,H=null,K=null;n&&(R=h&&T.route.id?h[T.route.id]:void 0,H=T.route.errorElement||c1,m&&(g<0&&A===0?(JT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,K=null):g===A&&(x=!0,K=T.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,A+1)),te=()=>{let ne;return R?ne=H:x?ne=K:T.route.Component?ne=P.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=p,P.createElement(f1,{match:T,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?P.createElement(h1,{location:n.location,revalidation:n.revalidation,component:H,error:R,children:te(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:r}):te()},null)}function yg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(s){let e=P.useContext(To);return lt(e,yg(s)),e}function g1(s){let e=P.useContext(Fh);return lt(e,yg(s)),e}function p1(s){let e=P.useContext(ri);return lt(e,yg(s)),e}function _g(s){let e=p1(s),n=e.matches[e.matches.length-1];return lt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function y1(){return _g("useRouteId")}function _1(){let s=P.useContext(pg),e=g1("useRouteError"),n=_g("useRouteError");return s!==void 0?s:e.errors?.[n]}function v1(){let{router:s}=m1("useNavigate"),e=_g("useNavigate"),n=P.useRef(!1);return XT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{ei(n.current,QT),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Yv={};function JT(s,e,n){!e&&!Yv[s]&&(Yv[s]=!0,ei(!1,n))}P.memo(E1);function E1({routes:s,future:e,state:n,unstable_onError:r}){return WT(s,void 0,n,r,e)}function ZT({to:s,replace:e,state:n,relative:r}){lt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(si);ei(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(ri),{pathname:h}=dr(),m=mr(),g=gg(s,mg(u),h,r==="path"),p=JSON.stringify(g);return P.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:r})},[m,p,r,e,n]),null}function Ii(s){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){lt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:p="",hash:T="",state:A=null,key:R="default"}=n,x=P.useMemo(()=>{let H=os(g,h);return H==null?null:{location:{pathname:H,search:p,hash:T,state:A,key:R},navigationType:r}},[h,g,p,T,A,R,r]);return ei(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:P.createElement(si.Provider,{value:m},P.createElement(hu.Provider,{children:e,value:x}))}function A1({children:s,location:e}){return l1(Lm(s),e)}function Lm(s,e=[]){let n=[];return P.Children.forEach(s,(r,o)=>{if(!P.isValidElement(r))return;let u=[...e,o];if(r.type===P.Fragment){n.push.apply(n,Lm(r.props.children,u));return}lt(r.type===Ii,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Lm(r.props.children,u)),n.push(h)}),n}var uh="get",ch="application/x-www-form-urlencoded";function Gh(s){return s!=null&&typeof s.tagName=="string"}function S1(s){return Gh(s)&&s.tagName.toLowerCase()==="button"}function b1(s){return Gh(s)&&s.tagName.toLowerCase()==="form"}function w1(s){return Gh(s)&&s.tagName.toLowerCase()==="input"}function R1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function C1(s,e){return s.button===0&&(!e||e==="_self")&&!R1(s)}var nh=null;function I1(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var N1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(s){return s!=null&&!N1.has(s)?(ei(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):s}function D1(s,e){let n,r,o,u,h;if(b1(s)){let m=s.getAttribute("action");r=m?os(m,e):null,n=s.getAttribute("method")||uh,o=Am(s.getAttribute("enctype"))||ch,u=new FormData(s)}else if(S1(s)||w1(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||m.getAttribute("action");if(r=g?os(g,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||uh,o=Am(s.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||ch,u=new FormData(m,s),!I1()){let{name:p,type:T,value:A}=s;if(T==="image"){let R=p?`${p}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else p&&u.append(p,A)}}else{if(Gh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,r=null,o=ch,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function x1(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&os(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function O1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function V1(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await O1(u,n);return h.links?h.links():[]}return[]}));return U1(r.flat(1).filter(M1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(s,e,n,r,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function k1(s,e,{includeHydrateFallback:n}={}){return P1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function P1(s){return[...new Set(s)]}function L1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function U1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(L1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function $T(){let s=P.useContext(To);return vg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function j1(){let s=P.useContext(Fh);return vg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Eg=P.createContext(void 0);Eg.displayName="FrameworkContext";function eA(){let s=P.useContext(Eg);return vg(s,"You must render this element inside a <HydratedRouter> element"),s}function B1(s,e){let n=P.useContext(Eg),[r,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:A}=e,R=P.useRef(null);P.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let K=te=>{te.forEach(ne=>{h(ne.isIntersecting)})},G=new IntersectionObserver(K,{threshold:.5});return R.current&&G.observe(R.current),()=>{G.disconnect()}}},[s]),P.useEffect(()=>{if(r){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[r]);let x=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,R,{}]:[u,R,{onFocus:Ll(m,x),onBlur:Ll(g,H),onMouseEnter:Ll(p,x),onMouseLeave:Ll(T,H),onTouchStart:Ll(A,x)}]:[!1,R,{}]}function Ll(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function z1({page:s,...e}){let{router:n}=$T(),r=P.useMemo(()=>qT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?P.createElement(q1,{page:s,matches:r,...e}):null}function H1(s){let{manifest:e,routeModules:n}=eA(),[r,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return V1(s,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,e,n]),r}function q1({page:s,matches:e,...n}){let r=dr(),{manifest:o,routeModules:u}=eA(),{basename:h}=$T(),{loaderData:m,matches:g}=j1(),p=P.useMemo(()=>Kv(s,e,g,o,r,"data"),[s,e,g,o,r]),T=P.useMemo(()=>Kv(s,e,g,o,r,"assets"),[s,e,g,o,r]),A=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let H=new Set,K=!1;if(e.forEach(te=>{let ne=o.routes[te.route.id];!ne||!ne.hasLoader||(!p.some(ie=>ie.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?K=!0:H.add(te.route.id))}),H.size===0)return[];let G=x1(s,h,"data");return K&&H.size>0&&G.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[G.pathname+G.search]},[h,m,r,o,p,e,s,u]),R=P.useMemo(()=>k1(T,o),[T,o]),x=H1(T);return P.createElement(P.Fragment,null,A.map(H=>P.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>P.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),x.map(({key:H,link:K})=>P.createElement("link",{key:H,nonce:n.nonce,...K})))}function F1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tA&&(window.__reactRouterVersion="7.9.5")}catch{}function G1({basename:s,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=Ow({window:n,v5Compat:!0}));let o=r.current,[u,h]=P.useState({action:o.action,location:o.location}),m=P.useCallback(g=>{P.startTransition(()=>h(g))},[h]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(T1,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iA=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:A,...R},x){let{basename:H}=P.useContext(si),K=typeof p=="string"&&nA.test(p),G,te=!1;if(typeof p=="string"&&K&&(G=p,tA))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),V=os(M.pathname,H);M.origin===C.origin&&V!=null?p=V+M.search+M.hash:te=!0}catch{ei(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=r1(p,{relative:o}),[ie,de,Ae]=B1(r,R),ye=X1(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:A});function I(C){e&&e(C),C.defaultPrevented||ye(C)}let w=P.createElement("a",{...R,...Ae,href:G||ne,onClick:te||u?e:I,ref:F1(x,de),target:g,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?P.createElement(P.Fragment,null,w,P.createElement(z1,{page:ne})):w});iA.displayName="Link";var Y1=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},T){let A=fu(h,{relative:p.relative}),R=dr(),x=P.useContext(Fh),{navigator:H,basename:K}=P.useContext(si),G=x!=null&&eR(A)&&m===!0,te=H.encodeLocation?H.encodeLocation(A).pathname:A.pathname,ne=R.pathname,ie=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&K&&(ie=os(ie,K)||ie);const de=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ae=ne===te||!o&&ne.startsWith(te)&&ne.charAt(de)==="/",ye=ie!=null&&(ie===te||!o&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),I={isActive:Ae,isPending:ye,isTransitioning:G},w=Ae?e:void 0,C;typeof r=="function"?C=r(I):C=[r,Ae?"active":null,ye?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return P.createElement(iA,{...p,"aria-current":w,className:C,ref:T,style:M,to:h,viewTransition:m},typeof g=="function"?g(I):g)});Y1.displayName="NavLink";var K1=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=uh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:A,...R},x)=>{let H=Z1(),K=$1(m,{relative:p}),G=h.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&nA.test(m),ne=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let de=ie.nativeEvent.submitter,Ae=de?.getAttribute("formmethod")||h;H(de||ie.currentTarget,{fetcherKey:e,method:Ae,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:A})};return P.createElement("form",{ref:x,method:G,action:K,onSubmit:r?g:ne,...R,"data-discover":!te&&s==="render"?"true":void 0})});K1.displayName="Form";function Q1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sA(s){let e=P.useContext(To);return lt(e,Q1(s)),e}function X1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=mr(),g=dr(),p=fu(s,{relative:u});return P.useCallback(T=>{if(C1(T,e)){T.preventDefault();let A=n!==void 0?n:Zl(g)===Zl(p);m(s,{replace:A,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,r,e,s,o,u,h])}var W1=0,J1=()=>`__${String(++W1)}__`;function Z1(){let{router:s}=sA("useSubmit"),{basename:e}=P.useContext(si),n=y1();return P.useCallback(async(r,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=D1(r,e);if(o.navigate===!1){let T=o.fetcherKey||J1();await s.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,n])}function $1(s,{relative:e}={}){let{basename:n}=P.useContext(si),r=P.useContext(ri);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...fu(s||".",{relative:e})},h=dr();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ss([n,u.pathname])),Zl(u)}function eR(s,{relative:e}={}){let n=P.useContext(KT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sA("useViewTransitionState"),o=fu(s,{relative:e});if(!n.isTransitioning)return!1;let u=os(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=os(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ah(o.pathname,h)!=null||Ah(o.pathname,u)!=null}const tR=()=>{};var Qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nR=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],h=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},aA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|p>>6,x=p&63;g||(x=64,h||(R=64)),r.push(n[T],n[A],n[R],n[x])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(rA(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new iR;const R=u<<2|m>>4;if(r.push(R),p!==64){const x=m<<4&240|p>>2;if(r.push(x),A!==64){const H=p<<6&192|A;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class iR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(s){const e=rA(s);return aA.encodeByteArray(e,!0)},Sh=function(s){return sR(s).replace(/\./g,"")},oA=function(s){try{return aA.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=()=>rR().__FIREBASE_DEFAULTS__,oR=()=>{if(typeof process>"u"||typeof Qv>"u")return;const s=Qv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&oA(s[1]);return e&&JSON.parse(e)},Yh=()=>{try{return tR()||aR()||oR()||lR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lA=s=>Yh()?.emulatorHosts?.[s],uR=s=>{const e=lA(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uA=()=>Yh()?.config,cA=s=>Yh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hA(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(h)),""].join(".")}const Gl={};function fR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?s.emulator.push(e):s.prod.push(e);return s}function dR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Xv=!1;function fA(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Gl[s]===e||Gl[s]||Xv)return;Gl[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=fR().prod.length>0;function h(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,x){R.setAttribute("width","24"),R.setAttribute("id",x),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Xv=!0,h()},R}function T(R,x){R.setAttribute("id",x),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=dR(r),x=n("text"),H=document.getElementById(x)||document.createElement("span"),K=n("learnmore"),G=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ie=R.element;m(ie),T(G,K);const de=p();g(ne,te),ie.append(ne,H,G,de),document.body.appendChild(ie)}u?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function gR(){const s=Yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ER(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="FirebaseError";class fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SR,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?bR(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new fs(o,m,r)}}function bR(s,e){return s.replace(wR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const wR=/\{\$([^}]+)}/g;function RR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Zr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],h=e[o];if(Wv(u)&&Wv(h)){if(!Zr(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Wv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function CR(s,e){const n=new IR(s,e);return n.subscribe.bind(n)}class IR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(s){return s&&s._delegate?s._delegate:s}class $r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xR(s){return s===Xr?void 0:s}function OR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const VR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},kR=Ve.INFO,PR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},LR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=PR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const UR=(s,e)=>e.some(n=>s instanceof n);let Jv,Zv;function jR(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BR(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,Um=new WeakMap,mA=new WeakMap,bm=new WeakMap,Ag=new WeakMap;function zR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(tr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&dA.set(n,s)}).catch(()=>{}),Ag.set(e,s),e}function HR(s){if(Um.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Um.set(s,e)}let jm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Um.get(s);if(e==="objectStoreNames")return s.objectStoreNames||mA.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qR(s){jm=s(jm)}function FR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(wm(this),e,...n);return mA.set(r,e.sort?e.sort():[e]),tr(r)}:BR().includes(s)?function(...e){return s.apply(wm(this),e),tr(dA.get(this))}:function(...e){return tr(s.apply(wm(this),e))}}function GR(s){return typeof s=="function"?FR(s):(s instanceof IDBTransaction&&HR(s),UR(s,jR())?new Proxy(s,jm):s)}function tr(s){if(s instanceof IDBRequest)return zR(s);if(bm.has(s))return bm.get(s);const e=GR(s);return e!==s&&(bm.set(s,e),Ag.set(e,s)),e}const wm=s=>Ag.get(s);function YR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),m=tr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(tr(h.result),g.oldVersion,g.newVersion,tr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const KR=["get","getKey","getAll","getAllKeys","count"],QR=["put","add","delete","clear"],Rm=new Map;function $v(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=QR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||KR.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Rm.set(e,u),u}qR(s=>({...s,get:(e,n,r)=>$v(e,n)||s.get(e,n,r),has:(e,n)=>!!$v(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WR(s){return s.getComponent()?.type==="VERSION"}const Bm="@firebase/app",eE="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Tg("@firebase/app"),JR="@firebase/app-compat",ZR="@firebase/analytics-compat",$R="@firebase/analytics",eC="@firebase/app-check-compat",tC="@firebase/app-check",nC="@firebase/auth",iC="@firebase/auth-compat",sC="@firebase/database",rC="@firebase/data-connect",aC="@firebase/database-compat",oC="@firebase/functions",lC="@firebase/functions-compat",uC="@firebase/installations",cC="@firebase/installations-compat",hC="@firebase/messaging",fC="@firebase/messaging-compat",dC="@firebase/performance",mC="@firebase/performance-compat",gC="@firebase/remote-config",pC="@firebase/remote-config-compat",yC="@firebase/storage",_C="@firebase/storage-compat",vC="@firebase/firestore",EC="@firebase/ai",TC="@firebase/firestore-compat",AC="firebase",SC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",bC={[Bm]:"fire-core",[JR]:"fire-core-compat",[$R]:"fire-analytics",[ZR]:"fire-analytics-compat",[tC]:"fire-app-check",[eC]:"fire-app-check-compat",[nC]:"fire-auth",[iC]:"fire-auth-compat",[sC]:"fire-rtdb",[rC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[oC]:"fire-fn",[lC]:"fire-fn-compat",[uC]:"fire-iid",[cC]:"fire-iid-compat",[hC]:"fire-fcm",[fC]:"fire-fcm-compat",[dC]:"fire-perf",[mC]:"fire-perf-compat",[gC]:"fire-rc",[pC]:"fire-rc-compat",[yC]:"fire-gcs",[_C]:"fire-gcs-compat",[vC]:"fire-fst",[TC]:"fire-fst-compat",[EC]:"fire-vertex","fire-js":"fire-js",[AC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,wC=new Map,Hm=new Map;function tE(s,e){try{s.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ho(s){const e=s.name;if(Hm.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,s);for(const n of bh.values())tE(n,s);for(const n of wC.values())tE(n,s);return!0}function Sg(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Un(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new du("app","Firebase",RC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=SC;function gA(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:zm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw nr.create("bad-app-name",{appName:String(o)});if(n||(n=uA()),!n)throw nr.create("no-options");const u=bh.get(o);if(u){if(Zr(n,u.options)&&Zr(r,u.config))return u;throw nr.create("duplicate-app",{appName:o})}const h=new MR(o);for(const g of Hm.values())h.addComponent(g);const m=new CC(n,r,h);return bh.set(o,m),m}function pA(s=zm){const e=bh.get(s);if(!e&&s===zm&&uA())return gA();if(!e)throw nr.create("no-app",{appName:s});return e}function ir(s,e,n){let r=bC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(h.join(" "));return}ho(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firebase-heartbeat-database",NC=1,$l="firebase-heartbeat-store";let Cm=null;function yA(){return Cm||(Cm=YR(IC,NC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),Cm}async function DC(s){try{const n=(await yA()).transaction($l),r=await n.objectStore($l).get(_A(s));return await n.done,r}catch(e){if(e instanceof fs)ls.warn(e.message);else{const n=nr.create("idb-get",{originalErrorMessage:e?.message});ls.warn(n.message)}}}async function nE(s,e){try{const r=(await yA()).transaction($l,"readwrite");await r.objectStore($l).put(e,_A(s)),await r.done}catch(n){if(n instanceof fs)ls.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n?.message});ls.warn(r.message)}}}function _A(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1024,OC=30;class MC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>OC){const o=PC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iE(),{heartbeatsToSend:n,unsentEntries:r}=VC(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ls.warn(e),""}}}function iE(){return new Date().toISOString().substring(0,10)}function VC(s,e=xC){const n=[];let r=s.slice();for(const o of s){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),sE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sE(s){return Sh(JSON.stringify({version:2,heartbeats:s})).length}function PC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(s){ho(new $r("platform-logger",e=>new XR(e),"PRIVATE")),ho(new $r("heartbeat",e=>new MC(e),"PRIVATE")),ir(Bm,eE,s),ir(Bm,eE,"esm2020"),ir("fire-js","")}LC("");var UC="firebase",jC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(UC,jC,"app");function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BC=vA,EA=new du("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Tg("@firebase/auth");function zC(s,...e){wh.logLevel<=Ve.WARN&&wh.warn(`Auth (${bo}): ${s}`,...e)}function hh(s,...e){wh.logLevel<=Ve.ERROR&&wh.error(`Auth (${bo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(s,...e){throw bg(s,...e)}function Di(s,...e){return bg(s,...e)}function TA(s,e,n){const r={...BC(),[e]:n};return new du("auth","Firebase",r).create(e,{appName:s.name})}function rs(s){return TA(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return EA.create(s,...e)}function ve(s,e,...n){if(!s)throw bg(e,...n)}function ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function us(s,e){s||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return typeof self<"u"&&self.location?.href||""}function HC(){return rE()==="http:"||rE()==="https:"}function rE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||yR()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=mR()||_R()}get(){return qC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(s,e){us(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KC=new gu(3e4,6e4);function ds(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ms(s,e,n,r,o={}){return SA(s,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=mu({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:g,...u};return pR()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(p.credentials="include"),AA.fetch()(await bA(s,s.config.apiHost,n,m),p)})}async function SA(s,e,n){s._canInitEmulator=!1;const r={...GC,...e};try{const o=new XC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ih(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw ih(s,"user-disabled",h);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw TA(s,T,p);ti(s,T)}}catch(o){if(o instanceof fs)throw o;ti(s,"network-request-failed",{message:String(o)})}}async function pu(s,e,n,r,o={}){const u=await ms(s,e,n,r,o);return"mfaPendingCredential"in u&&ti(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function bA(s,e,n,r){const o=`${e}${n}?${r}`,u=s,h=u.config.emulator?wg(s.config,o):`${s.config.apiScheme}://${o}`;return YC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function QC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),KC.get())})}}function ih(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Di(s,e,r);return o.customData._tokenResponse=n,o}function aE(s){return s!==void 0&&s.enterprise!==void 0}class WC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JC(s,e){return ms(s,"GET","/v2/recaptchaConfig",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(s,e){return ms(s,"POST","/v1/accounts:delete",e)}async function Rh(s,e){return ms(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $C(s,e=!1){const n=jt(s),r=await n.getIdToken(e),o=Rg(r);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:Yl(Im(o.auth_time)),issuedAtTime:Yl(Im(o.iat)),expirationTime:Yl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(s){return Number(s)*1e3}function Rg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=oA(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function oE(s){const e=Rg(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fs&&eI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function eI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(s){const e=s.auth,n=await s.getIdToken(),r=await eu(s,Rh(e,{idToken:n}));ve(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?wA(o.providerUserInfo):[],h=iI(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function nI(s){const e=jt(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iI(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function wA(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(s,e){const n=await SA(s,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await bA(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(g.credentials="include"),AA.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rI(s,e){return ms(s,"POST","/v2/accounts:revokeToken",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=oE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await sI(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new ao;return r&&(ve(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $C(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await eu(this,ZC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:x,providerData:H,stsTokenManager:K}=n;ve(A&&K,e,"internal-error");const G=ao.fromJSON(this.name,K);ve(typeof A=="string",e,"internal-error"),Qs(r,e.name),Qs(o,e.name),ve(typeof R=="boolean",e,"internal-error"),ve(typeof x=="boolean",e,"internal-error"),Qs(u,e.name),Qs(h,e.name),Qs(m,e.name),Qs(g,e.name),Qs(p,e.name),Qs(T,e.name);const te=new $n({uid:A,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:x,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:p,lastLoginAt:T});return H&&Array.isArray(H)&&(te.providerData=H.map(ne=>({...ne}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(e,n,r=!1){const o=new ao;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wA(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(r);const g=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function is(s){us(s instanceof Function,"Expected a class definition");let e=lE.get(s);return e?(us(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,lE.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RA.type="NONE";const uE=RA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(s,e,n){return`firebase:${s}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(is(uE),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||is(uE);const h=fh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let A;if(typeof T=="string"){const R=await Rh(e,{idToken:T}).catch(()=>{});if(!R)break;A=await $n._fromGetAccountInfoResponse(e,R,T)}else A=$n._fromJSON(e,T);p!==u&&(m=A),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new oo(u,e,r):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new oo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OA(e))return"Blackberry";if(MA(e))return"Webos";if(IA(e))return"Safari";if((e.includes("chrome/")||NA(e))&&!e.includes("edge/"))return"Chrome";if(xA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function CA(s=en()){return/firefox\//i.test(s)}function IA(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NA(s=en()){return/crios\//i.test(s)}function DA(s=en()){return/iemobile/i.test(s)}function xA(s=en()){return/android/i.test(s)}function OA(s=en()){return/blackberry/i.test(s)}function MA(s=en()){return/webos/i.test(s)}function Cg(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aI(s=en()){return Cg(s)&&!!window.navigator?.standalone}function oI(){return vR()&&document.documentMode===10}function VA(s=en()){return Cg(s)||xA(s)||MA(s)||OA(s)||/windows phone/i.test(s)||DA(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(s,e=[]){let n;switch(s){case"Browser":n=cE(en());break;case"Worker":n=`${cE(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(s,e={}){return ms(s,"GET","/v2/passwordPolicy",ds(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=6;class hI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(rs(this));const n=e?jt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uI(this),n=new hI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gr(s){return jt(s)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(s){Kh=s}function PA(s){return Kh.loadJS(s)}function mI(){return Kh.recaptchaEnterpriseScript}function gI(){return Kh.gapiScript}function pI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new _I}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _I{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vI="recaptcha-enterprise",LA="NO_RECAPTCHA";class EI{constructor(e){this.type=vI,this.auth=gr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{JC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new WC(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;aE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(LA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&aE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=mI();g.length!==0&&(g+=m),PA(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function fE(s,e,n,r=!1,o=!1){const u=new EI(s);let h;if(o)h=LA;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ih(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await fE(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(s,e){const n=Sg(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zr(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function AI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function SI(s,e,n){const r=gr(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=UA(e),{host:h,port:m}=bI(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Zr(p,r.config.emulator)&&Zr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,So(h)?(hA(`${u}//${h}${g}`),fA("Auth",!0)):wI()}function UA(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bI(s){const e=UA(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:dE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:dE(h)}}}function dE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function wI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function RI(s,e){return ms(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(s,e){return pu(s,"POST","/v1/accounts:signInWithPassword",ds(s,e))}async function II(s,e){return ms(s,"POST","/v1/accounts:sendOobCode",ds(s,e))}async function NI(s,e){return II(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(s,e){return pu(s,"POST","/v1/accounts:signInWithEmailLink",ds(s,e))}async function xI(s,e){return pu(s,"POST","/v1/accounts:signInWithEmailLink",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Ig{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,n,"signInWithPassword",CI);case"emailLink":return DI(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,r,"signUpPassword",RI);case"emailLink":return xI(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(s,e){return pu(s,"POST","/v1/accounts:signInWithIdp",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="http://localhost";class ea extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new ea(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:OI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VI(s){const e=jl(Bl(s)).link,n=e?jl(Bl(e)).deep_link_id:null,r=jl(Bl(s)).deep_link_id;return(r?jl(Bl(r)).link:null)||r||n||e||s}class Ng{constructor(e){const n=jl(Bl(e)),r=n.apiKey??null,o=n.oobCode??null,u=MI(n.mode??null);ve(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VI(e);try{return new Ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ng.parseLink(n);return ve(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends jA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends yu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends yu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends yu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(s,e){return pu(s,"POST","/v1/accounts:signUp",ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await $n._fromIdTokenResponse(e,r,o),h=mE(r);return new ta({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=mE(r);return new ta({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function mE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends fs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Nh(e,n,r,o)}}function BA(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(s,u,e,r):u})}async function PI(s,e,n=!1){const r=await eu(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ta._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(s,e,n=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const u=await eu(s,BA(r,o,e,s),n);ve(u.idToken,r,"internal-error");const h=Rg(u.idToken);ve(h,r,"internal-error");const{sub:m}=h;return ve(s.uid===m,r,"user-mismatch"),ta._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(s,e,n=!1){if(Un(s.app))return Promise.reject(rs(s));const r="signIn",o=await BA(s,r,e),u=await ta._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function UI(s,e){return zA(gr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(s){const e=gr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qA(s,e,n){const r=gr(s);await Ih(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",NI)}async function jI(s,e,n){if(Un(s.app))return Promise.reject(rs(s));const r=gr(s),h=await Ih(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&HA(s),g}),m=await ta._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function BI(s,e,n){return Un(s.app)?Promise.reject(rs(s)):UI(jt(s),wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HA(s),r})}function zI(s,e,n,r){return jt(s).onIdTokenChanged(e,n,r)}function HI(s,e,n){return jt(s).beforeAuthStateChanged(e,n)}function FA(s,e,n,r){return jt(s).onAuthStateChanged(e,n,r)}function qI(s){return jt(s).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1e3,GI=10;class YA extends GA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);oI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YA.type="LOCAL";const YI=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends GA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KA.type="SESSION";const QA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await KI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Dg("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function XI(s){xi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function WI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){return navigator?.serviceWorker?.controller||null}function ZI(){return XA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebaseLocalStorageDb",$I=1,xh="firebaseLocalStorage",JA="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(s,e){return s.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function e2(){const s=indexedDB.deleteDatabase(WA);return new _u(s).toPromise()}function Gm(){const s=indexedDB.open(WA,$I);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(xh,{keyPath:JA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await e2(),e(await Gm()))})})}async function gE(s,e,n){const r=Xh(s,!0).put({[JA]:e,value:n});return new _u(r).toPromise()}async function t2(s,e){const n=Xh(s,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function pE(s,e){const n=Xh(s,!0).delete(e);return new _u(n).toPromise()}const n2=800,i2=3;class ZA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>i2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new QI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await gE(e,Dh,"1"),await pE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZA.type="LOCAL";const s2=ZA;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(s,e){return e?is(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a2(s){return zA(s.auth,new xg(s),s.bypassAuthState)}function o2(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),LI(n,new xg(s),s.bypassAuthState)}async function l2(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),PI(n,new xg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:ti(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new gu(2e3,1e4);class ro extends $A{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="pendingRedirect",dh=new Map;class h2 extends $A{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await f2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f2(s,e){const n=g2(e),r=m2(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function d2(s,e){dh.set(s._key(),e)}function m2(s){return is(s._redirectPersistence)}function g2(s){return fh(c2,s.config.apiKey,s.name)}async function p2(s,e,n=!1){if(Un(s.app))return Promise.reject(rs(s));const r=gr(s),o=r2(r,e),h=await new h2(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=600*1e3;class _2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!e0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function e0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function v2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(s,e={}){return ms(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function S2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await E2(s);for(const n of e)try{if(b2(n))return}catch{}ti(s,"unauthorized-domain")}function b2(s){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!A2.test(n))return!1;if(T2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new gu(3e4,6e4);function _E(){const s=xi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function R2(s){return new Promise((e,n)=>{function r(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),n(Di(s,"network-request-failed"))},timeout:w2.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const o=pI("iframefcb");return xi()[o]=()=>{gapi.load?r():n(Di(s,"network-request-failed"))},PA(`${gI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function C2(s){return mh=mh||R2(s),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new gu(5e3,15e3),N2="__/auth/iframe",D2="emulator/auth/iframe",x2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M2(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?wg(e,D2):`https://${s.config.authDomain}/${N2}`,r={apiKey:e.apiKey,appName:s.name,v:bo},o=O2.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${mu(r).slice(1)}`}async function V2(s){const e=await C2(s),n=xi().gapi;return ve(n,s,"internal-error"),e.open({where:document.body,url:M2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x2,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Di(s,"network-request-failed"),m=xi().setTimeout(()=>{u(h)},I2.get());function g(){xi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P2=500,L2=600,U2="_blank",j2="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B2(s,e,n,r=P2,o=L2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...k2,width:r.toString(),height:o.toString(),top:u,left:h},p=en().toLowerCase();n&&(m=NA(p)?U2:n),CA(p)&&(e=e||j2,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[x,H])=>`${R}${x}=${H},`,"");if(aI(p)&&m!=="_self")return z2(e||"",m),new vE(null);const A=window.open(e||"",m,T);ve(A,s,"popup-blocked");try{A.focus()}catch{}return new vE(A)}function z2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="__/auth/handler",q2="emulator/auth/handler",F2=encodeURIComponent("fac");async function EE(s,e,n,r,o,u){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:bo,eventId:o};if(e instanceof jA){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",RR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))h[T]=A}if(e instanceof yu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(h.scopes=T.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await s._getAppCheckToken(),p=g?`#${F2}=${encodeURIComponent(g)}`:"";return`${G2(s)}?${mu(m).slice(1)}${p}`}function G2({config:s}){return s.emulator?wg(s,q2):`https://${s.authDomain}/${H2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QA,this._completeRedirectFn=p2,this._overrideRedirectResult=d2}async _openPopup(e,n,r,o){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await EE(e,n,r,qm(),o);return B2(e,u,Dg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await EE(e,n,r,qm(),o);return XI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(us(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V2(e),r=new _2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VA()||IA()||Cg()}}const K2=Y2;var TE="@firebase/auth",AE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(s){ho(new $r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kA(s)},p=new fI(r,o,u,g);return AI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new $r("auth-internal",e=>{const n=gr(e.getProvider("auth").getImmediate());return(r=>new Q2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(TE,AE,X2(s)),ir(TE,AE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=300,Z2=cA("authIdTokenMaxAge")||J2;let SE=null;const $2=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z2)return;const o=n?.token;SE!==o&&(SE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eN(s=pA()){const e=Sg(s,"auth");if(e.isInitialized())return e.getImmediate();const n=TI(s,{popupRedirectResolver:K2,persistence:[s2,YI,QA]}),r=cA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=$2(u.toString());HI(n,h,()=>h(n.currentUser)),zI(n,m=>h(m))}}const o=lA("auth");return o&&SI(n,`http://${o}`),n}function tN(){return document.getElementsByTagName("head")?.[0]??document}dI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",tN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,t0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,V,U){for(var N=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)N[tt-2]=arguments[tt];return w.prototype[V].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)M[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)M[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],V=I.g[2];let U=I.g[3],N;N=w+(U^C&(V^U))+M[0]+3614090360&4294967295,w=C+(N<<7&4294967295|N>>>25),N=U+(V^w&(C^V))+M[1]+3905402710&4294967295,U=w+(N<<12&4294967295|N>>>20),N=V+(C^U&(w^C))+M[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(w^V&(U^w))+M[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(U^C&(V^U))+M[4]+4118548399&4294967295,w=C+(N<<7&4294967295|N>>>25),N=U+(V^w&(C^V))+M[5]+1200080426&4294967295,U=w+(N<<12&4294967295|N>>>20),N=V+(C^U&(w^C))+M[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(w^V&(U^w))+M[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(U^C&(V^U))+M[8]+1770035416&4294967295,w=C+(N<<7&4294967295|N>>>25),N=U+(V^w&(C^V))+M[9]+2336552879&4294967295,U=w+(N<<12&4294967295|N>>>20),N=V+(C^U&(w^C))+M[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(w^V&(U^w))+M[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(U^C&(V^U))+M[12]+1804603682&4294967295,w=C+(N<<7&4294967295|N>>>25),N=U+(V^w&(C^V))+M[13]+4254626195&4294967295,U=w+(N<<12&4294967295|N>>>20),N=V+(C^U&(w^C))+M[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(w^V&(U^w))+M[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=w+(V^U&(C^V))+M[1]+4129170786&4294967295,w=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(w^C))+M[6]+3225465664&4294967295,U=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(U^w))+M[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^w&(V^U))+M[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(V^U&(C^V))+M[5]+3593408605&4294967295,w=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(w^C))+M[10]+38016083&4294967295,U=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(U^w))+M[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^w&(V^U))+M[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(V^U&(C^V))+M[9]+568446438&4294967295,w=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(w^C))+M[14]+3275163606&4294967295,U=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(U^w))+M[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^w&(V^U))+M[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(V^U&(C^V))+M[13]+2850285829&4294967295,w=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(w^C))+M[2]+4243563512&4294967295,U=w+(N<<9&4294967295|N>>>23),N=V+(w^C&(U^w))+M[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^w&(V^U))+M[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=w+(C^V^U)+M[5]+4294588738&4294967295,w=C+(N<<4&4294967295|N>>>28),N=U+(w^C^V)+M[8]+2272392833&4294967295,U=w+(N<<11&4294967295|N>>>21),N=V+(U^w^C)+M[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^w)+M[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(C^V^U)+M[1]+2763975236&4294967295,w=C+(N<<4&4294967295|N>>>28),N=U+(w^C^V)+M[4]+1272893353&4294967295,U=w+(N<<11&4294967295|N>>>21),N=V+(U^w^C)+M[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^w)+M[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(C^V^U)+M[13]+681279174&4294967295,w=C+(N<<4&4294967295|N>>>28),N=U+(w^C^V)+M[0]+3936430074&4294967295,U=w+(N<<11&4294967295|N>>>21),N=V+(U^w^C)+M[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^w)+M[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(C^V^U)+M[9]+3654602809&4294967295,w=C+(N<<4&4294967295|N>>>28),N=U+(w^C^V)+M[12]+3873151461&4294967295,U=w+(N<<11&4294967295|N>>>21),N=V+(U^w^C)+M[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^w)+M[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=w+(V^(C|~U))+M[0]+4096336452&4294967295,w=C+(N<<6&4294967295|N>>>26),N=U+(C^(w|~V))+M[7]+1126891415&4294967295,U=w+(N<<10&4294967295|N>>>22),N=V+(w^(U|~C))+M[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~w))+M[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=w+(V^(C|~U))+M[12]+1700485571&4294967295,w=C+(N<<6&4294967295|N>>>26),N=U+(C^(w|~V))+M[3]+2399980690&4294967295,U=w+(N<<10&4294967295|N>>>22),N=V+(w^(U|~C))+M[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~w))+M[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=w+(V^(C|~U))+M[8]+1873313359&4294967295,w=C+(N<<6&4294967295|N>>>26),N=U+(C^(w|~V))+M[15]+4264355552&4294967295,U=w+(N<<10&4294967295|N>>>22),N=V+(w^(U|~C))+M[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~w))+M[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=w+(V^(C|~U))+M[4]+4149444226&4294967295,w=C+(N<<6&4294967295|N>>>26),N=U+(C^(w|~V))+M[11]+3174756917&4294967295,U=w+(N<<10&4294967295|N>>>22),N=V+(w^(U|~C))+M[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<w;){if(V==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(M[V++]=I.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<w;)if(M[V++]=I[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[w++]=this.g[C]>>>M&255;return I};function u(I,w){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function h(I,w){this.h=w;const C=[];let M=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;M&&U==w||(C[V]=U,M=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?u(I,function(w){return new h([w|0],w<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return G(p(-I));const w=[];let C=1;for(let M=0;I>=C;M++)w[M]=I/C|0,C*=4294967296;return new h(w,0)}function T(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return G(T(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let M=A;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const N=parseInt(I.substring(U,U+V),w);V<8?(V=p(Math.pow(w,V)),M=M.j(V).add(p(N))):(M=M.j(C),M=M.add(p(N)))}return M}var A=g(0),R=g(1),x=g(16777216);s=h.prototype,s.m=function(){if(K(this))return-G(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(K(this))return"-"+G(this).toString(I);const w=p(Math.pow(I,6));var C=this;let M="";for(;;){const V=de(C,w).g;C=te(C,V.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,H(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function K(I){return I.h==-1}s.l=function(I){return I=te(this,I),K(I)?-1:H(I)?0:1};function G(I){const w=I.g.length,C=[];for(let M=0;M<w;M++)C[M]=~I.g[M];return new h(C,~I.h).add(R)}s.abs=function(){return K(this)?G(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let V=0;V<=w;V++){let U=M+(this.i(V)&65535)+(I.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=N>>>16,U&=65535,N&=65535,C[V]=N<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(I,w){return I.add(G(w))}s.j=function(I){if(H(this)||H(I))return A;if(K(this))return K(I)?G(this).j(G(I)):G(G(this).j(I));if(K(I))return G(this.j(G(I)));if(this.l(x)<0&&I.l(x)<0)return p(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<I.g.length;V++){const U=this.i(M)>>>16,N=this.i(M)&65535,tt=I.i(V)>>>16,ct=I.i(V)&65535;C[2*M+2*V]+=N*ct,ne(C,2*M+2*V),C[2*M+2*V+1]+=U*ct,ne(C,2*M+2*V+1),C[2*M+2*V+1]+=N*tt,ne(C,2*M+2*V+1),C[2*M+2*V+2]+=U*tt,ne(C,2*M+2*V+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new h(C,0)};function ne(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ie(I,w){this.g=I,this.h=w}function de(I,w){if(H(w))throw Error("division by zero");if(H(I))return new ie(A,A);if(K(I))return w=de(G(I),w),new ie(G(w.g),G(w.h));if(K(w))return w=de(I,G(w)),new ie(G(w.g),w.h);if(I.g.length>30){if(K(I)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=w;M.l(I)<=0;)C=Ae(C),M=Ae(M);var V=ye(C,1),U=ye(M,1);for(M=ye(M,2),C=ye(C,2);!H(M);){var N=U.add(M);N.l(I)<=0&&(V=V.add(C),U=N),M=ye(M,1),C=ye(C,1)}return w=te(I,V.j(w)),new ie(V,w)}for(V=A;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(C),N=U.j(w);K(N)||N.l(I)>0;)C-=M,U=p(C),N=U.j(w);H(U)&&(U=R),V=V.add(U),I=te(I,N)}return new ie(V,I)}s.B=function(I){return de(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&I.i(M);return new h(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|I.i(M);return new h(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^I.i(M);return new h(C,this.h^I.h)};function Ae(I){const w=I.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(C,I.h)}function ye(I,w){const C=w>>5;w%=32;const M=I.g.length-C,V=[];for(let U=0;U<M;U++)V[U]=w>0?I.i(U+C)>>>w|I.i(U+C+1)<<32-w:I.i(U+C);return new h(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,sr=h}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n0,zl,i0,gh,Ym,s0,r0,a0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in v))break e;v=v[j]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function T(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function A(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,j,F){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[j].apply(b,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function H(c,y){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const F=j.length||0;c.length=v+F;for(let se=0;se<F;se++)c[v+se]=j[se]}else c.push(j)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){h.setTimeout(()=>{throw c},0)}function te(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const b=ie.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new K(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ye=!1,I=new ne,w=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){G(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ye=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function tt(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}A(tt,V),tt.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(c,y,v,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=j,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function ue(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function O(c){const y={};for(const v in c)y[v]=c[v];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)c[v]=b[v];for(let F=0;F<Q.length;F++)v=Q[F],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,b,j){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const se=Ie(c,y,b,j);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new re(y,this.src,F,!!b,j),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var b=c.g[v],j=Array.prototype.indexOf.call(b,y,void 0),F;(F=j>=0)&&Array.prototype.splice.call(b,j,1),F&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,b){for(let j=0;j<c.length;++j){const F=c[j];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==b)return j}return-1}var je="closure_lm_"+(Math.random()*1e6|0),xt={};function rt(c,y,v,b,j){if(Array.isArray(y)){for(let F=0;F<y.length;F++)rt(c,y[F],v,b,j);return null}return v=Mo(v),c&&c[ct]?c.J(y,v,m(b)?!!b.capture:!1,j):_r(c,y,v,!1,b,j)}function _r(c,y,v,b,j,F){if(!y)throw Error("Invalid event type");const se=m(j)?!!j.capture:!!j;let Re=vr(c);if(Re||(c[je]=Re=new ce(c)),v=Re.add(y,v,b,se,F),v.proxy)return v;if(b=ca(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)U||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(ai(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ca(){function c(v){return y.call(c.src,c.listener,v)}const y=xo;return c}function ha(c,y,v,b,j){if(Array.isArray(y))for(var F=0;F<y.length;F++)ha(c,y[F],v,b,j);else b=m(b)?!!b.capture:!!b,v=Mo(v),c&&c[ct]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=Ie(y,v,b,j),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=vr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,b,j)),(v=c>-1?y[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])Te(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(ai(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=vr(y))?(Te(v,c),v.h==0&&(v.src=null,y[je]=null)):me(c)}}}function ai(c){return c in xt?xt[c]:xt[c]="on"+c}function xo(c,y){if(c.da)c=!0;else{y=new tt(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&fa(c),c=v.call(b,y)}return c}function vr(c){return c=c[je],c instanceof ce?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function vt(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}A(vt,M),vt.prototype[ct]=!0,vt.prototype.removeEventListener=function(c,y,v,b){ha(this,c,y,v,b)};function Ot(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var j=y;y=new V(b,c),ae(y,j)}j=!0;let F,se;if(v)for(se=v.length-1;se>=0;se--)F=y.g=v[se],j=gs(F,b,!0,y)&&j;if(F=y.g=c,j=gs(F,b,!0,y)&&j,j=gs(F,b,!1,y)&&j,v)for(se=0;se<v.length;se++)F=y.g=v[se],j=gs(F,b,!1,y)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)me(v[b]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},vt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function gs(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let F=0;F<y.length;++F){const se=y[F];if(se&&!se.da&&se.capture==v){const Re=se.listener,mt=se.ha||se.src;se.fa&&Te(c.i,se),j=Re.call(mt,b)!==!1&&j}}return j&&!b.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Cu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){M.call(this),this.h=c,this.g={}}A(Er,M);var Vo=[];function ko(c){Le(c.g,function(y,v){this.g.hasOwnProperty(v)&&fa(y)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),ko(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=h.JSON.stringify,_f=h.JSON.parse,Iu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Nu(){}function Du(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){V.call(this,"d")}A(Bt,V);function wn(){V.call(this,"c")}A(wn,V);var dt={},xu=null;function da(){return xu=xu||new vt}dt.Ia="serverreachability";function Ou(c){V.call(this,dt.Ia,c)}A(Ou,V);function oi(c){const y=da();Ot(y,new Ou(y))}dt.STAT_EVENT="statevent";function Tr(c,y){V.call(this,dt.STAT_EVENT,c),this.stat=y}A(Tr,V);function Et(c){const y=da();Ot(y,new Tr(y,c))}dt.Ja="timingevent";function li(c,y){V.call(this,dt.Ja,c),this.size=y}A(li,V);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function vf(c,y,v,b,j,F){c.info(function(){if(c.g)if(F){var se="",Re=F.split("&");for(let qe=0;qe<Re.length;qe++){var mt=Re[qe].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const Nn=at.split("_");se=Nn.length>=2&&Nn[1]=="type"?se+(at+"="+mt+"&"):se+(at+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+v+`
`+se})}function Mu(c,y,v,b,j,F,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+v+`
`+F+" "+se})}function ci(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,v)+(b?" "+b:"")})}function Ar(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return ps(F)}catch{return y}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function br(){}A(br,Nu),br.prototype.g=function(){return new XMLHttpRequest},Lo=new br;function Li(c){return encodeURIComponent(String(c))}function Vu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function qn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function hi(c,y,v){c.M=1,c.A=wr(St(y)),c.u=v,c.R=!0,ma(c,null)}function ma(c,y){c.F=Date.now(),fi(c),c.B=St(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),_a(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Fn,c.g=Xu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Vo[0]=j.toString()),j=Vo);for(let F=0;F<j.length;F++){const se=rt(v,j[F],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Kn(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Re!=4||mt==7||(mt==8||qe<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var v=Tf(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var F=b;break t}}F=null}if(c=F)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Et(12),mn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Pu(this,v),at==kt){Re==4&&(this.m=4,Et(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,at,null),mi(this,at);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(se),se.P=!0,Et(11))}}else ci(this.i,this.l,v,null),mi(this,v);Re==4&&mn(this),this.o&&!this.K&&(Re==4?Gu(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),Rn(this)}}}catch{}finally{}};function Tf(c){if(!ku(c))return c.g.la();const y=zt(c.g);if(y==="")return"";let v="";const b=y.length,j=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<b;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(j&&F==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?kt:(v=Number(y.substring(v,b)),isNaN(v)?Tt:(b+=1,b+v>y.length?kt:(y=y.slice(b,b+v),c.C=b+v,y)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function fi(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(p(c.aa,c),y)}function di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(oi(),Et(17)),mn(this),this.m=2,Rn(this)):ga(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Gu(c.j,c)}function mn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Sa(v),bs(v);else break e;Or(v),Et(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(p(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Sa(v),!N(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let qe=j[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Nn=qe[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Si=qe[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Qn=qe[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Xn=c.g;if(Xn){const Mr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var F=b.h;F.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Bo(F,F.h),F.h=null))}if(b.G){const ba=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(b.wa=ba,Ye(b.J,b.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=c;if(b.na=Qu(b,b.L?b.ba:null,b.W),se.L){zo(b.h,se);var Re=se,mt=b.O;mt&&(Re.H=mt),Re.D&&(di(Re),fi(Re)),b.g=se}else qu(b);v.i.length>0&&Ti(v)}else qe[0]!="stop"&&qe[0]!="close"||Ai(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ai(v,7):Wo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}oi(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Uo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Bo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Uo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return x(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let j,F=null;b>=0?(j=c[v].substring(0,b),F=c[v].substring(b+1)):j=c[v],y(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,qo(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(Lu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),ys(this,y[4]),this.h=yi(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Rr(y,ya,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rr(y,ya,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rr(v,v.charAt(0)=="/"?Fo:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rr(v,ju)),c.join("")},gn.prototype.resolve=function(c){const y=St(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)ys(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=y.h.lastIndexOf("/");j!=-1&&(b=y.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const F=[];for(let se=0;se<j.length;){const Re=j[se++];Re=="."?b&&se==j.length&&F.push(""):Re==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&se==j.length&&F.push("")):(F.push(Re),b=!0)}b=F.join("/")}else b=j}return v?y.h=b:v=c.i.toString()!=="",v?qo(y,zu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function St(c){return new gn(c)}function Pt(c,y,v){c.j=v?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function qo(c,y,v){y instanceof vs?(c.i=y,va(c.i,c.l)):(v||(y=Rr(y,_s)),c.i=new vs(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function wr(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Uu=/[#\?:]/g,Fo=/[#\?]/g,_s=/[#\?@]/g,ju=/#/g;function vs(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=vs.prototype,s.add=function(c,y){an(this),this.i=null,c=Es(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Bu(c,y){an(c),y=Es(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Go(c,y){return an(c),y=Es(c,y),c.g.has(y)}s.forEach=function(c,y){an(this),this.g.forEach(function(v,b){v.forEach(function(j){c.call(y,j,b,this)},this)},this)};function Yo(c,y){an(c);let v=[];if(typeof y=="string")Go(c,y)&&(v=v.concat(c.g.get(Es(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}s.set=function(c,y){return an(this),this.i=null,c=Es(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=Yo(this,c),c.length>0?String(c[0]):y):y};function _a(c,y,v){Bu(c,y),v.length>0&&(c.i=null,c.g.set(Es(c,y),x(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const j=Li(v);v=Yo(this,v);for(let F=0;F<v.length;F++){let se=j;v[F]!==""&&(se+="="+Li(v[F])),c.push(se)}}return this.i=c.join("&")};function zu(c){const y=new vs;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Es(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function va(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(Bu(this,b),_a(this,j,v))},c)),c.j=y}function Gn(c,y){const v=new Hn;if(h.Image){const b=new Image;b.onload=T(Cn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=T(Cn,v,"TestLoadImage: error",!1,y,b),b.onabort=T(Cn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Ko(c,y){const v=new Hn,b=new AbortController,j=setTimeout(()=>{b.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(j),F.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function Ts(){this.g=new Iu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}A(_i,Nu),_i.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,vt),s=Cr.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?As(this):Yn(this),this.readyState==3&&Ea(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}s.setRequestHeader=function(c,y){this.A.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return Le(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Ir(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=In(v),typeof c=="string"?v!=null&&Li(v):Ye(c,y,v))}function Xe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,vt);var vi=/^https?$/i,Qo=["POST","PUT"];s=Xe.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Nr(this,F);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())v.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of v)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Nr(this,F)}};function Nr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Xo(c),Ui(c)}function Xo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=F===0){let se=String(c.D).match(Lu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),b=!vi.test(se?se.toLowerCase():"")}v=b}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Kn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Xo(c)}}finally{Ui(c)}}}}function Ui(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(N(c[b]))continue;var v=Vu(c[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[j]||[];y[j]=F,F.push(v)}ue(y,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ss(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new Ts,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(c,y,v,b){Et(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Qu(this,null,this.W),Ti(this)};function Wo(c){if(Ta(c),c.I==3){var y=c.V++,v=St(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),xr(c,v),y=new qn(c,c.j,y),y.M=2,y.A=wr(St(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}Ku(c)}function bs(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Ta(c){bs(c),c.v&&(h.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ti(c){if(!jo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ae||w(),ye||(Ae(),ye=!0),I.add(y,c),c.D=0}}function Aa(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(p(c.Ea,c,y),Yu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new qn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=O(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(j.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,j,y),v=St(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),xr(this,v),F&&(this.R?y="headers="+Li(In(F))+"&"+y:this.u&&Ir(v,this.u,F)),Bo(this.h,j),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),j.U=!0,hi(j,v,null)):hi(j,v,y),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||jo(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.V++;const b=St(c.J);Ye(b,"SID",c.M),Ye(b,"RID",v),Ye(b,"AID",c.K),xr(c,b),c.u&&c.o&&Ir(b,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,v),hi(v,b,y)}function xr(c,y){c.H&&Le(c.H,function(v,b){Ye(y,b,v)}),c.l&&Le({},function(v,b){Ye(y,b,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;e:{var j=c.i;let Re=-1;for(;;){const mt=["count="+v];Re==-1?v>0?(Re=j[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let qe=!0;for(let at=0;at<v;at++){var F=j[at].g;const Nn=j[at].map;if(F-=Re,F<0)Re=Math.max(0,j[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var se=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Si,Qn]of se){let Xn=Qn;m(Qn)&&(Xn=ps(Qn)),mt.push(F+Si+"="+encodeURIComponent(Xn))}}catch(Si){throw mt.push(F+"type="+encodeURIComponent("_badmap")),Si}}catch{b&&b(Nn)}}if(qe){se=mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ae||w(),ye||(Ae(),ye=!0),I.add(y,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(p(c.Da,c),Yu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),bs(this),Fu(this))};function Zo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),xr(c,y),c.u&&c.o&&Ir(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wr(St(y)),v.u=null,v.R=!0,ma(v,c)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),Or(this),Et(19))};function Sa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){Sa(c),Zo(c),c.g=null;var b=2}else if(pi(c.h,y))v=y.G,zo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;b=da(),Ot(b,new li(b,v)),Ti(c)}else qu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(b==1&&Aa(c,y)||b==2&&Or(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Yu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),b=c.Ua;const j=!b;b=new gn(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(b,"https"),wr(b),j?Gn(b.toString(),v):Ko(b.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),Ku(c),Ta(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ku(c){if(c.I=0,c.ja=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Qu(c,y,v){var b=v instanceof gn?St(v):new gn(v);if(b.g!="")y&&(b.g=y+"."+b.g),ys(b,b.u);else{var j=h.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const F=new gn(null);b&&Pt(F,b),y&&(F.g=y),j&&ys(F,j),v&&(F.h=v),b=F}return v=c.G,y=c.wa,v&&y&&Ye(b,v,y),Ye(b,"VER",c.ka),xr(c,b),b}function Xu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new _i({ab:v})):new Xe(c.ma),y.Fa(c.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}s=Wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){vt.call(this),this.g=new Ss(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}A(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ps(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Ti(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.Z.N.call(this)};function Ju(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(Ju,Bt);function Zu(){wn.call(this),this.status=1}A(Zu,wn);function Bi(c){this.g=c}A(Bi,Wu),Bi.prototype.ra=function(){Ot(this.g,"a")},Bi.prototype.qa=function(c){Ot(this.g,new Ju(c))},Bi.prototype.pa=function(c){Ot(this.g,new Zu)},Bi.prototype.oa=function(){Ot(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,a0=function(){return new ws},r0=function(){return da()},s0=dt,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,gh=Sr,Po.COMPLETE="complete",i0=Po,Du.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,zl=Du,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,n0=Xe}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",RE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Tg("@firebase/firestore");function to(){return na.logLevel}function le(s,...e){if(na.logLevel<=Ve.DEBUG){const n=e.map(Og);na.debug(`Firestore (${Ro}): ${s}`,...n)}}function cs(s,...e){if(na.logLevel<=Ve.ERROR){const n=e.map(Og);na.error(`Firestore (${Ro}): ${s}`,...n)}}function fo(s,...e){if(na.logLevel<=Ve.WARN){const n=e.map(Og);na.warn(`Firestore (${Ro}): ${s}`,...n)}}function Og(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,o0(s,r,n)}function o0(s,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function Ge(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||o0(e,o,r)}function we(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class iN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new l0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class rN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=lN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function ke(s,e){return s<e?-1:s>e?1:0}function Km(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Dm(o)===Dm(u)?ke(o,u):Dm(o)?1:-1}return ke(s.length,e.length)}const uN=55296,cN=57343;function Dm(s){const e=s.charCodeAt(0);return e>=uN&&e<=cN}function mo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__name__";class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),o=Ni.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class nt extends Ni{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ni{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return hN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new Kt([IE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(s,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fN(s,e,n,r){if(e===!0&&r===!0)throw new oe(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function NE(s){if(!pe.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function DE(s){if(pe.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function c0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function ni(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function vu(s,e){if(!c0(s))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=-62135596800,OE=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OE);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Dt("string",et._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new et(0,0))}static max(){return new Se(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function dN(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new or(o,pe.empty(),e)}function mN(s){return new or(s.readTime,s.key,nu)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(Se.min(),pe.empty(),nu)}static max(){return new or(Se.max(),pe.empty(),nu)}}function gN(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:ke(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==pN)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((o=>o?ee.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===u&&r(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ee(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function _N(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=-1;function Zh(s){return s==null}function Oh(s){return s===0&&1/s==-1/0}function vN(s){return typeof s=="number"&&Number.isInteger(s)&&!Oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="";function EN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=ME(e)),e=TN(s.get(n),e);return ME(e)}function TN(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case h0:n+="";break;default:n+=u}}return n}function ME(s){return s+h0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function pr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function f0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class kE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Vt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new d0("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const AN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=AN.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="server_timestamp",g0="__type__",p0="__previous_value__",y0="__local_write_time__";function kg(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===m0}function $h(s){const e=s.mapValue.fields[p0];return kg(e)?$h(e):e}function iu(s){const e=lr(s.mapValue.fields[y0].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,o,u,h,m,g,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T}}const Mh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__type__",bN="__max__",ah={mapValue:{}},v0="__vector__",Vh="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?kg(s)?4:RN(s)?9007199254740991:wN(s)?10:11:Ee(28295,{value:s})}function Pi(s,e){if(s===e)return!0;const n=cr(s);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return iu(s).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=lr(o.timestampValue),m=lr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return ur(o.bytesValue).isEqual(ur(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return mo(s.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(VE(h)!==VE(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Pi(h[g],m[g])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function ru(s,e){return(s.values||[]).find((n=>Pi(n,e)))!==void 0}function go(s,e){if(s===e)return 0;const n=cr(s),r=cr(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=yt(u.integerValue||u.doubleValue),g=yt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return PE(s.timestampValue,e.timestampValue);case 4:return PE(iu(s),iu(e));case 5:return Km(s.stringValue,e.stringValue);case 6:return(function(u,h){const m=ur(u),g=ur(h);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=ke(m[p],g[p]);if(T!==0)return T}return ke(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(yt(u.latitude),yt(h.latitude));return m!==0?m:ke(yt(u.longitude),yt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return LE(s.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Vh]?.arrayValue,T=g[Vh]?.arrayValue,A=ke(p?.values?.length||0,T?.values?.length||0);return A!==0?A:LE(p,T)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const R=Km(g[A],T[A]);if(R!==0)return R;const x=go(m[g[A]],p[T[A]]);if(x!==0)return x}return ke(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function PE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const n=lr(s),r=lr(e),o=ke(n.seconds,r.seconds);return o!==0?o:ke(n.nanos,r.nanos)}function LE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=go(n[o],r[o]);if(u)return u}return ke(n.length,r.length)}function po(s){return Qm(s)}function Qm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=lr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ur(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Qm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Qm(n.fields[h])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function ph(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(s);return e?16+ph(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+ph(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return pr(r.fields,((u,h)=>{o+=u.length+ph(h)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function UE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Xm(s){return!!s&&"integerValue"in s}function Pg(s){return!!s&&"arrayValue"in s}function jE(s){return!!s&&"nullValue"in s}function BE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function yh(s){return!!s&&"mapValue"in s}function wN(s){return(s?.mapValue?.fields||{})[_0]?.stringValue===v0}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return pr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(s.arrayValue.values[n]);return e}return{...s}}function RN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=Kl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){pr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new dn(Kl(this.value))}}function E0(s){const e=[];return pr(s.fields,((n,r)=>{const o=new Kt([n]);if(yh(r)){const u=E0(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),dn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function zE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(h.referenceValue),n.key):r=go(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Pi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function CN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{}class Nt extends T0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NN(e,n,r):n==="array-contains"?new ON(e,r):n==="in"?new MN(e,r):n==="not-in"?new VN(e,r):n==="array-contains-any"?new kN(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DN(e,r):new xN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends T0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return A0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(s){return s.op==="and"}function S0(s){return IN(s)&&A0(s)}function IN(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Wm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+po(s.value);if(S0(s))return s.filters.map((e=>Wm(e))).join(",");{const e=s.filters.map((n=>Wm(n))).join(",");return`${s.op}(${e})`}}function b0(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&Pi(r.value,o.value)})(s,e):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&b0(h,o.filters[m])),!0):!1})(s,e):void Ee(19439)}function w0(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(w0).join(" ,")+"}"})(s):"Filter"}class NN extends Nt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class DN extends Nt{constructor(e,n){super(e,"in",n),this.keys=R0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=R0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function R0(s,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class ON extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&ru(n.arrayValue,this.value)}}class MN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class VN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class kN extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function qE(s,e=null,n=[],r=[],o=null,u=null,h=null){return new PN(s,e,n,r,o,u,h)}function Lg(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Wm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>po(r))).join(",")),e.Te=n}return e.Te}function Ug(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!CN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!b0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!HE(s.startAt,e.startAt)&&HE(s.endAt,e.endAt)}function Jm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LN(s,e,n,r,o,u,h,m){return new No(s,e,n,r,o,u,h,m)}function jg(s){return new No(s)}function FE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function C0(s){return s.collectionGroup!==null}function Ql(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Kt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new au(u,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new au(Kt.keyField(),r))}return e.Ie}function Oi(s){const e=we(s);return e.Ee||(e.Ee=UN(e,Ql(s))),e.Ee}function UN(s,e){if(s.limitType==="F")return qE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new au(o.field,u)}));const n=s.endAt?new kh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new kh(s.startAt.position,s.startAt.inclusive):null;return qE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Zm(s,e){const n=s.filters.concat([e]);return new No(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function $m(s,e,n){return new No(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function ef(s,e){return Ug(Oi(s),Oi(e))&&s.limitType===e.limitType}function I0(s){return`${Lg(Oi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>w0(o))).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${r})`})(Oi(s))}; limitType=${s.limitType})`}function tf(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Ql(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,g){const p=zE(h,m,g);return h.inclusive?p<=0:p<0})(r.startAt,Ql(r),o)||r.endAt&&!(function(h,m,g){const p=zE(h,m,g);return h.inclusive?p>=0:p>0})(r.endAt,Ql(r),o))})(s,e)}function jN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N0(s){return(e,n)=>{let r=!1;for(const o of Ql(s)){const u=BN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function BN(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?go(g,p):Ee(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new ut(pe.comparator);function hs(){return zN}const D0=new ut(pe.comparator);function Hl(...s){let e=D0;for(const n of s)e=e.insert(n.key,n);return e}function x0(s){let e=D0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wr(){return Xl()}function O0(){return Xl()}function Xl(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const HN=new ut(pe.comparator),qN=new Vt(pe.comparator);function Pe(...s){let e=qN;for(const n of s)e=e.add(n);return e}const FN=new Vt(ke);function GN(){return FN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function M0(s){return{integerValue:""+s}}function YN(s,e){return vN(e)?M0(e):Bg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function KN(s,e,n){return s instanceof Ph?(function(o,u){const h={fields:{[g0]:{stringValue:m0},[y0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kg(u)&&(u=$h(u)),u&&(h.fields[p0]=u),{mapValue:h}})(n,e):s instanceof ou?k0(s,e):s instanceof lu?P0(s,e):(function(o,u){const h=V0(o,u),m=GE(h)+GE(o.Ae);return Xm(h)&&Xm(o.Ae)?M0(m):Bg(o.serializer,m)})(s,e)}function QN(s,e,n){return s instanceof ou?k0(s,e):s instanceof lu?P0(s,e):n}function V0(s,e){return s instanceof Lh?(function(r){return Xm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ph extends nf{}class ou extends nf{constructor(e){super(),this.elements=e}}function k0(s,e){const n=L0(e);for(const r of s.elements)n.some((o=>Pi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class lu extends nf{constructor(e){super(),this.elements=e}}function P0(s,e){let n=L0(e);for(const r of s.elements)n=n.filter((o=>!Pi(o,r)));return{arrayValue:{values:n}}}class Lh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GE(s){return yt(s.integerValue||s.doubleValue)}function L0(s){return Pg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function XN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ou&&o instanceof ou||r instanceof lu&&o instanceof lu?mo(r.elements,o.elements,Pi):r instanceof Lh&&o instanceof Lh?Pi(r.Ae,o.Ae):r instanceof Ph&&o instanceof Ph})(s.transform,e.transform)}class WN{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class sf{}function U0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new zg(s.key,Bn.none()):new Eu(s.key,s.data,Bn.none());{const n=s.data,r=dn.empty();let o=new Vt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new yr(s.key,r,new Sn(o.toArray()),Bn.none())}}function JN(s,e,n){s instanceof Eu?(function(o,u,h){const m=o.value.clone(),g=KE(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,n):s instanceof yr?(function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=KE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(j0(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Wl(s,e,n,r){return s instanceof Eu?(function(u,h,m,g){if(!_h(u.precondition,h))return m;const p=u.value.clone(),T=QE(u.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(s,e,n,r):s instanceof yr?(function(u,h,m,g){if(!_h(u.precondition,h))return m;const p=QE(u.fieldTransforms,g,h),T=h.data;return T.setAll(j0(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(u,h,m){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,n)}function ZN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=V0(r.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(r.field,u))}return n||null}function YE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,((u,h)=>XN(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Eu extends sf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends sf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function KE(s,e,n){const r=new Map;Ge(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,QN(h,m,n[o]))}return r}function QE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,h=n.data.field(o.field);r.set(o.field,KN(u,h,e))}return r}class zg extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $N extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=O0();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=U0(h,m);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,r)=>YE(n,r)))&&mo(this.baseMutations,e.baseMutations,((n,r)=>YE(n,r)))}}class Hg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return HN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Hg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function iD(s){switch(s){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function B0(s){if(s===void 0)return cs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:s})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new sr([4294967295,4294967295],0);function XE(s){const e=sD().encode(s),n=new t0;return n.update(e),new Uint8Array(n.digest())}function WE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sr([n,r],0),new sr([o,u],0)]}class qg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(sr.fromNumber(r)));return o.compare(rD)===1&&(o=new sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new qg(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rf(Se.min(),o,new ut(ke),hs(),Pe())}}class Tu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class z0{constructor(e,n){this.targetId=e,this.Ce=n}}class H0{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aD{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=oh(),this.He=oh(),this.Ye=new ut(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(r===0){const h=new pe(u.path);this.et(n,h,Zt.newNoDocument(h,Se.min()))}else Ge(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ur(r).toUint8Array()}catch(g){if(g instanceof d0)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new qg(h,o,u)}catch(g){return fo(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Jm(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new rf(e,n,this.Ye,this.je,r);return this.je=hs(),this.Je=oh(),this.He=oh(),this.Ye=new ut(ke),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ut(pe.comparator)}function ZE(){return new ut(pe.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},lD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uD={and:"AND",or:"OR"};class cD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(s,e){return s.useProto3Json||Zh(e)?e:{value:e}}function Uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function hD(s,e){return Uh(s,e.toTimestamp())}function Mi(s){return Ge(!!s,49232),Se.fromTimestamp((function(n){const r=lr(n);return new et(r.seconds,r.nanos)})(s))}function Fg(s,e){return tg(s,e).canonicalString()}function tg(s,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function F0(s){const e=nt.fromString(s);return Ge(X0(e),10190,{key:e.toString()}),e}function ng(s,e){return Fg(s.databaseId,e.path)}function xm(s,e){const n=F0(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(Y0(n))}function G0(s,e){return Fg(s.databaseId,e)}function fD(s){const e=F0(s);return e.length===4?nt.emptyPath():Y0(e)}function ig(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Y0(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $E(s,e,n){return{name:ng(s,e),fields:n.value.mapValue.fields}}function dD(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?Z.UNKNOWN:B0(p.code);return new oe(T,p.message||"")})(h);n=new H0(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=xm(s,r.document.name),u=Mi(r.document.updateTime),h=r.document.createTime?Mi(r.document.createTime):Se.min(),m=new dn({mapValue:{fields:r.document.fields}}),g=Zt.newFoundDocument(o,u,h,m),p=r.targetIds||[],T=r.removedTargetIds||[];n=new vh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=xm(s,r.document),u=r.readTime?Mi(r.readTime):Se.min(),h=Zt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=xm(s,r.document),u=r.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new nD(o,u),m=r.targetId;n=new z0(m,h)}}return n}function mD(s,e){let n;if(e instanceof Eu)n={update:$E(s,e.key,e.value)};else if(e instanceof zg)n={delete:ng(s,e.key)};else if(e instanceof yr)n={update:$E(s,e.key,e.data),updateMask:SD(e.fieldMask)};else{if(!(e instanceof $N))return Ee(16599,{Vt:e.type});n={verify:ng(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(s,e.precondition)),n}function gD(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((n=>(function(o,u){let h=o.updateTime?Mi(o.updateTime):Mi(u);return h.isEqual(Se.min())&&(h=Mi(u)),new WN(h,o.transformResults||[])})(n,e)))):[]}function pD(s,e){return{documents:[G0(s,e.path)]}}function yD(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G0(s,o);const u=(function(p){if(p.length!==0)return Q0(ii.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(R){return{field:io(R.field),direction:ED(R.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=eg(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function _D(s){let e=fD(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const R=K0(A);return R instanceof ii&&S0(R)?R.getFilters():[R]})(n.where));let h=[];n.orderBy&&(h=(function(A){return A.map((R=>(function(H){return new au(so(H.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Zh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(A){const R=!!A.before,x=A.values||[];return new kh(x,R)})(n.startAt));let p=null;return n.endAt&&(p=(function(A){const R=!A.before,x=A.values||[];return new kh(x,R)})(n.endAt)),LN(e,o,h,u,m,"F",g,p)}function vD(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>K0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(s):Ee(30097,{filter:s})}function ED(s){return oD[s]}function TD(s){return lD[s]}function AD(s){return uD[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return Kt.fromServerFormat(s.fieldPath)}function Q0(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:TD(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((o=>Q0(o)));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}})(s):Ee(54877,{filter:s})}function SD(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function X0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,o,u=Se.min(),h=Se.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.yt=e}}function wD(s){const e=_D({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Cn=new CD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(or.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class CD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(nt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(W0,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",ID=1048576;function nT([s,e],[n,r]){const o=ke(s,n);return o===0?ke(e,r):o}class ND{constructor(e){this.Ir=e,this.buffer=new Vt(nT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?le(tT,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class xD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Jh.ce);const r=new ND(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(eT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(p=Date.now(),to()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function OD(s,e){return new xD(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Wl(r.mutation,o,Sn.empty(),et.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const o=Wr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Hl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=hs();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((g,p)=>{const T=r.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof yr)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),Wl(T.mutation,p,T.mutation.getFieldMask(),et.now())):h.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new VD(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Xl();let o=new ut(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=r.get(g)||Sn.empty();T=m.applyToLocalView(p,T),r.set(g,T);const A=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,A=O0();T.forEach((R=>{if(!u.has(R)){const x=U0(n.get(R),r.get(R));x!==null&&A.set(R,x),u=u.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,A))}return ee.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ee.resolve(Wr());let m=nu,g=u;return h.next((p=>ee.forEach(p,((T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((T=>({batchId:m,changes:x0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=Hl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(A,R){return new No(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((T=>{T.forEach(((A,R)=>{h=h.insert(A,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,Zt.newInvalidDocument(T)))}));let m=Hl();return h.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&Wl(T.mutation,p,Sn.empty(),et.now()),tf(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:wD(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const o=Wr(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ut(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let T=u.get(p.largestBatchId);T===null&&(T=Wr(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Wr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new tD(n,r));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new nt([])),r=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),r=new Ut(n,e),o=new Ut(n,e+1);let u=Pe();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new eD(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Vg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(ke);return n.forEach((o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new pe(u),0);let m=new Vt(ke);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),o=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=hs();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||gN(mN(T),r)<=0||(o.has(T.key)||tf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new zD(this)}getSize(e){return ee.resolve(this.size)}}class zD extends MD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.persistence=e,this.si=new aa((n=>Lg(n)),Ug),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Gg,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new UD,this.referenceDelegate=e(this),this.Pi=new HD(this),this.indexManager=new RD,this.remoteDocumentCache=(function(o){return new BD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bD(n),this.Ii=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new qD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class qD extends yN{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Ri=new Gg,this.Vi=null}static mi(e){return new Yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new aa((r=>EN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=OD(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(r++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ER()?8:_N(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new FD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(to()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(to()<=Ve.DEBUG&&le("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(to()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ee.resolve())}ys(e,n){if(FE(n))return ee.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,$m(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,r,o){return FE(n)||o.isEqual(Se.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?ee.resolve(null):(to()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(e,h,n,dN(o,nu)).next((m=>m)))}))}Ds(e,n){let r=new Vt(N0(e));return n.forEach(((o,u)=>{tf(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return to()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,or.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",YD=3e8;class KD{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(ke),this.xs=new aa((u=>Lg(u)),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function QD(s,e,n,r){return new KD(s,e,n,r)}async function Z0(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let g=Pe();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function XD(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const A=p.batch,R=A.keys();let x=ee.resolve();return R.forEach((H=>{x=x.next((()=>T.getEntry(g,H))).next((K=>{const G=p.docVersions.get(H);Ge(G!==null,48541),K.version.compareTo(G)<0&&(A.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),T.addEntry(K)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function $0(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WD(s,e){const n=we(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,A)=>{const R=o.get(A);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let x=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?x=x.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(T.resumeToken,r)),o=o.insert(A,x),(function(K,G,te){return K.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=YD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(R,x,T)&&m.push(n.Pi.updateTargetData(u,x))}));let g=hs(),p=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(JD(u,h,e.documentUpdates).next((T=>{g=T.ks,p=T.qs}))),!r.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function JD(s,e,n){let r=Pe(),o=Pe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let h=hs();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):le(Qg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function ZD(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $D(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new er(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function sg(s,e,n){const r=we(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Io(h))throw h;le(Qg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function iT(s,e,n){const r=we(s);let o=Se.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const A=we(g),R=A.xs.get(T);return R!==void 0?ee.resolve(A.Ms.get(R)):A.Pi.getTargetData(p,T)})(r,h,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe()))).next((m=>(ex(r,jN(e),m),{documents:m,Qs:u})))))}function ex(s,e,n){let r=s.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class sT{constructor(){this.activeTargetIds=GN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tx{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="ConnectivityMonitor";class aT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function rg(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Mh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=rg(),m=this.zo(e,n.toUriEncodedString());le(Om,`Sending RPC '${e}' ${h}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),T=So(p);return this.Jo(e,m,g,r,T).then((A=>(le(Om,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw fo(Om,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=ix[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class ax extends sx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=rg();return new Promise(((m,g)=>{const p=new n0;p.setWithCredentials(!0),p.listenOnce(i0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gh.NO_ERROR:const A=p.getResponseJson();le(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case gh.TIMEOUT:le(Wt,`RPC '${e}' ${h} timed out`),g(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const R=p.getStatus();if(le(Wt,`RPC '${e}' ${h} failed with status:`,R,"response text:",p.getResponseText()),R>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x?.error;if(H&&H.status&&H.message){const K=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(H.status);g(new oe(K,H.message))}else g(new oe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Wt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);le(Wt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=rg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=a0(),m=r0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const A=h.createWebChannel(T,g);this.I_(A);let R=!1,x=!1;const H=new rx({Yo:G=>{x?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(R||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,G),A.send(G))},Zo:()=>A.close()}),K=(G,te,ne)=>{G.listen(te,(ie=>{try{ne(ie)}catch(de){setTimeout((()=>{throw de}),0)}}))};return K(A,zl.EventType.OPEN,(()=>{x||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),K(A,zl.EventType.CLOSE,(()=>{x||(x=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(A))})),K(A,zl.EventType.ERROR,(G=>{x||(x=!0,fo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),H.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),K(A,zl.EventType.MESSAGE,(G=>{if(!x){const te=G.data[0];Ge(!!te,16349);const ne=te,ie=ne?.error||ne[0]?.error;if(ie){le(Wt,`RPC '${e}' stream ${o} received error:`,ie);const de=ie.status;let Ae=(function(w){const C=It[w];if(C!==void 0)return B0(C)})(de),ye=ie.message;Ae===void 0&&(Ae=Z.INTERNAL,ye="Unknown error status: "+de+" with message "+ie.message),x=!0,H.a_(new oe(Ae,ye)),A.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,te),H.u_(te)}})),K(m,s0.STAT_EVENT,(G=>{G.stat===Ym.PROXY?le(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Ym.NOPROXY&&le(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(s){return new cD(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class tS{constructor(e,n,r,o,u,h,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ox extends tS{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dD(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Mi(h.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ig(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Jm(g)?{documents:pD(u,g)}:{query:yD(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=q0(u,h.resumeToken);const p=eg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const p=eg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=vD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.q_(n)}}class lx extends tS{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gD(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mD(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{}class cx extends ux{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,tg(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,tg(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class fx{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{oa(this)&&(le(ia,"Restarting streams for network reachability change."),await(async function(g){const p=we(g);p.Ea.add(4),await Au(p),p.Ra.set("Unknown"),p.Ea.delete(4),await of(p)})(this))}))})),this.Ra=new hx(r,o)}}async function of(s){if(oa(s))for(const e of s.da)await e(!0)}async function Au(s){for(const e of s.da)await e(!1)}function nS(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zg(n)?Jg(n):Do(n).O_()&&Wg(n,e))}function Xg(s,e){const n=we(s),r=Do(n);n.Ia.delete(e),r.O_()&&iS(n,e),n.Ia.size===0&&(r.O_()?r.L_():oa(n)&&n.Ra.set("Unknown"))}function Wg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(s).Y_(e)}function iS(s,e){s.Va.Ue(e),Do(s).Z_(e)}function Jg(s){s.Va=new aD({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Do(s).start(),s.Ra.ua()}function Zg(s){return oa(s)&&!Do(s).x_()&&s.Ia.size>0}function oa(s){return we(s).Ea.size===0}function sS(s){s.Va=void 0}async function dx(s){s.Ra.set("Online")}async function mx(s){s.Ia.forEach(((e,n)=>{Wg(s,e)}))}async function gx(s,e){sS(s),Zg(s)?(s.Ra.ha(e),Jg(s)):s.Ra.set("Unknown")}async function px(s,e,n){if(s.Ra.set("Online"),e instanceof H0&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){le(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bh(s,r)}else if(e instanceof vh?s.Va.Ze(e):e instanceof z0?s.Va.st(e):s.Va.tt(e),!n.isEqual(Se.min()))try{const r=await $0(s.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),iS(u,g);const A=new er(T.target,g,p,T.sequenceNumber);Wg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(ia,"Failed to raise snapshot:",r),await Bh(s,r)}}async function Bh(s,e,n){if(!Io(e))throw e;s.Ea.add(1),await Au(s),s.Ra.set("Offline"),n||(n=()=>$0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await of(s)}))}function rS(s,e){return e().catch((n=>Bh(s,n,e)))}async function lf(s){const e=we(s),n=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vg;for(;yx(e);)try{const o=await ZD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,_x(e,o)}catch(o){await Bh(e,o)}aS(e)&&oS(e)}function yx(s){return oa(s)&&s.Ta.length<10}function _x(s,e){s.Ta.push(e);const n=hr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function aS(s){return oa(s)&&!hr(s).x_()&&s.Ta.length>0}function oS(s){hr(s).start()}async function vx(s){hr(s).ra()}async function Ex(s){const e=hr(s);for(const n of s.Ta)e.ea(n.mutations)}async function Tx(s,e,n){const r=s.Ta.shift(),o=Hg.from(r,e,n);await rS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await lf(s)}async function Ax(s,e){e&&hr(s).X_&&await(async function(r,o){if((function(h){return iD(h)&&h!==Z.ABORTED})(o.code)){const u=r.Ta.shift();hr(r).B_(),await rS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(r)}})(s,e),aS(s)&&oS(s)}async function lT(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),le(ia,"RemoteStore received new credentials");const r=oa(n);n.Ea.add(3),await Au(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function Sx(s,e){const n=we(s);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function Do(s){return s.ma||(s.ma=(function(n,r,o){const u=we(n);return u.sa(),new ox(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:dx.bind(null,s),t_:mx.bind(null,s),r_:gx.bind(null,s),H_:px.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Zg(s)?Jg(s):s.Ra.set("Unknown")):(await s.ma.stop(),sS(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(n,r,o){const u=we(n);return u.sa(),new lx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:vx.bind(null,s),r_:Ax.bind(null,s),ta:Ex.bind(null,s),na:Tx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await lf(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new $g(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(s,e){if(cs("AsyncQueue",`${e}: ${s}`),Io(s))return new oe(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Hl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _o{constructor(e,n,r,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new _o(e,n,uo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wx{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=we(n),u=o.queries;o.queries=cT(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function cT(){return new aa((s=>I0(s)),ef)}async function lS(s,e){const n=we(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new bx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ep(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&tp(n)}async function uS(s,e){const n=we(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rx(s,e){const n=we(s);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&tp(n)}function Cx(s,e,n){const r=we(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function tp(s){s.Ca.forEach((e=>{e.next()}))}var ag,hT;(hT=ag||(ag={})).Ma="default",hT.Cache="cache";class cS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class Ix{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=N0(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new uT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const R=o.get(T),x=tf(this.query,A)?A:null,H=!!R&&this.mutatedKeys.has(R.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let G=!1;R&&x?R.data.isEqual(x.data)?H!==K&&(r.track({type:3,doc:x}),G=!0):this.su(R,x)||(r.track({type:2,doc:x}),G=!0,(g&&this.eu(x,g)>0||p&&this.eu(x,p)<0)&&(m=!0)):!R&&x?(r.track({type:0,doc:x}),G=!0):R&&!x&&(r.track({type:1,doc:R}),G=!0,(g||p)&&(m=!0)),G&&(x?(h=h.add(x),u=K?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,A)=>(function(x,H){const K=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:G})}};return K(x)-K(H)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new _o(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class Nx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dx{constructor(e){this.key=e,this.hu=!1}}class xx{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new aa((m=>I0(m)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new Gg,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ox(s,e,n=!0){const r=_S(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dS(r,e,n,!0),o}async function Mx(s,e){const n=_S(s);await dS(n,e,!0,!1)}async function dS(s,e,n,r){const o=await $D(s.localStore,Oi(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await Vx(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&nS(s.remoteStore,o),m}async function Vx(s,e,n,r,o){s.pu=(A,R,x)=>(async function(K,G,te,ne){let ie=G.view.ru(te);ie.Cs&&(ie=await iT(K.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,ie))));const de=ne&&ne.targetChanges.get(G.targetId),Ae=ne&&ne.targetMismatches.get(G.targetId)!=null,ye=G.view.applyChanges(ie,K.isPrimaryClient,de,Ae);return dT(K,G.targetId,ye.au),ye.snapshot})(s,A,R,x);const u=await iT(s.localStore,e,!0),h=new Ix(e,u.Qs),m=h.ru(u.documents),g=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=h.applyChanges(m,s.isPrimaryClient,g);dT(s,n,p.au);const T=new Nx(e,n,h);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function kx(s,e,n){const r=we(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!ef(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Xg(r.remoteStore,o.targetId),og(r,o.targetId)})).catch(Co)):(og(r,o.targetId),await sg(r.localStore,o.targetId,!0))}async function Px(s,e){const n=we(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xg(n.remoteStore,r.targetId))}async function Lx(s,e,n){const r=Fx(s);try{const o=await(function(h,m){const g=we(h),p=et.now(),T=m.reduce(((x,H)=>x.add(H.key)),Pe());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let H=hs(),K=Pe();return g.Ns.getEntries(x,T).next((G=>{H=G,H.forEach(((te,ne)=>{ne.isValidDocument()||(K=K.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(x,H))).next((G=>{A=G;const te=[];for(const ne of m){const ie=ZN(ne,A.get(ne.key).overlayedDocument);ie!=null&&te.push(new yr(ne.key,ie,E0(ie.value.mapValue),Bn.exists(!0)))}return g.mutationQueue.addMutationBatch(x,p,te,m)})).next((G=>{R=G;const te=G.applyToLocalDocumentSet(A,K);return g.documentOverlayCache.saveOverlays(x,G.batchId,te)}))})).then((()=>({batchId:R.batchId,changes:x0(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ut(ke)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(r,o.batchId,n),await Su(r,o.changes),await lf(r.remoteStore)}catch(o){const u=ep(o,"Failed to persist write");n.reject(u)}}async function mS(s,e){const n=we(s);try{const r=await WD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Su(n,r,e)}catch(r){await Co(r)}}function fT(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,A)=>{for(const R of A.Sa)R.va(m)&&(p=!0)})),p&&tp(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ux(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new ut(pe.comparator);h=h.insert(u,Zt.newNoDocument(u,Se.min()));const m=Pe().add(u),g=new rf(Se.min(),new Map,new ut(ke),h,m);await mS(r,g),r.du=r.du.remove(u),r.Au.delete(e),ip(r)}else await sg(r.localStore,e,!1).then((()=>og(r,e,n))).catch(Co)}async function jx(s,e){const n=we(s),r=e.batch.batchId;try{const o=await XD(n.localStore,e);pS(n,r,null),gS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,o)}catch(o){await Co(o)}}async function Bx(s,e,n){const r=we(s);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((A=>(Ge(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(p,A)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(r.localStore,e);pS(r,e,n),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,o)}catch(o){await Co(o)}}function gS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function pS(s,e,n){const r=we(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function og(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||yS(s,r)}))}function yS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Xg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),ip(s))}function dT(s,e,n){for(const r of n)r instanceof hS?(s.Ru.addReference(r.key,e),zx(s,r)):r instanceof fS?(le(np,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||yS(s,r.key)):Ee(19791,{wu:r})}function zx(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(le(np,"New document in limbo: "+n),s.Eu.add(r),ip(s))}function ip(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new Dx(n)),s.du=s.du.insert(n,r),nS(s.remoteStore,new er(Oi(jg(n.path)),r,"TargetPurposeLimboResolution",Jh.ce))}}async function Su(s,e,n){const r=we(s),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{h.push(r.pu(g,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Kg.As(g.targetId,p);u.push(T)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(g,p){const T=we(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ee.forEach(p,(R=>ee.forEach(R.Es,(x=>T.persistence.referenceDelegate.addReference(A,R.targetId,x))).next((()=>ee.forEach(R.ds,(x=>T.persistence.referenceDelegate.removeReference(A,R.targetId,x)))))))))}catch(A){if(!Io(A))throw A;le(Qg,"Failed to update sequence numbers: "+A)}for(const A of p){const R=A.targetId;if(!A.fromCache){const x=T.Ms.get(R),H=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(H);T.Ms=T.Ms.insert(R,K)}}})(r.localStore,u))}async function Hx(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){le(np,"User change. New user:",e.toKey());const r=await Z0(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Ls)}}function qx(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function _S(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ux.bind(null,e),e.Pu.H_=Rx.bind(null,e.eventManager),e.Pu.yu=Cx.bind(null,e.eventManager),e}function Fx(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bx.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QD(this.persistence,new GD,e.initialUser,this.serializer)}Cu(e){return new J0(Yg.mi,this.serializer)}Du(e){return new tx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class Gx extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new J0((r=>jh.mi(r,n)),this.serializer)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,this.syncEngine),await Sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wx})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=(function(u){return new ax(u)})(e.databaseInfo);return(function(u,h,m,g){return new cx(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new fx(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return aT.v()?new aT:new nx})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,T){const A=new xx(o,u,h,m,g,p);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);le(ia,"RemoteStore shutting down."),r.Ea.add(5),await Au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="FirestoreClient";class Yx{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{le(fr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(le(fr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ep(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vm(s,e){s.asyncQueue.verifyOperationInProgress(),le(fr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Z0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function mT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await Kx(s);le(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>lT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>lT(e.remoteStore,o))),s._onlineComponents=e}async function Kx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(fr,"Using user provided OfflineComponentProvider");try{await Vm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Vm(s,new zh)}}else le(fr,"Using default OfflineComponentProvider"),await Vm(s,new Gx(void 0));return s._offlineComponents}async function ES(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(fr,"Using user provided OnlineComponentProvider"),await mT(s,s._uninitializedComponentsProvider._online)):(le(fr,"Using default OnlineComponentProvider"),await mT(s,new lg))),s._onlineComponents}function Qx(s){return ES(s).then((e=>e.syncEngine))}async function TS(s){const e=await ES(s),n=e.eventManager;return n.onListen=Ox.bind(null,e.syncEngine),n.onUnlisten=kx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Px.bind(null,e.syncEngine),n}function Xx(s,e,n={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new vS({next:R=>{T.Nu(),h.enqueueAndForget((()=>uS(u,A)));const x=R.docs.has(m);!x&&R.fromCache?p.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&R.fromCache&&g&&g.source==="server"?p.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),A=new cS(jg(m.path),T,{includeMetadataChanges:!0,qa:!0});return lS(u,A)})(await TS(s),s.asyncQueue,e,n,r))),r.promise}function Wx(s,e,n={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new vS({next:R=>{T.Nu(),h.enqueueAndForget((()=>uS(u,A))),R.fromCache&&g.source==="server"?p.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(R)},error:R=>p.reject(R)}),A=new cS(m,T,{includeMetadataChanges:!0,qa:!0});return lS(u,A)})(await TS(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firestore.googleapis.com",pT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SS,this.ssl=pT}else this.host=e.host,this.ssl=e.ssl??pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ID)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nN;switch(r.type){case"firstParty":return new aN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gT.get(n);r&&(le("ComponentProvider","Removing Datastore"),gT.delete(n),r.terminate())})(this),Promise.resolve()}}function Jx(s,e,n,r={}){s=ni(s,uf);const o=So(e),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(hA(`https://${m}`),fA("Firestore",!0)),u.host!==SS&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Zr(g,h)&&(s._setSettings(g),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=Jt.MOCK_USER;else{p=hR(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(A)}s._authCredentials=new iN(new l0(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vu(n,_t._jsonSchema))return new _t(e,r||null,new pe(nt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class rr extends la{constructor(e,n,r){super(e,n,jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new pe(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function bS(s,e,...n){if(s=jt(s),u0("collection","path",e),s instanceof uf){const r=nt.fromString(e,...n);return DE(r),new rr(s,null,r)}{if(!(s instanceof _t||s instanceof rr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return DE(r),new rr(s.firestore,null,r)}}function vo(s,e,...n){if(s=jt(s),arguments.length===1&&(e=Mg.newId()),u0("doc","path",e),s instanceof uf){const r=nt.fromString(e,...n);return NE(r),new _t(s,null,new pe(r))}{if(!(s instanceof _t||s instanceof rr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return NE(r),new _t(s.firestore,s instanceof rr?s.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="AsyncQueue";class vT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eS(this,"async_queue_retry"),this._c=()=>{const r=Mm();r&&le(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;le(_T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",ET(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$g.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:ET(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ET(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ua extends uf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new vT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vT(e),this._firestoreClient=void 0,await e}}}function Zx(s,e){const n=typeof s=="object"?s:pA(),r=typeof s=="string"?s:Mh,o=Sg(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=uR("firestore");u&&Jx(o,...u)}return o}function sp(s){if(s._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$x(s),s._firestoreClient}function $x(s){const e=s._freezeSettings(),n=(function(o,u,h,m){return new SN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,AS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Yx(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Qt.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Dt("string",jn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^__.*__$/;class tO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class wS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:s})}}class ap{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RS(this.Ac)&&eO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}Cc(e,n,r,o=!1){return new ap({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(s){const e=s._freezeSettings(),n=af(s._databaseId);return new nO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function CS(s,e,n,r,o,u={}){const h=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);op("Data must be an object, but it was:",h,r);const m=IS(r,h);let g,p;if(u.merge)g=new Sn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const R=ug(e,A,n);if(!h.contains(R))throw new oe(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);DS(T,R)||T.push(R)}g=new Sn(T),p=h.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,p=h.fieldTransforms;return new tO(new dn(m),g,p)}class ff extends rp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function iO(s,e,n,r){const o=s.Cc(1,e,n);op("Data must be an object, but it was:",o,r);const u=[],h=dn.empty();pr(r,((g,p)=>{const T=lp(e,g,n);p=jt(p);const A=o.yc(T);if(p instanceof ff)u.push(T);else{const R=bu(p,A);R!=null&&(u.push(T),h.set(T,R))}}));const m=new Sn(u);return new wS(h,m,o.fieldTransforms)}function sO(s,e,n,r,o,u){const h=s.Cc(1,e,n),m=[ug(e,r,n)],g=[o];if(u.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(ug(e,u[R])),g.push(u[R+1]);const p=[],T=dn.empty();for(let R=m.length-1;R>=0;--R)if(!DS(p,m[R])){const x=m[R];let H=g[R];H=jt(H);const K=h.yc(x);if(H instanceof ff)p.push(x);else{const G=bu(H,K);G!=null&&(p.push(x),T.set(x,G))}}const A=new Sn(p);return new wS(T,A,h.fieldTransforms)}function rO(s,e,n,r=!1){return bu(n,s.Cc(r?4:3,e))}function bu(s,e){if(NS(s=jt(s)))return op("Unsupported field value:",e,s),IS(s,e);if(s instanceof rp)return(function(r,o){if(!RS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let g=bu(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=et.fromDate(r);return{timestampValue:Uh(o.serializer,u)}}if(r instanceof et){const u=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:q0(o.serializer,r._byteString)};if(r instanceof _t){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(h,m){return{mapValue:{fields:{[_0]:{stringValue:v0},[Vh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bg(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Wh(r)}`)})(s,e)}function IS(s,e){const n={};return f0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pr(s,((r,o)=>{const u=bu(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function NS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof et||s instanceof Vi||s instanceof jn||s instanceof _t||s instanceof rp||s instanceof ki)}function op(s,e,n){if(!NS(n)||!c0(n)){const r=Wh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function ug(s,e,n){if((e=jt(e))instanceof cf)return e._internalPath;if(typeof e=="string")return lp(s,e);throw Hh("Field path arguments must be of type string or ",s,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function lp(s,e,n){if(e.search(aO)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Hh(s,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new oe(Z.INVALID_ARGUMENT,m+s+g)}function DS(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends xS{data(){return super.data()}}function df(s,e){return typeof e=="string"?lp(s,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}class OS extends up{}function uO(s,e,...n){let r=[];e instanceof up&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((g=>g instanceof cp)).length,m=u.filter((g=>g instanceof mf)).length;if(h>1||h>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class mf extends OS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mf(e,n,r)}_apply(e){const n=this._parse(e);return MS(e._query,n),new la(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=hf(e.firestore);return(function(u,h,m,g,p,T,A){let R;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){AT(A,T);const H=[];for(const K of A)H.push(TT(g,u,K));R={arrayValue:{values:H}}}else R=TT(g,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||AT(A,T),R=rO(m,h,A,T==="in"||T==="not-in");return Nt.create(p,T,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cO(s,e,n){const r=e,o=df("where",s);return mf._create(o,r,n)}class cp extends up{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)MS(h,g),h=Zm(h,g)})(e._query,n),new la(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hp extends OS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hp(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(u,h)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new No(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function hO(s,e="asc"){const n=e,r=df("orderBy",s);return hp._create(r,n)}function TT(s,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C0(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UE(s,new pe(r))}if(n instanceof _t)return UE(s,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function AT(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MS(s,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fO{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Vi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=lr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ge(X0(r),9688,{name:e});const o=new su(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(n)||cs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends xS{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Dt("string",Jr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Eh extends Jr{data(e={}){return super.data(e)}}class co{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:dO(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(s){s=ni(s,_t);const e=ni(s.firestore,ua);return Xx(sp(e),s._key).then((n=>vO(e,s,n)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Dt("string",co._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class kS extends fO{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function mO(s){s=ni(s,la);const e=ni(s.firestore,ua),n=sp(e),r=new kS(e);return lO(s._query),Wx(n,s._query).then((o=>new co(e,r,s,o)))}function gO(s,e,n){s=ni(s,_t);const r=ni(s.firestore,ua),o=VS(s.converter,e);return gf(r,[CS(hf(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Bn.none())])}function pO(s,e,n,...r){s=ni(s,_t);const o=ni(s.firestore,ua),u=hf(o);let h;return h=typeof(e=jt(e))=="string"||e instanceof cf?sO(u,"updateDoc",s._key,e,n,r):iO(u,"updateDoc",s._key,e),gf(o,[h.toMutation(s._key,Bn.exists(!0))])}function yO(s){return gf(ni(s.firestore,ua),[new zg(s._key,Bn.none())])}function _O(s,e){const n=ni(s.firestore,ua),r=vo(s),o=VS(s.converter,e);return gf(n,[CS(hf(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then((()=>r))}function gf(s,e){return(function(r,o){const u=new as;return r.asyncQueue.enqueueAndForget((async()=>Lx(await Qx(r),o,u))),u.promise})(sp(s),e)}function vO(s,e,n){const r=n.docs.get(e._key),o=new kS(s);return new Jr(s,o,e._key,r,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ro=o})(bo),ho(new $r("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new ua(new sN(r.getProvider("auth-internal")),new oN(h,r.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(p.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ir(wE,RE,e),ir(wE,RE,"esm2020")})();const EO={apiKey:"AIzaSyBa4Lj45bmicKgh4NABbzhK-vf8TcDCJSU",authDomain:"planora-2cf98.firebaseapp.com",projectId:"planora-2cf98",storageBucket:"planora-2cf98.firebasestorage.app",messagingSenderId:"143702239291",appId:"1:143702239291:web:a135c38e8e391b2dc0141e"},PS=gA(EO),bn=eN(PS),sa=Zx(PS),Ul=({children:s})=>{const[e,n]=P.useState(!0),[r,o]=P.useState(!1);return P.useEffect(()=>{const u=FA(bn,h=>{o(!!h),n(!1)});return()=>u()},[]),e?E.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #1a1f3a 0%, #2d3561 100%)",color:"white",fontFamily:"Lexend, sans-serif"},children:E.jsxs("div",{children:[E.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(79, 124, 255, 0.2)",borderRadius:"50%",borderTopColor:"#4f7cff",animation:"spin 0.8s linear infinite",margin:"0 auto 16px"}}),E.jsx("p",{children:"Loading..."})]})}):r?s:E.jsx(ZT,{to:"/",replace:!0})},wu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAACShJREFUeJztnV2sXUUVx/+7tYAFikrpJxU/HhStKT6okKD4IAFNCqmgDybwIAmiMWl8MkFNfODBN7EhjYYQEn0zJJqKxgcwUaoY2wKJliraoKW00t6il97Qaz/uz4eZyzndd3/MvmfvPXvvs37Jyc25Z3+smfmfPbPWrJkjGYZhGIZhGIZhGIZhGIZhGIZhGIYxTJLYBsQCWCvpi/7tT5MkmYlpj9ESwAbgu8AsI+aAHwDvjm2f0RDA+30jnyGfs8CPgQ/FtteoCeAG36jnCxo+zQXgF8CNse03lglwK/B0SUO/4l9FPA3cGrs8RgDACmA78MeSRj0M7AQuA1YB9wIvlpzzgj9uZexyGimASwIb8fm8RlyOeGKU1RgDuNw3xpGSRtvrGzfI7QVuxo0Bivg3zpu4qulyGimAtb7yZwoaaOKBHGEDyFmcd7GhzjIaGZDtw6ep3ZUjzIW0WEJTdKUBYglwaqGjj2Ba6oKmFnoyCKOhQehUQo/dMMLdUIslpBlS5fVZxK3DwB+f9KQbax3gaqZoAEVHB7Ktw8iF+m9BRQzWhaKaK7sltr21UbHggw+iMC2xBOzRVwhDjSVgg59KMITBMOb+TAw1TGnHMNqSKWqmF18mhvDY6gF0rTslzIdfoG8Dl44DfJSYA2qm3IfvCrQdSwi84TzwI6bAh+8K/gv5Pd/Y9X8hMR++F1B3LIGuDTqMIIArWO6gHEiAzwP7Sk7+G3AfcEnEstYG8CXgdeAY8G1gTWybJgUXS7jPt1UR+3ybJwJ2lxy8H7gbWBG7gHUBrGTpgPbUgISwwrfZ/pK23SXgzZwP54AdsQvTBLin3qmccg9GCJIE7CB/sDgjXL+Qxylcf3917ILUDXBHgQh6LwRGMZuiMj4lYD3wOM5tyGMO+D5DmqfWW4Onb5ZU0izO5XpHbHtDALb4tipzER8H1o+fWMW3vD5iGWtnCEKgrpgNI9+yqDL6N08dQB+FQLWYzcYqF170LcvWz+8FtjdYxtbpgxAYxWwWCmycPGbDaJ76UIkQujNPXRNdEwKjqeJnS9qi/qliwuep/1H7zSMTWwiM8i4OltR9O3kXhIWMj/tKu7xRY1qkbSEAlwL3A/8qqes4eReEzVOfxPVD72rVuAZpWgjAGtxT9HjB9buTd0GYC3LaH3NtbHvrom4h4GIy/c27ICyW8D9fgA/GtrcuJhUC8D6GlHeBiyWUsRhL+Hhse+uiqhCAbbgvw7mA+upX3kVAgcYZVCwB14d/p0QIZyn24S8idpkqk1GGkPTx5xhQLCFQCGkWffhhCcD/LzSW8Hec+7MqdjkmxZf5HlxUroiLfPhBCiD1eUgs4Z+4b8PqGGWYBJwPfy/wUkkZM334wQtg7LiQyYzexBKAK71oj5U0fFm9TIcAxo6vEkvY3EYZqgCs8yL9T4H9S3IuCq43XQIYOy9kEcpiLOEDTZYh0N73elHmpdbB2P4HJoDw86tsJfOxJspQYt9HKPfhl6ydMAFUv06lhah1liHHnonm4U0Ay79e6FL0A8AXqHlmDPgMxQm0EDAPbwKY/LqhsYQ/4wTzthruVZZfH5wMYwKo9x4hsYSXqRhLYOTDl62wqTwPbwJo5l4hsYQTuH75nQXXWfThXy24zkQJsSaAZu8ZEkt4wx+zaey8a7w4Xi84r5Z5eBNAO/cOWRxxBrcucjflGy7UtijGBNCuDWtw8/NFsYQ8Fufta10WZwKIY0toLAEa3v/ABBARimMJraSzmwA6AM6/vwt40r/uoqX9D7omgMbyyNNGJ0liewUqvF7aqr8mVb8w/oYezOV3BZYOPBcyD6yBJgXwSur9TQ3ea2ikg0xHmrpRkwL4Zer9Aw3ea2ik6+rJKFZMAvDpjJH2bbHtik3Z4A64PaPePhXD1onAbcSUnrE7wvi2JFNIkQBw2VDp/Rj+QF832wZuyVDzXnqY5VsXeQIAVrM032AB+GRMeycGeCRDBL8DrohtWwyyBOAb/6mMeno4tr0TA1yGW/GT9SRYF9u+tsmoh3XA7zP+vx+4NLa9tQBsxIVa07wM3BDbvjbJqYM0L9G3xaBlAO8he6eLeeAb9HWgU5GM8mcJ4rrYdjYCsAmXP5fFb+hAnn/TlDT+Aaps5dZHcGlXe3IqYB54iAEOEH25Hypo/J8PsdyZ4GIEO32DZzGDS+R4e2xbJwW3zd795O/3M+/rYiq6wIvAbTJ1oOBbcQx4kB5OJOFWNj1I+SLRbbFtjQpu7/6duGTNPOZw++N0fkIJuMnbWpSP+Bax7e0MOFfxEdzCzyIOAd8Ctsa2eRFgK25r+b+W2L6kbLFt7xw4d/Ex8scH4xwGHsbt/d/abxrgHu93+HsfDrBzHngUuK5rAujswAMXCPma3NToNSGnSDok6VlJByX9RdLBJEmOTWjHJkkflrTVv26UdL3C6u6EpB9K2p0kyWv+ep3KlOqsABbBJWneKekeSbdJqrrW74ykVyUd93/fkHRa0nlJs/6Yq/x1r5S0RtJmSRv936qeyHlJv5b0E0l7kiSZT5XHBLBc/FPhbknbJd0iqSux8nlJv5W0R9ITSZKcyDuwawLoLbhNGXcAu3CuZNG6wLo55++5y9tQuiE2LiX9qxnX+goRt8UbjPpwUbRPSNom10dv9X8nXeAxK+lFuXHFIUkvSPpTkiRzFWzbJOkJ5edFPifp9iRJTk5oa2UGI4A8cL/6tVnSBv93tVw/v1IjccxKuiA3PnhT0lFJr0k6miTJ6Qnvv0queyiLYeyTdHOSJGcnuZ/RMXIe+3l8Oba9Rs0Az6Qa+We43L9rgV+lPnsmtr1GzeA2uRxn/dhnW1KfzbRt32B+D7jDpH9se3zcdaHk2MYxATTP/tT7x3wXsEnSo6nPDrZkk9EWwAMVBoFfj22vUTO46e6ybebApcq13gUYLYD7TaAyovyGko0B2iFdzwtys5fjnGvJloswAbRDegHM8/5VdEwrLHsbVaMS6XyGE1oahg/JeagdE0A7pBv3pEwAU0X68Z71BLAuYMDYE2DKMQFMOTYInHLS/XvWE2Dq9kqYGoCjAZHA9LZ6rWCBoHYIWbSytnErMjABtENIokfrCaFGSwCfo3ir+iPAZ2PbaRiGYRiGYRjGNPB/C+lf0R65CogAAAAASUVORK5CYII=",km=()=>{const[s,e]=P.useState(!0),[n,r]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(""),[g,p]=P.useState(!1),[T,A]=P.useState(!1),[R,x]=P.useState(""),[H,K]=P.useState(!1),[G,te]=P.useState(!1),ne=mr(),ie=async()=>{if(o!==h){x("Passwords do not match.");return}if(o.length<6){x("Password should be at least 6 characters.");return}K(!0),x("");try{const C=await jI(bn,n,o);console.log("User registered:",C.user),ne("/dashboard")}catch(C){console.error("Sign up error:",C),ye(C)}finally{K(!1)}},de=async()=>{K(!0),x("");try{const C=await BI(bn,n,o);console.log("User logged in:",C.user),ne("/dashboard")}catch(C){console.error("Login error:",C),ye(C)}finally{K(!1)}},Ae=async C=>{if(C.preventDefault(),!n){x("Please enter your email address.");return}K(!0),x("");try{await qA(bn,n),te(!0),setTimeout(()=>te(!1),5e3)}catch(M){console.error("Password reset error:",M),ye(M)}finally{K(!1)}},ye=C=>{switch(C.code){case"auth/email-already-in-use":x("This email is already registered.");break;case"auth/invalid-email":x("Invalid email address.");break;case"auth/user-not-found":x("No account found with this email.");break;case"auth/wrong-password":x("Incorrect password.");break;case"auth/weak-password":x("Password should be at least 6 characters.");break;case"auth/too-many-requests":x("Too many attempts. Please try again later.");break;case"auth/network-request-failed":x("Network error. Please check your connection.");break;default:x("An error occurred. Please try again.")}},I=C=>{C.preventDefault(),s?de():ie()},w=()=>{e(!s),x(""),r(""),u(""),m(""),te(!1)};return E.jsxs("div",{className:"auth-container",children:[E.jsxs("div",{className:"auth-header",children:[E.jsxs("div",{className:"logo",children:[E.jsx("img",{src:wu,alt:"Planora Logo",className:"logo-icon"}),E.jsx("h1",{children:"Planora"})]}),E.jsx("p",{className:"tagline",children:"Your AI-Powered Academic Planner."})]}),E.jsxs("div",{className:"auth-card",children:[E.jsxs("div",{className:"tab-container",children:[E.jsx("button",{className:`tab ${s?"active":""}`,onClick:()=>e(!0),disabled:H,children:"Login"}),E.jsx("button",{className:`tab ${s?"":"active"}`,onClick:()=>e(!1),disabled:H,children:"Sign Up"})]}),E.jsx("h2",{className:"auth-title",children:s?"Welcome Back":"Create Your Account"}),!s&&E.jsx("p",{className:"auth-subtitle",children:"Get started with Planora"}),G&&E.jsx("div",{className:"success-message",children:"Password reset email sent! Check your inbox."}),R&&E.jsx("div",{className:"error-message-box",children:R}),E.jsxs("form",{onSubmit:I,className:"auth-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email"}),E.jsx("input",{type:"email",id:"email",placeholder:s?"Enter your email":"you@example.com",value:n,onChange:C=>r(C.target.value),required:!0,disabled:H})]}),E.jsxs("div",{className:"form-group",children:[E.jsxs("div",{className:"label-row",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),s&&E.jsx("a",{href:"#",className:"forgot-password",onClick:Ae,children:"Forgot Password?"})]}),E.jsxs("div",{className:"password-input",children:[E.jsx("input",{type:g?"text":"password",id:"password",placeholder:"Enter your password",value:o,onChange:C=>u(C.target.value),required:!0,disabled:H}),E.jsx("button",{type:"button",className:"toggle-password",onClick:()=>p(!g),"aria-label":"Toggle password visibility",disabled:H,children:g?E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),E.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),E.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),!s&&E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsxs("div",{className:"password-input",children:[E.jsx("input",{type:T?"text":"password",id:"confirmPassword",placeholder:"Confirm your password",value:h,onChange:C=>m(C.target.value),required:!0,disabled:H}),E.jsx("button",{type:"button",className:"toggle-password",onClick:()=>A(!T),"aria-label":"Toggle confirm password visibility",disabled:H,children:T?E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),E.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),E.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),E.jsx("button",{type:"submit",className:"submit-btn",disabled:H,children:H?E.jsx("span",{className:"loading-spinner"}):s?"Log In":"Sign Up"})]}),s?E.jsx("div",{className:"auth-footer",children:E.jsxs("p",{className:"terms-text",children:["By continuing, you agree to our"," ",E.jsx("a",{href:"#",children:"Terms of Service"})," and"," ",E.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})}):E.jsxs("p",{className:"switch-mode",children:["Already have an account?"," ",E.jsx("span",{onClick:w,className:"link",children:"Log In"})]})]})]})};var ST;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(ST||(ST={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bT;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(bT||(bT={}));var wT;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(wT||(wT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=["user","model","function","system"];var CT;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(CT||(CT={}));var IT;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(IT||(IT={}));var NT;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(NT||(NT={}));var DT;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(DT||(DT={}));var Jl;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Jl||(Jl={}));var xT;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(xT||(xT={}));var OT;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(OT||(OT={}));var MT;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(MT||(MT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class eo extends $t{constructor(e,n){super(e),this.response=n}}class LS extends $t{constructor(e,n,r,o){super(e),this.status=n,this.statusText=r,this.errorDetails=o}}class ar extends $t{}class US extends $t{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="https://generativelanguage.googleapis.com",AO="v1beta",SO="0.24.1",bO="genai-js";var ra;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ra||(ra={}));class wO{constructor(e,n,r,o,u){this.model=e,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=u}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||AO;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||TO}/${r}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function RO(s){const e=[];return s?.apiClient&&e.push(s.apiClient),e.push(`${bO}/${SO}`),e.join(" ")}async function CO(s){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",RO(s.requestOptions)),n.append("x-goog-api-key",s.apiKey);let r=(e=s.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new ar(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,u]of r.entries()){if(o==="x-goog-api-key")throw new ar(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new ar(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function IO(s,e,n,r,o,u){const h=new wO(s,e,n,r,u);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},OO(u)),{method:"POST",headers:await CO(h),body:o})}}async function Ru(s,e,n,r,o,u={},h=fetch){const{url:m,fetchOptions:g}=await IO(s,e,n,r,o,u);return NO(m,g,h)}async function NO(s,e,n=fetch){let r;try{r=await n(s,e)}catch(o){DO(o,s)}return r.ok||await xO(r,s),r}function DO(s,e){let n=s;throw n.name==="AbortError"?(n=new US(`Request aborted when fetching ${e.toString()}: ${s.message}`),n.stack=s.stack):s instanceof LS||s instanceof ar||(n=new $t(`Error fetching from ${e.toString()}: ${s.message}`),n.stack=s.stack),n}async function xO(s,e){let n="",r;try{const o=await s.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new LS(`Error fetching from ${e.toString()}: [${s.status} ${s.statusText}] ${n}`,s.status,s.statusText,r)}function OO(s){const e={};if(s?.signal!==void 0||s?.timeout>=0){const n=new AbortController;s?.timeout>=0&&setTimeout(()=>n.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Th(s.candidates[0]))throw new eo(`${Xs(s)}`,s);return MO(s)}else if(s.promptFeedback)throw new eo(`Text not available. ${Xs(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Th(s.candidates[0]))throw new eo(`${Xs(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),VT(s)[0]}else if(s.promptFeedback)throw new eo(`Function call not available. ${Xs(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Th(s.candidates[0]))throw new eo(`${Xs(s)}`,s);return VT(s)}else if(s.promptFeedback)throw new eo(`Function call not available. ${Xs(s)}`,s)},s}function MO(s){var e,n,r,o;const u=[];if(!((n=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const h of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)h.text&&u.push(h.text),h.executableCode&&u.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&u.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function VT(s){var e,n,r,o;const u=[];if(!((n=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const h of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)h.functionCall&&u.push(h.functionCall);if(u.length>0)return u}const VO=[Jl.RECITATION,Jl.SAFETY,Jl.LANGUAGE];function Th(s){return!!s.finishReason&&VO.includes(s.finishReason)}function Xs(s){var e,n,r;let o="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)o+="Response was blocked",!((e=s.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${s.promptFeedback.blockReason}`),!((n=s.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((r=s.candidates)===null||r===void 0)&&r[0]){const u=s.candidates[0];Th(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function uu(s){return this instanceof uu?(this.v=s,this):new uu(s)}function kO(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(s,e||[]),o,u=[];return o={},h("next"),h("throw"),h("return"),o[Symbol.asyncIterator]=function(){return this},o;function h(R){r[R]&&(o[R]=function(x){return new Promise(function(H,K){u.push([R,x,H,K])>1||m(R,x)})})}function m(R,x){try{g(r[R](x))}catch(H){A(u[0][3],H)}}function g(R){R.value instanceof uu?Promise.resolve(R.value.v).then(p,T):A(u[0][2],R)}function p(R){m("next",R)}function T(R){m("throw",R)}function A(R,x){R(x),u.shift(),u.length&&m(u[0][0],u[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function PO(s){const e=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=jO(e),[r,o]=n.tee();return{stream:UO(r),response:LO(o)}}async function LO(s){const e=[],n=s.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return fp(BO(e));e.push(o)}}function UO(s){return kO(this,arguments,function*(){const n=s.getReader();for(;;){const{value:r,done:o}=yield uu(n.read());if(o)break;yield yield uu(fp(r))}})}function jO(s){const e=s.getReader();return new ReadableStream({start(r){let o="";return u();function u(){return e.read().then(({value:h,done:m})=>{if(m){if(o.trim()){r.error(new $t("Failed to parse stream"));return}r.close();return}o+=h;let g=o.match(kT),p;for(;g;){try{p=JSON.parse(g[1])}catch{r.error(new $t(`Error parsing JSON response: "${g[1]}"`));return}r.enqueue(p),o=o.substring(g[0].length),g=o.match(kT)}return u()}).catch(h=>{let m=h;throw m.stack=h.stack,m.name==="AbortError"?m=new US("Request aborted when reading from the stream"):m=new $t("Error reading from the stream"),m})}}})}function BO(s){const e=s[s.length-1],n={promptFeedback:e?.promptFeedback};for(const r of s){if(r.candidates){let o=0;for(const u of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const h={};for(const m of u.content.parts)m.text&&(h.text=m.text),m.functionCall&&(h.functionCall=m.functionCall),m.executableCode&&(h.executableCode=m.executableCode),m.codeExecutionResult&&(h.codeExecutionResult=m.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),n.candidates[o].content.parts.push(h)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(s,e,n,r){const o=await Ru(e,ra.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(n),r);return PO(o)}async function BS(s,e,n,r){const u=await(await Ru(e,ra.GENERATE_CONTENT,s,!1,JSON.stringify(n),r)).json();return{response:fp(u)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function cu(s){let e=[];if(typeof s=="string")e=[{text:s}];else for(const n of s)typeof n=="string"?e.push({text:n}):e.push(n);return zO(e)}function zO(s){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const u of s)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),r=!0);if(r&&o)throw new $t("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new $t("No content is provided for sending chat message.");return r?e:n}function HO(s,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=s.generateContentRequest!=null;if(s.contents){if(o)throw new ar("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=s.contents}else if(o)r=Object.assign(Object.assign({},r),s.generateContentRequest);else{const u=cu(s);r.contents=[u]}return{generateContentRequest:r}}function PT(s){let e;return s.contents?e=s:e={contents:[cu(s)]},s.systemInstruction&&(e.systemInstruction=zS(s.systemInstruction)),e}function qO(s){return typeof s=="string"||Array.isArray(s)?{content:cu(s)}:s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],FO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function GO(s){let e=!1;for(const n of s){const{role:r,parts:o}=n;if(!e&&r!=="user")throw new $t(`First content should be with role 'user', got ${r}`);if(!RT.includes(r))throw new $t(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(RT)}`);if(!Array.isArray(o))throw new $t("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new $t("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const g of LT)g in m&&(u[g]+=1);const h=FO[r];for(const m of LT)if(!h.includes(m)&&u[m]>0)throw new $t(`Content with role '${r}' can't contain '${m}' part`);e=!0}}function UT(s){var e;if(s.candidates===void 0||s.candidates.length===0)return!1;const n=(e=s.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="SILENT_ERROR";class YO{constructor(e,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(GO(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,o,u,h,m,g;await this._sendPromise;const p=cu(e),T={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},A=Object.assign(Object.assign({},this._requestOptions),n);let R;return this._sendPromise=this._sendPromise.then(()=>BS(this._apiKey,this.model,T,A)).then(x=>{var H;if(UT(x.response)){this._history.push(p);const K=Object.assign({parts:[],role:"model"},(H=x.response.candidates)===null||H===void 0?void 0:H[0].content);this._history.push(K)}else{const K=Xs(x.response);K&&console.warn(`sendMessage() was unsuccessful. ${K}. Inspect response object for details.`)}R=x}).catch(x=>{throw this._sendPromise=Promise.resolve(),x}),await this._sendPromise,R}async sendMessageStream(e,n={}){var r,o,u,h,m,g;await this._sendPromise;const p=cu(e),T={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},A=Object.assign(Object.assign({},this._requestOptions),n),R=jS(this._apiKey,this.model,T,A);return this._sendPromise=this._sendPromise.then(()=>R).catch(x=>{throw new Error(jT)}).then(x=>x.response).then(x=>{if(UT(x)){this._history.push(p);const H=Object.assign({},x.candidates[0].content);H.role||(H.role="model"),this._history.push(H)}else{const H=Xs(x);H&&console.warn(`sendMessageStream() was unsuccessful. ${H}. Inspect response object for details.`)}}).catch(x=>{x.message!==jT&&console.error(x)}),R}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(s,e,n,r){return(await Ru(e,ra.COUNT_TOKENS,s,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(s,e,n,r){return(await Ru(e,ra.EMBED_CONTENT,s,!1,JSON.stringify(n),r)).json()}async function XO(s,e,n,r){const o=n.requests.map(h=>Object.assign(Object.assign({},h),{model:e}));return(await Ru(e,ra.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=zS(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const o=PT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return BS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),u)}async generateContentStream(e,n={}){var r;const o=PT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return jS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),u)}startChat(e){var n;return new YO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=HO(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return KO(this.apiKey,this.model,r,o)}async embedContent(e,n={}){const r=qO(e),o=Object.assign(Object.assign({},this._requestOptions),n);return QO(this.apiKey,this.model,r,o)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return XO(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new $t("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new BT(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new ar("Cached content must contain a `name` field.");if(!e.model)throw new ar("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const h of o)if(n?.[h]&&e[h]&&n?.[h]!==e[h]){if(h==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,g=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(m===g)continue}throw new ar(`Different value for "${h}" specified in modelParams (${n[h]}) and cachedContent (${e[h]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new BT(this.apiKey,u,r)}}const JO=new WO("AIzaSyD-6O84AKyVaOfTcO1iy6T5EoUeRJJi07E"),HS=["gemini-2.5-flash-lite","gemini-2.5-flash","gemini-2.5-pro"],ZO=(s=0)=>{const e=HS[s]||"gemini-pro";return console.log("Trying model:",e),JO.getGenerativeModel({model:e})},qS=async(s,e=0)=>{try{const n=ZO(e),r=$O(s);console.log("Sending request to Gemini API...");const h=(await n.generateContent(r)).response.text();return console.log(" Successfully received response from Gemini API"),{success:!0,schedule:eM(h),rawResponse:h}}catch(n){return console.error("Gemini API Error:",n),n.message.includes("404")&&e<HS.length-1?(console.log("Model not found, trying next model..."),qS(s,e+1)):n.message.includes("API key")?{success:!1,error:"Invalid API key. Please check your Gemini API key in .env file."}:n.message.includes("404")?{success:!1,error:"No compatible models found. Your API key might need to be regenerated or may have restricted access."}:n.message.includes("quota")||n.message.includes("429")?{success:!1,error:"API quota exceeded. Please try again later."}:n.message.includes("403")?{success:!1,error:"API key doesn't have permission. Please check your API key settings in Google AI Studio."}:{success:!1,error:n.message||"Failed to generate study plan"}}},$O=s=>{const{goalTitle:e,startDate:n,endDate:r,subjects:o,studyHours:u,includeWeekends:h,preferMorning:m,customPrompt:g}=s;let p=`You are an expert academic planner. Create a detailed, personalized study schedule based on the following requirements:

**Goal:** ${e}
**Duration:** From ${n} to ${r}
**Subjects/Topics:** ${o.join(", ")}
**Study Hours per Week:** ${u} hours
**Include Weekends:** ${h?"Yes":"No"}
**Prefer Morning Sessions:** ${m?"Yes":"No"}`;return g&&g.trim()&&(p+=`

**Additional Requirements/Constraints:**
${g.trim()}`),p+=`

Please create a comprehensive study plan that includes:
1. A weekly breakdown of study sessions
2. Recommended time slots for each subject
3. Balance between subjects based on complexity
4. Rest periods and breaks
5. Tips for effective studying

Format the response as a structured JSON object with this exact structure:
{
  "weeklySchedule": [
    {
      "day": "Monday",
      "sessions": [
        {
          "subject": "Subject Name",
          "timeSlot": "9:00 AM - 11:00 AM",
          "duration": "2 hours",
          "topics": ["Topic 1", "Topic 2"]
        }
      ]
    }
  ],
  "studyTips": ["Tip 1", "Tip 2", "Tip 3"],
  "subjectDistribution": {
    "Mathematics": "30%",
    "History": "35%",
    "Physics": "35%"
  }
}

Make sure the schedule is realistic, balanced, and achievable. Consider break times and avoid burnout.`,p},eM=s=>{try{const e=s.match(/\{[\s\S]*\}/);return e?JSON.parse(e[0]):{rawSchedule:s,parsed:!1}}catch(e){return console.error("Error parsing schedule:",e),{rawSchedule:s,parsed:!1}}},pf="schedules",tM=async(s,e)=>{try{const n=bn.currentUser;if(!n)throw new Error("User must be logged in to save schedules");const r={userId:n.uid,userEmail:n.email,goalTitle:e.goalTitle,startDate:e.startDate,endDate:e.endDate,subjects:e.subjects,studyHours:e.studyHours,includeWeekends:e.includeWeekends,preferMorning:e.preferMorning,schedule:s,createdAt:et.now(),updatedAt:et.now()},o=await _O(bS(sa,pf),r);return console.log("Schedule saved with ID:",o.id),{success:!0,scheduleId:o.id,message:"Schedule saved successfully!"}}catch(n){return console.error("Error saving schedule:",n),{success:!1,error:n.message||"Failed to save schedule"}}},FS=async()=>{try{const s=bn.currentUser;if(!s)throw new Error("User must be logged in to view schedules");const e=uO(bS(sa,pf),cO("userId","==",s.uid),hO("createdAt","desc")),n=await mO(e),r=[];return n.forEach(o=>{r.push({id:o.id,...o.data(),createdAt:o.data().createdAt?.toDate(),updatedAt:o.data().updatedAt?.toDate()})}),{success:!0,schedules:r}}catch(s){return console.error("Error fetching schedules:",s),{success:!1,error:s.message||"Failed to fetch schedules"}}},GS=async s=>{try{const e=bn.currentUser;if(!e)throw new Error("User must be logged in");const n=vo(sa,pf,s),r=await qh(n);if(!r.exists())throw new Error("Schedule not found");const o=r.data();if(o.userId!==e.uid)throw new Error("Unauthorized access to schedule");return{success:!0,schedule:{id:r.id,...o,createdAt:o.createdAt?.toDate(),updatedAt:o.updatedAt?.toDate()}}}catch(e){return console.error("Error fetching schedule:",e),{success:!1,error:e.message||"Failed to fetch schedule"}}},nM=async s=>{try{if(!bn.currentUser)throw new Error("User must be logged in");const n=await GS(s);if(!n.success)throw new Error(n.error);return await yO(vo(sa,pf,s)),{success:!0,message:"Schedule deleted successfully"}}catch(e){return console.error("Error deleting schedule:",e),{success:!1,error:e.message||"Failed to delete schedule"}}},iM=()=>{const[s,e]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(""),[g,p]=P.useState([]),[T,A]=P.useState(""),[R,x]=P.useState(15),[H,K]=P.useState(!0),[G,te]=P.useState(!1),[ne,ie]=P.useState(!1),[de,Ae]=P.useState(null),[ye,I]=P.useState(""),[w,C]=P.useState(null),[M,V]=P.useState(!1),[U,N]=P.useState(!1),tt=mr(),ct=()=>{T.trim()&&g.length<10&&(p([...g,T.trim()]),A(""))},X=ue=>{p(g.filter((O,Q)=>Q!==ue))},re=ue=>{ue.key==="Enter"&&(ue.preventDefault(),ct())},me=async ue=>{if(ue.preventDefault(),ie(!0),I(""),V(!1),g.length===0){I("Please add at least one subject."),ie(!1);return}const O={goalTitle:n,startDate:o,endDate:h,subjects:g,studyHours:R,includeWeekends:H,preferMorning:G,customPrompt:s.trim()||null};C(O),console.log("Generating schedule with:",O);try{const Q=await qS(O);Q.success?(Ae(Q.schedule),console.log("Generated Schedule:",Q.schedule)):I(Q.error||"Failed to generate schedule. Please try again.")}catch(Q){console.error("Error generating schedule:",Q),I("An error occurred while generating the schedule.")}finally{ie(!1)}},Le=async()=>{if(!de||!w){I("No schedule to save");return}N(!0),V(!1),I("");try{const ue=await tM(de,w);ue.success?(V(!0),setTimeout(()=>V(!1),3e3)):I(ue.error||"Failed to save schedule")}catch(ue){console.error("Error saving schedule:",ue),I("An error occurred while saving the schedule.")}finally{N(!1)}};return E.jsxs("div",{className:"plan-generator-container",children:[E.jsxs("header",{className:"plan-header",children:[E.jsxs("div",{className:"header-left",children:[E.jsx("img",{src:wu,alt:"Planora Logo",className:"header-logo"}),E.jsx("h1",{className:"header-title",children:"Planora"})]}),E.jsxs("nav",{className:"header-nav",children:[E.jsx("a",{href:"/dashboard",className:"nav-link",children:"Dashboard"}),E.jsx("button",{className:"profile-icon-btn","aria-label":"Settings",onClick:()=>tt("/settings"),children:E.jsx("div",{className:"profile-icon"})})]})]}),E.jsxs("div",{className:"plan-content",children:[E.jsxs("div",{className:"form-section",children:[E.jsx("h2",{className:"page-title",children:"Create Your Study Plan"}),E.jsx("p",{className:"page-subtitle",children:"Fill in the details below and let our AI generate the perfect schedule for you."}),E.jsxs("form",{onSubmit:me,className:"plan-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"goalTitle",children:"Goal Title"}),E.jsx("input",{type:"text",id:"goalTitle",placeholder:"e.g., Midterm Prep",value:n,onChange:ue=>r(ue.target.value),required:!0})]}),E.jsxs("div",{className:"date-group",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"startDate",children:"Start Date"}),E.jsx("input",{type:"date",id:"startDate",value:o,onChange:ue=>u(ue.target.value),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"endDate",children:"End Date"}),E.jsx("input",{type:"date",id:"endDate",value:h,onChange:ue=>m(ue.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Subjects / Topics"}),E.jsx("div",{className:"subjects-container",children:g.map((ue,O)=>E.jsxs("div",{className:"subject-tag",children:[ue,E.jsx("button",{type:"button",onClick:()=>X(O),className:"remove-subject","aria-label":"Remove subject",children:""})]},O))}),E.jsxs("div",{className:"add-subject-row",children:[E.jsx("input",{type:"text",placeholder:"Enter a subject",value:T,onChange:ue=>A(ue.target.value),onKeyPress:re,className:"subject-input"}),E.jsx("button",{type:"button",onClick:ct,className:"add-subject-btn",disabled:!T.trim(),children:"+ Add Subject"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{htmlFor:"customPrompt",children:["Custom Instructions (Optional)",E.jsx("span",{className:"optional-badge",children:"Optional"})]}),E.jsx("textarea",{id:"customPrompt",placeholder:"Add any specific requirements, constraints, or preferences... (e.g., 'Focus more on practical problems', 'I have exams on Friday', 'Avoid scheduling on weekends')",value:s,onChange:ue=>e(ue.target.value),className:"custom-prompt-input",rows:"4",maxLength:"500"}),E.jsxs("div",{className:"char-count",children:[s.length,"/500 characters"]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"studyHours",children:"Study Hours per Week"}),E.jsxs("div",{className:"slider-container",children:[E.jsx("input",{type:"range",id:"studyHours",min:"5",max:"40",value:R,onChange:ue=>x(ue.target.value),className:"slider"}),E.jsxs("div",{className:"slider-value",children:[R," hrs"]})]})]}),E.jsx("div",{className:"form-group",children:E.jsxs("div",{className:"toggle-row",children:[E.jsx("label",{htmlFor:"includeWeekends",children:"Include Weekends"}),E.jsxs("label",{className:"toggle-switch",children:[E.jsx("input",{type:"checkbox",id:"includeWeekends",checked:H,onChange:ue=>K(ue.target.checked)}),E.jsx("span",{className:"toggle-slider"})]})]})}),E.jsx("div",{className:"form-group",children:E.jsxs("div",{className:"toggle-row",children:[E.jsx("label",{htmlFor:"preferMorning",children:"Prefer Morning Sessions"}),E.jsxs("label",{className:"toggle-switch",children:[E.jsx("input",{type:"checkbox",id:"preferMorning",checked:G,onChange:ue=>te(ue.target.checked)}),E.jsx("span",{className:"toggle-slider"})]})]})}),E.jsx("button",{type:"submit",className:"generate-btn",disabled:ne,children:ne?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"loading-spinner"}),"Generating..."]}):E.jsxs(E.Fragment,{children:[E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),E.jsx("path",{d:"M2 17l10 5 10-5M2 12l10 5 10-5"})]}),"Generate Schedule"]})})]})]}),E.jsxs("div",{className:"preview-section",children:[ye&&E.jsxs("div",{className:"error-display",children:[E.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("circle",{cx:"12",cy:"12",r:"10"}),E.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),E.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),E.jsx("h3",{children:"Generation Failed"}),E.jsx("p",{children:ye}),E.jsx("button",{onClick:()=>I(""),className:"retry-btn",children:"Try Again"})]}),!ye&&de&&E.jsxs("div",{className:"schedule-display",children:[E.jsxs("div",{className:"schedule-header",children:[E.jsx("h3",{className:"schedule-title",children:"Your Personalized Study Plan"}),E.jsx("button",{onClick:Le,className:"save-schedule-btn",disabled:U,children:U?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"loading-spinner-small"}),"Saving..."]}):E.jsxs(E.Fragment,{children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),E.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),E.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save Schedule"]})})]}),M&&E.jsx("div",{className:"save-success-message",children:" Schedule saved successfully!"}),de.parsed===!1?E.jsx("div",{className:"schedule-content",children:E.jsx("pre",{className:"raw-schedule",children:de.rawSchedule})}):E.jsxs("div",{className:"schedule-content",children:[de.weeklySchedule&&E.jsx("div",{className:"weekly-schedule",children:de.weeklySchedule.map((ue,O)=>E.jsxs("div",{className:"day-card",children:[E.jsx("h4",{className:"day-title",children:ue.day}),E.jsx("div",{className:"sessions",children:ue.sessions.map((Q,ae)=>E.jsxs("div",{className:"session-item",children:[E.jsxs("div",{className:"session-header",children:[E.jsx("span",{className:"session-subject",children:Q.subject}),E.jsx("span",{className:"session-duration",children:Q.duration})]}),E.jsx("div",{className:"session-time",children:Q.timeSlot}),Q.topics&&Q.topics.length>0&&E.jsx("div",{className:"session-topics",children:Q.topics.join(", ")})]},ae))})]},O))}),de.studyTips&&de.studyTips.length>0&&E.jsxs("div",{className:"study-tips",children:[E.jsx("h4",{className:"tips-title",children:"Study Tips"}),E.jsx("ul",{className:"tips-list",children:de.studyTips.map((ue,O)=>E.jsx("li",{children:ue},O))})]}),de.subjectDistribution&&E.jsxs("div",{className:"subject-distribution",children:[E.jsx("h4",{className:"distribution-title",children:"Time Distribution"}),E.jsx("div",{className:"distribution-bars",children:Object.entries(de.subjectDistribution).map(([ue,O])=>E.jsxs("div",{className:"distribution-item",children:[E.jsxs("div",{className:"distribution-label",children:[E.jsx("span",{children:ue}),E.jsx("span",{children:O})]}),E.jsx("div",{className:"distribution-bar",children:E.jsx("div",{className:"distribution-fill",style:{width:O}})})]},ue))})]})]})]}),!ye&&!de&&E.jsxs("div",{className:"empty-state",children:[E.jsx("div",{className:"calendar-icon",children:E.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[E.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),E.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),E.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),E.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),E.jsx("h3",{children:"Your Schedule Awaits"}),E.jsx("p",{children:"Fill in your goals on the left to generate a personalized study plan with our AI."})]})]})]})]})},sM=()=>{const[s,e]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(!0),[g,p]=P.useState(!1),[T,A]=P.useState(!1),[R,x]=P.useState(""),[H,K]=P.useState(""),[G,te]=P.useState(!1),ne=mr();P.useEffect(()=>{ie()},[]);const ie=async()=>{try{const I=bn.currentUser;if(!I){K("No user logged in"),m(!1);return}r(I.email),u(I.email);const w=vo(sa,"users",I.uid),C=await qh(w);if(C.exists()){const M=C.data();e(M.fullName||""),te(!M.fullName)}else te(!0);m(!1)}catch(I){console.error("Error loading user data:",I),K("Failed to load user data"),m(!1)}},de=async()=>{if(!s.trim()){K("Please enter your full name");return}p(!0),x(""),K("");try{const I=bn.currentUser;if(!I)throw new Error("No user logged in");const w=vo(sa,"users",I.uid),C=await qh(w),M={fullName:s.trim(),email:I.email,updatedAt:new Date().toISOString()};C.exists()?await pO(w,M):await gO(w,{...M,createdAt:new Date().toISOString()}),x("Changes saved successfully!"),te(!1),setTimeout(()=>x(""),3e3)}catch(I){console.error("Error saving changes:",I),K("Failed to save changes. Please try again.")}finally{p(!1)}},Ae=async()=>{if(!o.trim()){K("Please enter your email address");return}A(!0),x(""),K("");try{await qA(bn,o),x("Password reset email sent! Check your inbox."),setTimeout(()=>x(""),5e3)}catch(I){console.error("Error sending password reset:",I),I.code==="auth/user-not-found"?K("No account found with this email"):I.code==="auth/invalid-email"?K("Invalid email address"):K("Failed to send reset email. Please try again.")}finally{A(!1)}},ye=async()=>{try{await qI(bn),ne("/")}catch(I){console.error("Error logging out:",I),K("Failed to log out")}};return h?E.jsx("div",{className:"settings-container",children:E.jsxs("div",{className:"settings-loading",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading settings..."})]})}):E.jsxs("div",{className:"settings-container",children:[E.jsxs("div",{className:"settings-header",children:[E.jsx("h1",{children:"Settings"}),E.jsxs("button",{onClick:ye,className:"logout-btn",children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),E.jsx("polyline",{points:"16 17 21 12 16 7"}),E.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Log Out"]}),E.jsxs("button",{onClick:()=>ne("/dashboard"),className:"logout-btn",children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),E.jsx("polyline",{points:"16 17 21 12 16 7"}),E.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Dashboard"]})]}),E.jsxs("div",{className:"settings-content",children:[E.jsxs("div",{className:"profile-section",children:[E.jsx("div",{className:"profile-avatar",children:E.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),E.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),E.jsxs("div",{className:"profile-info",children:[E.jsx("h2",{children:s||"New User"}),E.jsx("p",{children:n})]})]}),E.jsx("div",{className:"divider"}),R&&E.jsx("div",{className:"success-message",children:R}),H&&E.jsx("div",{className:"error-message",children:H}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{children:"Personal Information"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"fullName",children:"Full Name"}),E.jsx("input",{type:"text",id:"fullName",placeholder:G?"Enter your full name":"Alex Johnson",value:s,onChange:I=>e(I.target.value)})]})]}),E.jsxs("div",{className:"settings-section",children:[E.jsx("h3",{children:"Password"}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"resetEmail",children:"Enter Email to Reset Password"}),E.jsx("input",{type:"email",id:"resetEmail",placeholder:"Enter your email address",value:o,onChange:I=>u(I.target.value)})]}),E.jsx("button",{onClick:Ae,className:"reset-password-btn",disabled:T,children:T?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"loading-spinner-small"}),"Sending..."]}):"Send Reset Link"})]}),E.jsx("div",{className:"divider"}),E.jsx("div",{className:"settings-footer",children:E.jsx("button",{onClick:de,className:"save-btn",disabled:g,children:g?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"loading-spinner-small"}),"Saving..."]}):"Save Changes"})})]})]})},rM=()=>{const s=mr(),[e,n]=P.useState([]),[r,o]=P.useState([]),[u,h]=P.useState(!0),[m,g]=P.useState(""),[p,T]=P.useState(""),[A,R]=P.useState("newest"),[x,H]=P.useState("list"),[K,G]=P.useState(new Date),[te,ne]=P.useState(null);P.useEffect(()=>{ie()},[]),P.useEffect(()=>{de()},[e,p,A]);const ie=async()=>{h(!0),g("");try{const w=await FS();w.success?n(w.schedules):g(w.error||"Failed to load schedules")}catch(w){console.error("Error loading schedules:",w),g("An error occurred while loading schedules")}finally{h(!1)}},de=()=>{let w=[...e];p.trim()&&(w=w.filter(C=>C.goalTitle.toLowerCase().includes(p.toLowerCase())||C.subjects.some(M=>M.toLowerCase().includes(p.toLowerCase())))),A==="newest"?w.sort((C,M)=>new Date(M.createdAt)-new Date(C.createdAt)):A==="oldest"&&w.sort((C,M)=>new Date(C.createdAt)-new Date(M.createdAt)),o(w)},Ae=async w=>{try{const C=await nM(w);C.success?(n(e.filter(M=>M.id!==w)),ne(null)):g(C.error||"Failed to delete schedule")}catch(C){console.error("Error deleting schedule:",C),g("An error occurred while deleting the schedule")}},ye=w=>{s(`/schedule/${w.id}`)},I=w=>w?new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return E.jsxs("div",{className:"my-schedules-container",children:[E.jsxs("header",{className:"schedules-header",children:[E.jsxs("div",{className:"header-left",children:[E.jsx("img",{src:wu,alt:"Planora Logo",className:"header-logo"}),E.jsx("h1",{className:"header-title",children:"Planora"})]}),E.jsxs("nav",{className:"header-nav",children:[E.jsx("a",{href:"/dashboard",className:"nav-link",children:"Dashboard"}),E.jsx("a",{href:"/my-schedules",className:"nav-link active",children:"My Schedules"}),E.jsx("a",{href:"/plan-generator",className:"nav-link",children:"AI Planner"}),E.jsx("button",{className:"profile-icon-btn",onClick:()=>s("/settings"),children:E.jsx("div",{className:"profile-icon"})})]})]}),E.jsxs("div",{className:"schedules-layout",children:[E.jsx("aside",{className:"filters-sidebar",children:E.jsxs("div",{className:"filters-section",children:[E.jsx("h3",{children:"Filters"}),E.jsx("p",{className:"filters-subtitle",children:"Refine your schedules"}),E.jsxs("div",{className:"filter-group",children:[E.jsx("label",{children:"Sort by"}),E.jsxs("select",{value:A,onChange:w=>R(w.target.value),children:[E.jsx("option",{value:"newest",children:"Date Created (Newest)"}),E.jsx("option",{value:"oldest",children:"Date Created (Oldest)"})]})]})]})}),E.jsxs("main",{className:"schedules-content",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsx("h2",{children:"My Schedules"}),E.jsx("p",{className:"page-subtitle",children:"View and manage your AI-generated schedules."})]}),E.jsx("button",{className:"generate-new-btn",onClick:()=>s("/plan-generator"),children:"+ Generate New Schedule"})]}),E.jsx("div",{className:"controls-bar",children:E.jsxs("div",{className:"search-box",children:[E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("circle",{cx:"11",cy:"11",r:"8"}),E.jsx("path",{d:"m21 21-4.35-4.35"})]}),E.jsx("input",{type:"text",placeholder:"Search schedules...",value:p,onChange:w=>T(w.target.value)})]})}),m&&E.jsx("div",{className:"error-banner",children:m}),u&&E.jsxs("div",{className:"schedules-loading",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading schedules..."})]}),!u&&r.length>0&&E.jsx("div",{className:"schedules-list",children:r.map(w=>E.jsx("div",{className:"schedule-card",children:E.jsxs("div",{className:"schedule-card-header",children:[E.jsx("div",{className:"schedule-checkbox",children:E.jsx("div",{className:"checkbox-circle"})}),E.jsxs("div",{className:"schedule-info",children:[E.jsx("h3",{onClick:()=>ye(w),children:w.goalTitle}),E.jsxs("p",{className:"schedule-date",children:[I(w.startDate)," - ",I(w.endDate)]}),E.jsx("div",{className:"schedule-tags",children:w.subjects.map((C,M)=>E.jsxs("span",{className:"tag",children:["#",C]},M))})]}),E.jsx("div",{className:"schedule-actions",children:E.jsx("button",{className:"action-btn delete-btn",onClick:()=>ne(w.id),title:"Delete",children:E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})})]})},w.id))}),!u&&r.length===0&&!m&&E.jsxs("div",{className:"empty-state",children:[E.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[E.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),E.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),E.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),E.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),E.jsx("h3",{children:"No Schedules Found"}),E.jsx("p",{children:p?"No schedules match your search. Try different keywords.":"Start by creating your first AI-generated study schedule!"}),E.jsx("button",{className:"empty-state-btn",onClick:()=>s("/plan-generator"),children:"Generate Your First Schedule"})]})]})]}),te&&E.jsx("div",{className:"modal-overlay",onClick:()=>ne(null),children:E.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[E.jsx("h3",{children:"Delete Schedule?"}),E.jsx("p",{children:"Are you sure you want to delete this schedule? This action cannot be undone."}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{className:"modal-btn cancel-btn",onClick:()=>ne(null),children:"Cancel"}),E.jsx("button",{className:"modal-btn delete-confirm-btn",onClick:()=>Ae(te),children:"Delete"})]})]})})]})},aM=()=>{const{id:s}=o1(),e=mr(),[n,r]=P.useState(null),[o,u]=P.useState(!0),[h,m]=P.useState("");P.useEffect(()=>{g()},[s]);const g=async()=>{u(!0),m("");try{const A=await GS(s);A.success?r(A.schedule):m(A.error||"Failed to load schedule")}catch(A){console.error("Error loading schedule:",A),m("An error occurred while loading the schedule")}finally{u(!1)}},p=A=>A?new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";if(o)return E.jsx("div",{className:"schedule-detail-container",children:E.jsxs("div",{className:"detail-loading",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading schedule..."})]})});if(h)return E.jsx("div",{className:"schedule-detail-container",children:E.jsxs("div",{className:"detail-error",children:[E.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("circle",{cx:"12",cy:"12",r:"10"}),E.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),E.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),E.jsx("h3",{children:"Error Loading Schedule"}),E.jsx("p",{children:h}),E.jsx("button",{onClick:()=>e("/my-schedules"),className:"back-btn",children:"Back to My Schedules"})]})});if(!n)return E.jsx("div",{className:"schedule-detail-container",children:E.jsxs("div",{className:"detail-error",children:[E.jsx("h3",{children:"Schedule Not Found"}),E.jsx("button",{onClick:()=>e("/my-schedules"),className:"back-btn",children:"Back to My Schedules"})]})});const T=n.schedule;return E.jsxs("div",{className:"schedule-detail-container",children:[E.jsxs("header",{className:"detail-header",children:[E.jsxs("div",{className:"header-left",children:[E.jsx("img",{src:wu,alt:"Planora Logo",className:"header-logo"}),E.jsx("h1",{className:"header-title",children:"Planora"})]}),E.jsxs("nav",{className:"header-nav",children:[E.jsx("a",{href:"/dashboard",className:"nav-link",children:"Dashboard"}),E.jsx("a",{href:"/my-schedules",className:"nav-link",children:"My Schedules"}),E.jsx("a",{href:"/plan-generator",className:"nav-link",children:"AI Planner"}),E.jsx("button",{className:"profile-icon-btn",onClick:()=>e("/settings"),children:E.jsx("div",{className:"profile-icon"})})]})]}),E.jsxs("div",{className:"detail-content",children:[E.jsx("button",{onClick:()=>e("/my-schedules"),className:"back-link",children:" Back to My Schedules"}),E.jsx("div",{className:"detail-header-section",children:E.jsxs("div",{children:[E.jsx("h2",{children:n.goalTitle}),E.jsxs("p",{className:"detail-subtitle",children:[p(n.startDate)," - ",p(n.endDate)]})]})}),E.jsxs("div",{className:"plan-details",children:[E.jsxs("div",{className:"detail-card",children:[E.jsx("h3",{children:"Study Information"}),E.jsxs("div",{className:"detail-grid",children:[E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Study Hours per Week"}),E.jsxs("span",{className:"detail-value",children:[n.studyHours," hours"]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Include Weekends"}),E.jsx("span",{className:"detail-value",children:n.includeWeekends?"Yes":"No"})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Prefer Morning Sessions"}),E.jsx("span",{className:"detail-value",children:n.preferMorning?"Yes":"No"})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Created On"}),E.jsx("span",{className:"detail-value",children:p(n.createdAt)})]})]})]}),E.jsxs("div",{className:"detail-card",children:[E.jsx("h3",{children:"Subjects"}),E.jsx("div",{className:"subjects-list",children:n.subjects.map((A,R)=>E.jsx("span",{className:"subject-badge",children:A},R))})]})]}),E.jsxs("div",{className:"generated-schedule",children:[E.jsx("h3",{children:"Your Study Schedule"}),T&&T.parsed!==!1?E.jsxs(E.Fragment,{children:[T.weeklySchedule&&E.jsx("div",{className:"weekly-schedule",children:T.weeklySchedule.map((A,R)=>E.jsxs("div",{className:"day-card",children:[E.jsx("h4",{className:"day-title",children:A.day}),E.jsx("div",{className:"sessions",children:A.sessions.map((x,H)=>E.jsxs("div",{className:"session-item",children:[E.jsxs("div",{className:"session-header",children:[E.jsx("span",{className:"session-subject",children:x.subject}),E.jsx("span",{className:"session-duration",children:x.duration})]}),E.jsx("div",{className:"session-time",children:x.timeSlot}),x.topics&&x.topics.length>0&&E.jsx("div",{className:"session-topics",children:x.topics.join(", ")})]},H))})]},R))}),T.studyTips&&T.studyTips.length>0&&E.jsxs("div",{className:"study-tips",children:[E.jsx("h4",{className:"tips-title",children:"Study Tips"}),E.jsx("ul",{className:"tips-list",children:T.studyTips.map((A,R)=>E.jsx("li",{children:A},R))})]}),T.subjectDistribution&&E.jsxs("div",{className:"subject-distribution",children:[E.jsx("h4",{className:"distribution-title",children:"Time Distribution"}),E.jsx("div",{className:"distribution-bars",children:Object.entries(T.subjectDistribution).map(([A,R])=>E.jsxs("div",{className:"distribution-item",children:[E.jsxs("div",{className:"distribution-label",children:[E.jsx("span",{children:A}),E.jsx("span",{children:R})]}),E.jsx("div",{className:"distribution-bar",children:E.jsx("div",{className:"distribution-fill",style:{width:R}})})]},A))})]})]}):E.jsx("div",{className:"raw-schedule",children:E.jsx("pre",{children:T?.rawSchedule||"No schedule data available"})})]})]})]})};function oM(){const[s,e]=P.useState(new Date);P.useEffect(()=>{const m=setInterval(()=>{e(new Date)},6e4);return()=>clearInterval(m)},[]);const n=s.toLocaleString("en-US",{weekday:"long"}),r=s.toLocaleString("en-US",{month:"long"}),o=s.getDate(),u=s.getFullYear(),h=`${n}, ${r} ${o}, ${u}`;return E.jsx("p",{children:h})}const lM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABTFJREFUeJztm92LVWUUh581iqFSSWafUGoFZaCGQV83RUoSRIllo5VFFv0HRdCHfV1E1kVXFRFTYJBE9IWZZKDeFJl4o2ZoM5lKSRIajpFNTxf7nDjtec/M7szZZ6szPxiYs971rvV713732muvvTcUhLrSwVhZdH5ZGCmvrhK5nRQYC0DVBKrGqA9ANP5Qu4BuYCkwDzgHGFcBr3ZiADgIbAHeBdZExN/1wX8DoM4E3geu6jTDDmMrcGdE9EItALXFfwVMq5BYJ3EQuDYieqO27bdw6h/5PLYA14S6DFhdNZuK0I36SaKS6lNvVifUNU/WSlCdoM5Xf0zofdRFlu3zWBERGyLiz46tpCRExJ8R8QXwUGL46i6yS10em8ulVQk2JmTndpG4zp8KRz6PJmsaN1YJqg4SRkRK+WRHaq2jfgeM+gCMTwnVxzpNpCokc8Bowqg/BcYCUDWBqpFMgsCLHWXROQxK7mOFUBVETiSMBaBqAlWjWRL8D9TpwPScuC8i+srUKwHHgIn/kSTaRIMSRdF2WLv12g31CnV7o9NCO+BEgHo+cCMwm2z3TCVr6x8B9gHbgc0RsbOZjYjYqV4HvAUshoKnQFVQTwPuBR4Eri84ZzfwNvBaRPyaH4+II+oS4B3gnhMyCaqh3gfsAd6k4OJruBR4DuhTn1En5hVqj8buB94rugP6GNxU7CtDT51GdnQWFuTWDJOBp4Bu9e6I2NY4GBED6vJCSbBTqCWpVP9+pDimLkr5PGFKYfUKYBNw9hBqvcDHwPfAfuA4cB4wg2zHzCP3xLsBA8CyiFiTd1z5DlCnDXPkP1evKWDnYvU19XgTO3+oN+QnVRoAs4T3WRPCv6m3tWBzlrnrfQN+Us+q6xY6BSyxwjPL9u8khn4Abo2IXS1yOQNYA9ySsP1GRDxSVxx2B1hShaeepu5rcuQvbzKnsA91sro1oT+gzoLqb4buBS5MyJdHxHcjNR4RR4E7yKrFRnQBj9b/qRIrErL1EfFJuxxExF7gpcTQXerplQXArLa/NjH0VAnuXgEO5WSTgIVVVYKQ3djkr9m9EfF1QU6FERH96qdk5W8jbioUgIjoAXrapVfD7ISs1a0/V32g4ffPEbEuYTsfgDlV3g3OTMhaTXy31/7q2AjkA5CyPbPKJHhmQnagRH/7E7IpVQYg9Qbq8RL9Jd8QqaQnWMPvCdn5Rfi0iAsSsiNFc8ADwNM52TPAyhb1AH5KyKYX4LKNrOMzFFLn+4yEbG+VSXB7QrYQeHKoSRHxIfBhC/5SDZYdVeaATQnZPPXidjsyex34jsTQxsoCUKv1d+fFwOMluOtm8GX3b2BtlZUgZOfycznZCvXViNhRkNuQMGuKvpAY2hAR+yttiKhT1d8TFHaqU9pgP9TVqTWqC+pKlQWg5v/ZJgTXqZNHYDfU55vY3tCo+FdCYcIQttsKdaK6qwnRrepFLdp8t4nNfrMG7L/KBxJK89u6yuEJzzVrXadwWH1CnVTATqjL1N4mtlQfzk/6OKHUpy6wszthkendWMchtUddrF6pTjE70pfVuL6s7hlivuqqlOPuYSa1G/1q6lYYdYlZ67oMrFIHPzNQu9RvS3LaDLvMurYpPjeYta7bhX7z2z7hdIb6SxudFsH7ZhVais9Z6utm3duR4EsbE16BIHwzQof/F6sd4h0FswccPerR/2FzQF1v/To/DFJfji4h+3L0auBcyv9y9ANg6VBfqaink93M3ATMAS4ha6iMBw4De4EdZFXo2ohINT+S+AfntPErFPdEtAAAAABJRU5ErkJggg==",uM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABvhJREFUeJzlm99vFUUUx8+00IIokkCL/FIxwUak+KK8CIj6B+ibxlgejE8WTaohCPjoE4jEAC8FTKSYEDAEg4YfPvFbgScolEIqiAItBiO0QX7Y+/Fh5srcubN3Z3fvvW31mzTZ7s75nnPm7s6eH7MiVQJQBywBfgQGKMYAcAxoBeqqZVdVAEwGTnicjsJxYPJQ210WALXml02Ko0Btpe1TlVYALBaRr5zTZ0TkmnNuqojMds4tVkp1VMq2qgD43vll3ysxttUZu7uatlYEwAXLoV4g8q4DFNBnjb9QaftGJRUA5onIW6Jv10EROS0iHUqp0xEiD1nHN5VSRHErpQD+FJFGj6xrx1wRaRGROSJSKyJnReRrpdSJUF8SAagHvoxYsAaBz+1FC2gCPgFuW+O6A/R0W+NvG44m63qt0TXosSMHbAbqy+38GGBvhPM2tgELgH0R17sCdHVFyO4D5hsdcdgLjKm28yFoD9DXXiZd2ScBfdv7nF8HjAcmAlsDjDkOtIUYhJ7wNiMThw5jw3hgfcQkpH8c8D/zq5wxNejnzkUfsAJ4MoP+Jw1Hn4d/M1DjjF/lGbcprfJ5cc5bY2vQd0UO/apbCoxLpdjPP85w9hodG1znrbHuJOSAF9Io/cIhWhcgMwEYnVhZuE2jgQkB49zHYW0aZfudWRyfyuohAPCosTmPfVFjvbeRQc75fySlqHVSmOe4vvyLUhNwyjpWIrI26rkbTjA2urf8Kd/YOKJmiqOtopV3OAH/G2kQmJOWcA3FiF0MS/A9AbwPfAMcAS6ZvyPADnTF6PEM/Bs89q5Oy5ePu93QM0fASuzwLAIOe4yLwiFgYUIdEyhc+DC2ZyuqoGN7G71AUBYJNAK7EzjuYhcwKVDXKGObjfmZnDfEbmKzNFDuOfTtHYW/gItmzJ0S434GmgN1LnVk92Z1vskh7CMgwjPO3/I48wuwHHBLXwI8iw57L3vkboZMAjpivO7IPp3Wf0Hn4jZWBMg0UvzL3wOWEZ4MLTcyNi4CDQHyKx25laHO1gKL0TW8bqCHwvp9joDEhuJn/gbwUpARhTyLjKyNXQFyMylcDAeML93GtxbchRFdt48rXR8PUL7QkbkHvJzUeYtvAXDX4YzlIz6VPkq+74Du2JyMEQBoC1DsvuqWpXXe4lzhcB4MkGkL8OcEUCfo4MNFL/q2yd867cQ8v+ggx771LsXJBE7AGPTimUcOmBEg086DR7mH4lckQKsAPzknI+v2MUo/cHg+Tueyl9td2Jak4FAU9x2OCdBvnejMYOQOh7zoVZeBu9nh3p6B64zFc6tGRB62rv+ewc7p1vEdEYmtACdAp4jctf6floHrunX8SDkzuynW8bVSDZCkMFx2L3FqubjLOQG2w5VoutqcZZvcck7AVet4CiV6gElhuB6L0JUJNSIyYP3fGDUwALZR9VLc6s6COYYzjysZuOyNF/01onv1ecw2r4o0v94B5//XUnBE4fUYXbEwr8GPROQZ63RnVCDUR/JAaBqFgdBvQGR3N4HhYynMEHPA9BgZXyDka668kw+FQ9pQIaHwIUcmNnsM4HQz0thfn7BQ+Afydzo6GToaIxCSDLnVo/vAKxmc9yVDsVUe4jdk7cZNrdHpcAvwHdHp8MwA5d86ym6QIiMEXgX+cLh2Bsg9hT8dPmd8ezOJEWkKIg3o4oWNe+isbmyA/Fij977D0QNMTGFzWEEkgixtSawZXcZycRmd2BTV6YG5xvhfPXI3fTIejvKWxAxp2qJoM7qgGYU7POgLuM+5jZ4Q541Otyi6J5PzhnS+Q5qkLN6ALm2nxU6ylcVfzOp8uRojC4CDFDcufMgBB5IaTyUaI8Baj4FZWmMz0JHmdnT5LP8IHDbnWokJcmL4fa2xNWnJ/kvN0aDGiku22iHqGM7O52Emwd245d3aE0dk7w7LEfAOHi5AL742It8GpX5R99rf5TGvKrgvhUWTSD9LTcBZ61iJyKdxWhkmm6RE22qn9GeiBpZSNo/i18pI3Sb3fFrFvg2QoRslr6PD3tgEqoT+mejw2A1vIXyj5Ma0+oXorbLr0VvRGhjarbJbgUnGFl8MkG2rrGXQ/3OzdIpJ2IbOHfZEXM+yXX4PQ7Fd3jKsHtiEP54fRAdO9gcTs9BrQNYPJlYCs6zrtcBnRH8wsZEEt33i6i9647H9yUyniGxRSnn7isAVedDJOa+UavKNs8Z3i0g+h7+qlPK2wdDh7dsi0iz6dd4l+pOZk8k8qjAY5h9NVSO2P28dTxaRUu33D6WwOXOuIhZZqMaHky0issU53SXF3Z1pUti0EBF5QymVuhU+LGAWrbiSuw8j/6PJPEj+8fR+ArbEjSigO1Ct5m7o9zjdb669Sxk7y3H4B3NqkmVmEuPkAAAAAElFTkSuQmCC",cM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABRBJREFUeJztmk9oHkUYxp+paSpEU6NUPbTHKkRBBe1BFCxorBYvHqoitoIiSPFmRUGRaG210dqDPejNigjVg6UqggSliRahiD2p1B40zR+TFm0Thbaan4eZL1nzze7M7vdlv238HgjZzPtv3mffmZ2ZjNRGG238n2GSfwBrJL0pqU/SpS3pUXMxLWlQ0rPGmJ98CnMEuOS/l3R5OX0rFb9LusEYM5KqAXyExafA6vL6tngAVgOfubz2h5TPOMUlkXwNwBqX1+mQIgAl9atUZOW2LGD4NfMYSmlPw1CWb0+sFcAAMAaMAjuAzgi7i4HdwDhwAngZWJ4nds1RHUvAUCKhQyntaThUHyUz/oDHx/YIuz0euxdDuUURUCaA3zyJ/BqwMcApj93xBXqpuWUOgZLhK9uYUvYNk+gXWQkCACPJt1A55mRZ+NHTtq9IJ+rKhJImQWC7s5lhfhL80zeeF9i95nSmsZPgCNAPdIRyiyVg0SdB4DGnfw64O9F+D3AemAUe9dg9kbC7K29uxZSaDGCDSxLgSY/88USSfYn2jQlytkTEqQYBQKcr2zH3M+PCvpRhs9Pp1Mp8FPjLtb0QGbcyBLzqGSrDZEx02E/dtx67L3PELUYATZ4E3dtbiKmIBP7w2I01g4DQZ3A26SelPTVuhI4knS2oE2MXj6gyaTzGTs+b3BFh97rHrj9H3HBuJRHQ6UgYxW5cYjc8K4Bd2IlzhJwbnsoQ0Co0MgeEHPsmw+FGfJaN5JkgkmSMCa2955DGah4fZSArt0pshlqJNgFZwqUwxkPInANCY3wpzAEd9erVA3Z/v0HSRkm9knqNMaucbEr2UOQHSQclfW6MOV8kSN230lP+/9GJkDc0hIBu7GJpIkcfprCbru6EzhCh84lFIiBTHujPQ9iVX6EYWNI2x8SqFAHY7e+ujMSiYiTwNguOyCpLANABfBiRVB4CAA4QIsHXuUYTDMk9fdgdmVBeAgD2VJoAYFOOZIoQAPDwwriLug4IyRNxuiQdl3SVT79IjBRMSlprjDlTa6jKUvgpxSV/QtIzkq5LtPVK2iYp/fLDPK6U9LRX4ivPouUXK3c6y4GTEeX7PpB6bQfoAvZF+JnENyGmdG7Y42CoWXKnsz6i0x8AwWrFfkLfi/DX5zMGyj8RAt4IdHacjDfv8XcJGQsoh701/SSr085B2Vdk1gXke40x07HOjDEzkt4KqPXWHpIEDLrf72BvjJWFqwPyTwr4PBiQr609JD9510o6LKmnQMC8GDbG3O7izkjqytDtzlMBzmeHpDuyVIwxg/Wt9kbVfuB0xETSCJL/aT4b0L0sT/J50fKDC2Bc2cPgFmPMkZw+r5e98ZqGU8aYB6VqHIgcUzYB90nKRYCkTZLuzJDPVWAVVoJfBeRb8wwDYJWkrQG1o7WHKhDwcUB+haR3iVgIOdwkaWVAp8iXZXGAXb39HDFxHsiqBOzxWbd7fgT4O8XPSYpcpFxMAFsiCAB7J7AfuBnowa76bgSex64YDwMrnc8HmL9+k8Rzrc63DsAy4LtIEkI4AvQ4vwtJmCTHsrpUALcSXhPE4hvmh0ONhFng/lbnmQnih0IMkpWwGRhodX5RAF5pIglzlXBBAXs/8FwTCJjFc//wggBwG3C0geQngHtbnUdDAC7CVsMvORIfA7YROdu3fDMUA+wqcL3sP0jXSbpGdtv+j6QJSeOShiV9IbvVbu4VujbaaGPJ4l9jR8LXiStKVwAAAABJRU5ErkJggg==",hM="/planora/assets/fire-DIL_6gfr.png",fM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyNJREFUeJzt28vLVVUYx/GFGXmhKERoEl0cSFHUoMCiUZdZNqyEGliNymjWRYIapUbDKCQaZFHiQOwi5L8gDmygIs1CXwixFC9lGp8Ga++0zXk9l/3ss/b7vuc7OaP9nN9v3fZaz3p2SjNmzJixwMAyfFtaRzHwpMz6trGWRQgqwObG79IB63C5GgFncVtpTVOjmvv7/Z/PS+uaGthhMG+U1tYpWIWv5zFf8zGWl9YaCm7Gmzg5xHzNL3gZK0prbwXuxje4MKLxJmfwBdYO+6++vgZPpJR2p5T2p5T+HvPZCyml76rnTwfrmgysxSMTPnsHPsU/Q3r9L3w4Sq9PHXyAwy1jPFMN7UHM4dEoveHgeCX0gZZxHselhvlzuD9KazjYcI3YHQHx3m00wIsROjsDn1wj9gRuaBlvRTXk4Sj6upD/J/ZUo8eeDoj7fhXrlQidnSFvSprsC4i7Dhdxa4TOTsByHBvQAFfaLoZV/BcidHYGtgwwX3OgtL5OwT3yWf16vFpaZydgNQ4NMQ/n8WBpvaHgRvwwgvmak7irtO4Qqp7/cQzzNXN4qLT+VuA+/DyB+Zoz2FTax9jImZr35HdyBHsshCmBNXhH3tpG8yd2CtgrhIKbsBG7TJ6pGZcjeBu3lzS+puqR36dkehCX5XR4+Jm/vyepvmGpToFByNPiLfzagemL+Eyfszw1WImt4kbEbtxZ2tfY4F4cbmH8DzxX2kcr5E3RpFvhxXEokpMg349hfvEchmqqkXBwBPPn9G23F4XREiKLu7oDr13H/E+l9XWOvB4cHWD+ioB3PJ6P0Nkp2DygAfYGxO1/Wjyl2cVISqmTq7FV+K2K1++rsZQ6uRzd2hhRL0Xo7BRx1+NPuFojWNP//YSYAomN5t9bzOGxKL3hyCUyD0/47KglMpewTR9LZMZFvmB5Vs4SNytChnEeX+IpfV8g58PVMrlJ0+0jl8n1GtwiF0qOmn6vCyVXltYeipx52jXE/EcWW6lsE2yfx/zrpbVNBblcvpl12lla11SRcw1L84OJGnxVNcD20lqKIPCjqQWJpf7Z3IwZM8L4F2AlBqcMAYcDAAAAAElFTkSuQmCC";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cg=function(s,e){return cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},cg(s,e)};function dM(s,e){cg(s,e);function n(){this.constructor=s}s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mM=100,gM=100,zT=50,hg=50,fg=50;function HT(s){var e=s.className,n=s.counterClockwise,r=s.dashRatio,o=s.pathRadius,u=s.strokeWidth,h=s.style;return P.createElement("path",{className:e,style:Object.assign({},h,yM({pathRadius:o,dashRatio:r,counterClockwise:n})),d:pM({pathRadius:o,counterClockwise:n}),strokeWidth:u,fillOpacity:0})}function pM(s){var e=s.pathRadius,n=s.counterClockwise,r=e,o=n?1:0;return`
      M `+hg+","+fg+`
      m 0,-`+r+`
      a `+r+","+r+" "+o+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+o+" 1 1 0,-"+2*r+`
    `}function yM(s){var e=s.counterClockwise,n=s.dashRatio,r=s.pathRadius,o=Math.PI*2*r,u=(1-n)*o;return{strokeDasharray:o+"px "+o+"px",strokeDashoffset:(e?-u:u)+"px"}}var _M=(function(s){dM(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return zT-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,r=n.value,o=n.minValue,u=n.maxValue,h=Math.min(Math.max(r,o),u);return(h-o)/(u-o)},e.prototype.render=function(){var n=this.props,r=n.circleRatio,o=n.className,u=n.classes,h=n.counterClockwise,m=n.styles,g=n.strokeWidth,p=n.text,T=this.getPathRadius(),A=this.getPathRatio();return P.createElement("svg",{className:u.root+" "+o,style:m.root,viewBox:"0 0 "+mM+" "+gM,"data-test-id":"CircularProgressbar"},this.props.background?P.createElement("circle",{className:u.background,style:m.background,cx:hg,cy:fg,r:zT}):null,P.createElement(HT,{className:u.trail,counterClockwise:h,dashRatio:r,pathRadius:T,strokeWidth:g,style:m.trail}),P.createElement(HT,{className:u.path,counterClockwise:h,dashRatio:A*r,pathRadius:T,strokeWidth:g,style:m.path}),p?P.createElement("text",{className:u.text,style:m.text,x:hg,y:fg},p):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e})(P.Component);const vM=({progress:s})=>E.jsx("div",{style:{width:200,height:200},children:E.jsx(_M,{value:s,text:`${s}%`})});function EM(){const[s,e]=P.useState(0);return P.useEffect(()=>{const n="site_streak",r="last_visit",o=Number(localStorage.getItem(n)||0),u=localStorage.getItem(r),h=new Date;h.setHours(0,0,0,0);let m=o;if(u){const g=new Date(u);g.setHours(0,0,0,0);const p=(h-g)/(1e3*60*60*24);p===1?m=o+1:p>1&&(m=1)}else m=1;localStorage.setItem(n,m),localStorage.setItem(r,h.toISOString()),e(m)},[]),E.jsxs("div",{children:[E.jsxs("p",{children:[E.jsx("strong",{children:s})," ",s===1?"day":"days"]}),E.jsxs("p",{children:["You are ",s,"% better!!!"]})]})}function TM({tasks:s}){return E.jsxs("div",{className:"upcoming-tasks",children:[E.jsx("h4",{children:"Upcoming Schedules"}),E.jsx("ul",{children:s&&s.length>0?s.map((e,n)=>E.jsx("li",{children:e},n)):E.jsx("li",{children:"No upcoming tasks"})})]})}const AM=()=>{const[s,e]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(!0);return P.useEffect(()=>{const h=FA(bn,async m=>{if(m){r(m.email);try{const g=vo(sa,"users",m.uid),p=await qh(g);if(p.exists()){const T=p.data();e(T.fullName||"User")}else{const T=m.email.split("@")[0];e(T.charAt(0).toUpperCase()+T.slice(1))}}catch(g){console.error("Error fetching user name:",g),e("User")}finally{u(!1)}}else e(""),r(""),u(!1)});return()=>h()},[]),{userName:s,userEmail:n,loading:o}};function SM(){const s=mr(),{userName:e,loading:n}=AM(),[r,o]=P.useState([]),[u,h]=P.useState(!0),[m,g]=P.useState(new Date);P.useEffect(()=>{p()},[]);const p=async()=>{h(!0);try{const T=await FS();if(T.success&&T.schedules.length>0){const A=T.schedules.slice(0,3).map(R=>R.goalTitle);o(A)}else o([])}catch(T){console.error("Error fetching schedules:",T),o([])}finally{h(!1)}};return E.jsxs("div",{className:"dashboard-bg",children:[E.jsxs("aside",{className:"sidebar",children:[E.jsxs("div",{className:"logo-container",children:[E.jsx("img",{id:"app_logo",src:wu,alt:"Logo"}),E.jsx("div",{className:"logo",children:"Planora"})]}),E.jsxs("nav",{children:[E.jsxs("a",{href:"/dashboard",className:"active",children:[E.jsx("img",{src:cM,alt:"dashboard",id:"iconDashboard"}),"Dashboard"]}),E.jsxs("a",{href:"/my-schedules",children:[E.jsx("img",{src:lM,alt:"calendar",id:"iconcalendar"}),"My Schedule"]}),E.jsxs("a",{href:"/plan-generator",children:[E.jsx("img",{src:fM,alt:"ai",id:"iconai"}),"AI Generator"]}),E.jsxs("a",{href:"/settings",children:[E.jsx("img",{src:uM,alt:"settings",id:"iconsettings"}),"Settings"]})]})]}),E.jsxs("main",{className:"main-content",children:[E.jsx("h1",{children:n?"Welcome back!":`Welcome back, ${e}!`}),E.jsx("div",{className:"date-text",children:E.jsx(oM,{})}),E.jsxs("div",{className:"top-cards",children:[E.jsx("div",{className:"card",children:u?E.jsx("div",{style:{textAlign:"center",padding:"20px"},children:E.jsx("div",{style:{width:"30px",height:"30px",border:"3px solid rgba(79, 124, 255, 0.2)",borderRadius:"50%",borderTopColor:"#4f7cff",animation:"spin 0.8s linear infinite",margin:"0 auto"}})}):r.length>0?E.jsx(TM,{tasks:r}):E.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[E.jsx("h3",{style:{marginBottom:"10px",fontSize:"18px"},children:"No Schedules Yet"}),E.jsx("p",{style:{color:"#a8b1d6",fontSize:"14px",marginBottom:"15px"},children:"Create your first AI-powered study schedule!"}),E.jsx("button",{onClick:()=>s("/plan-generator"),style:{padding:"10px 20px",background:"linear-gradient(135deg, #5c8aff 0%, #4f7cff 100%)",border:"none",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Generate Schedule"})]})}),E.jsxs("div",{className:"card",children:[E.jsxs("div",{className:"card-title",children:["Study Streak ",E.jsx("img",{src:hM,alt:"fire",id:"fire_logo"})]}),E.jsx("div",{className:"card-stat",children:E.jsx(EM,{})})]})]}),E.jsxs("div",{className:"main-grid",children:[E.jsxs("div",{className:"overview-card",children:[E.jsx("div",{className:"section-title",children:"Progress Overview"}),E.jsx("div",{className:"progress-circle-wrap",children:E.jsx(vM,{progress:75})})]}),E.jsx("div",{children:E.jsxs("div",{className:"quick-actions-card",children:[E.jsx("div",{className:"section-title",children:"Quick Actions"}),E.jsx("button",{className:"primary-btn",onClick:()=>s("/plan-generator"),children:"Plan My Week with AI"})]})})]})]})]})}function bM(){return E.jsxs(A1,{children:[E.jsx(Ii,{path:"/",element:E.jsx(km,{})}),E.jsx(Ii,{path:"/login",element:E.jsx(km,{})}),E.jsx(Ii,{path:"/signup",element:E.jsx(km,{})}),E.jsx(Ii,{path:"/plan-generator",element:E.jsx(Ul,{children:E.jsx(iM,{})})}),E.jsx(Ii,{path:"/my-schedules",element:E.jsx(Ul,{children:E.jsx(rM,{})})}),E.jsx(Ii,{path:"/settings",element:E.jsx(Ul,{children:E.jsx(sM,{})})}),E.jsx(Ii,{path:"/dashboard",element:E.jsx(Ul,{children:E.jsx(SM,{})})}),E.jsx(Ii,{path:"/schedule/:id",element:E.jsx(Ul,{children:E.jsx(aM,{})})}),E.jsx(Ii,{path:"*",element:E.jsx(ZT,{to:"/",replace:!0})})]})}xw.createRoot(document.getElementById("root")).render(E.jsx(P.StrictMode,{children:E.jsx(G1,{children:E.jsx(bM,{})})}));
